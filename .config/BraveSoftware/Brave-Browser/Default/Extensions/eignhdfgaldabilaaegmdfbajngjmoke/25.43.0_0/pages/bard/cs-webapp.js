"use strict";(()=>{var n=window,a=n.location,r=document,i=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),d=i.startsWith("safari-web-extension://"),s=!d&&i.startsWith("moz-extension://");function t(e,t,o){n.parent.postMessage({bm_method:e,bm_request:o,bm_value:t},i)}var e,o,c,m,u=-1!==a.search.indexOf("bm_udm=1");function l(){r.body.classList.toggle("dark-theme",u)}function b(){var e=r.querySelector('[data-test-id="mode-text"]');t("bardAdvancedState",Boolean(e)),setTimeout(b,300)}e=function(e,t){return"bard"===t&&("https://bard.google.com"===e||"https://gemini.google.com"===e)},o=function(){var e,o;e=l,"complete"===r.readyState||"loaded"===r.readyState||"interactive"===r.readyState?e():r.addEventListener("DOMContentLoaded",e),b(),o=function(e){"bardToggleAdvanced"===e&&(r.querySelector("bard-logo").click(),setTimeout(function(){var e=r.querySelector('mat-action-list .bard-mode-list-button:not(:has(.check-icon.item-icon),[aria-disabled="true"])');e?e.click():t("bardOpenBuyAdvanced")},300))},n.addEventListener("message",function(e){var t;if(d){if(!e.origin.toLowerCase().startsWith("safari-web-extension://"))return}else if(!(e.origin===i))return;(e.isTrusted||s)&&e.source===n.parent&&(t=(e=e.data||{}).bm_method)&&o(t,e.bm_value,e.bm_request)})},(e=>{var t,o;return!(n.top===n.self||r.documentElement instanceof SVGSVGElement)&&("object"!=typeof(t=a.ancestorOrigins)?1:(o=d?i.toLowerCase():i,1===t.length?t[0]===o:e&&2===t.length&&t[1]===o&&!t[0].endsWith(".google.com")))})(c)&&(m=(m=(c=a.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&m[1],e(origin,m,c))&&(m&&(r.documentElement.dataset.bmCid=m),o())})();