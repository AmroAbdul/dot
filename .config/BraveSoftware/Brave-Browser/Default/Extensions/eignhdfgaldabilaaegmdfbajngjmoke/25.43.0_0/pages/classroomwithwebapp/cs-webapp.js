"use strict";(()=>{var i=window,r=i.location,s=document,a=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),n=a.startsWith("safari-web-extension://");function l(e,t,o){i.parent.postMessage({bm_method:e,bm_request:o,bm_value:t},a)}function o(e){var t="A";if("closest"in Element.prototype)return e.closest(t);for(var o=e;o;){if(o.tagName===t)return o;o=o.parentNode}return null}n||a.startsWith("moz-extension://");var e,t,c,p,d="/",m=r.pathname,h=(m.startsWith("/u/")&&(d=m.slice(0,5)),"Classes"),u=!1,f="allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts";function g(){for(var e=s.title,t=r.pathname,e=(h===e&&m===t||(h=e,l("classroomwithwebappViewData",{pathname:(m=t).replace(d,""),title:h,mainServicePath:d})),s.querySelector('body > div > nav[role="navigation"] > div:last-child > div:only-child > div:first-child + div:last-child')),o=(e&&(t="block"===i.getComputedStyle(e.parentNode.parentNode).display)!==u&&l("classroomwithwebappLoadingState",u=t),s.querySelectorAll("iframe")),a=0;a<o.length;a++){var n=o[a];n.sandbox+""!==f&&(n.sandbox=f)}setTimeout(g,100)}e=function(e,t){return"classroomwithwebapp"===t&&"https://classroom.google.com"===e},t=function(){g(),s.addEventListener("click",function(e){var e=o(e.target),t=e&&e.href;t&&"https://drive.google.com"===e.origin&&l("classroomwithwebappOpenDriveFolder",t.split("/folders/")[1].split("/")[0].split("?")[0])})},(e=>{var t,o;return!(i.top===i.self||s.documentElement instanceof SVGSVGElement)&&("object"!=typeof(t=r.ancestorOrigins)?1:(o=n?a.toLowerCase():a,1===t.length?t[0]===o:e&&2===t.length&&t[1]===o&&!t[0].endsWith(".google.com")))})(c)&&(p=(p=(c=r.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&p[1],e(origin,p,c))&&(p&&(s.documentElement.dataset.bmCid=p),t())})();