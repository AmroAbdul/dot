"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var c;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(c="Object"===(c={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:c)||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var c=0,n=Array(a);c<a;c++)n[c]=e[c];return n}function _iterableToArrayLimit(e,a){var c=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var n,t,r,i,s=[],o=!0,l=!1;try{if(r=(c=c.call(e)).next,0===a){if(Object(c)!==c)return;o=!1}else for(;!(o=(n=r.call(c)).done)&&(s.push(n.value),s.length!==a);o=!0);}catch(e){l=!0,t=e}finally{try{if(!o&&null!=c.return&&(i=c.return(),Object(i)!==i))return}finally{if(l)throw t}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}cjce.registerTemplate("bm-p-passwords",function(e,r){var c,a=!cjBasics.webRequest.getWrifSupported(),n="https://passwords.google.com",t=n+"/",i=("0"!==r.account.authuser&&(t+="u/"+r.account.authuser+"/"),r.account.pageId&&(t+="b/"+r.account.pageId+"/"),cjBasics.uniqueId.generate()),s={bm_iid:i,bm_cid:"passwords",bm_cst:"2",bm_wiz:"1",hl:cjBasics.lang.getCurrent()};function o(e){var a=t,e=(e&&"home"!==e&&(a+=e),cjBasics.urlParams.attach(a,s));c.cjceSendFrameCommand({method:"bmCstUpdateState",value:e},n)}var l=cjce.createElement("bm-ogb",{loading:!0,onBack:function(){c.cjceSendFrameCommand({method:"bmCstNavigateBack"},n)},drawer:!0,serviceIcon:"password_manager",serviceLabel:cjBasics.lang.i18n("cj_i18n_07071","Password Manager"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:r,onNewTab:function(){c.cjceGetCleanUrl(n).then(function(e){e=e||t;r.openTab(e)})}}),d=(e.appendChild(l),cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00085","Search"),iconName:"__mdi:search",onClick:function(){o("search")}})),u=(l.cjceAppendChild(d),[{id:"home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),iconName:"__mdi:home",newTabUrl:""},{id:"checkup",label:cjBasics.lang.i18n("cj_i18n_07072","Password checkup"),iconName:"__mdi:verified_user",newTabUrl:"checkup/start"},{id:"options",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),iconName:"__mdi:settings",newTabUrl:"options"},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{id:"account",iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_01506","Account"),shortcutId:"79"}]);function m(e,a){a=a.newTabUrl||cjgFrontend.urls.getShortcutUrl(a.shortcutId,r.account);r.openTab(a)}function b(e){l.cjceSetBackState("home"!==e),p.cjceSelectedId=e,d.hidden="search"===e;e=(e=>e.startsWith("search")?cjBasics.lang.i18n("cj_i18n_00085","Search"):e.startsWith("checkup")?cjBasics.lang.i18n("cj_i18n_07072","Password checkup"):e.startsWith("settings")?cjBasics.lang.i18n("cj_i18n_00298","Settings"):cjBasics.lang.i18n("cj_i18n_00291","Home"))(e);l.cjceSetPageLabel(e)}var p=cjce.createElement("bm-navlist",{selectedId:"passwords",items:u,onClick:function(e){"account"===e?r.pageManager.navigate(e):o(e)},onNewTab:m});l.cjceDrawerEl.appendChild(p),a?(a=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),u=cjce.createElement("bm-navlist",{items:u,onClick:m,onNewTab:m}),a.appendChild(u),e.appendChild(a)):(cjBasics.webRequest.handleIframeHeaders([n+"/*bm_iid="+i+"*"],{disableOgs:n,handleFirefoxInject:!0,handleSecVariables:!0}),cjBasics.webRequest.catchAndStop(["https://accounts.google.com/signin/*passwords.google.com*"],function(e){r.openTab(e)}),c=cjce.createElement("bm-iframe",{src:cjBasics.urlParams.attach(t,s),solid:"#fff",onLoad:function(){l.cjceSetLoading(!1)},onBmMessage:function(e,a){var c,n,t;"bmCstOpenUrl"===e?(t=(n=_slicedToArray(a,3))[0],c=n[1],n=n[2],t=cjBasics.cleanBmUrl(t),r.openTab(t,c,n)):"passwordsUpdatePath"===e&&b(a.split("/")[1]||"home")}}),e.appendChild(c))});