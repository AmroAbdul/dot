"use strict";(()=>{var a,e,t,n,o,s=window,r=s.location,i=document,m=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),c=m.startsWith("safari-web-extension://");function h(){var e,t,n,o=r.search;a!==o&&(e=new URLSearchParams(o).get("p"),t="lensUpdateView",s.parent.postMessage({bm_method:t,bm_request:n,bm_value:e},m),a=o),setTimeout(h,100)}c||m.startsWith("moz-extension://"),e=function(e,t){var n=r.pathname;return"lens"!==t&&"/search"!==n&&"/v3/upload"!==n||"https://lens.google.com"===e},t=function(){h()},(e=>{var t,n;return!(s.top===s.self||i.documentElement instanceof SVGSVGElement)&&("object"!=typeof(t=r.ancestorOrigins)?1:(n=c?m.toLowerCase():m,1===t.length?t[0]===n:e&&2===t.length&&t[1]===n&&!t[0].endsWith(".google.com")))})(n)&&(o=(o=(n=r.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&o[1],e(origin,o,n))&&(o&&(i.documentElement.dataset.bmCid=o),t())})();