"use strict";(()=>{var e,t,n,r,a=window,o=a.location,s=document,i=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),c=i.startsWith("safari-web-extension://");function m(e){var t="A";if("closest"in Element.prototype)return e.closest(t);for(var n=e;n;){if(n.tagName===t)return n;n=n.parentNode}return null}function d(r){s.addEventListener("click",r,!0),s.addEventListener("auxclick",function(e){1===e.button&&r(e)},!0),s.addEventListener("keyup",function(e){var t,n;((n=(t=e).key)?"Enter"===n:13===(t.which||t.keyCode))&&r(e)},!0)}c||i.startsWith("moz-extension://"),e=function(e,t){return"reserve"===t&&"https://www.google.com"===e&&o.pathname.startsWith("/maps/reserve")},t=function(){var e,t,n=o.pathname.split("maps/reserve/")[1]||"home",r=(e="reserveUpdateView",a.parent.postMessage({bm_method:e,bm_request:t,bm_value:n},i),o.search);d(function(e){var t,e=m(e.target);e&&(-1===(t=e.pathname).indexOf("/maps/reserve/")||-1!==t.indexOf("/maps/reserve/merchant")?e.target="_blank":-1===(t=e.search).indexOf("bm_")&&(e.search=r+t.replace("?","&")))})},(e=>{var t,n;return!(a.top===a.self||s.documentElement instanceof SVGSVGElement)&&("object"!=typeof(t=o.ancestorOrigins)?1:(n=c?i.toLowerCase():i,1===t.length?t[0]===n:e&&2===t.length&&t[1]===n&&!t[0].endsWith(".google.com")))})(n)&&(r=(r=(n=o.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&r[1],e(origin,r,n))&&(r&&(s.documentElement.dataset.bmCid=r),t())})();