"use strict";(()=>{var o,a,e,t,n,s,i=window,r=i.location,m=document,d=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),c=d.startsWith("safari-web-extension://"),u=!c&&d.startsWith("moz-extension://");function f(){m.body&&m.body.classList.toggle("gf-dark-theme",o);var e,t,n=m.title;a!==n&&(a=n,e="fontsViewData",n={pathname:r.pathname.replace(/\/u\/\d\//,"/"),title:n.split(" - Google")[0]},i.parent.postMessage({bm_method:e,bm_request:t,bm_value:n},d)),setTimeout(f,100)}e=function(e,t){return"fonts"===t&&"https://fonts.google.com"===e},t=function(){var n;o=-1!==r.search.indexOf("bm_udm=1"),f(),n=function(e,t){"fontsUpdateDarkMode"===e&&(o=t)},i.addEventListener("message",function(e){var t;if(c){if(!e.origin.toLowerCase().startsWith("safari-web-extension://"))return}else if(!(e.origin===d))return;(e.isTrusted||u)&&e.source===i.parent&&(t=(e=e.data||{}).bm_method)&&n(t,e.bm_value,e.bm_request)})},(e=>{var t,n;return!(i.top===i.self||m.documentElement instanceof SVGSVGElement)&&("object"!=typeof(t=r.ancestorOrigins)?1:(n=c?d.toLowerCase():d,1===t.length?t[0]===n:e&&2===t.length&&t[1]===n&&!t[0].endsWith(".google.com")))})(n)&&(s=(s=(n=r.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&s[1],e(origin,s,n))&&(s&&(m.documentElement.dataset.bmCid=s),t())})();