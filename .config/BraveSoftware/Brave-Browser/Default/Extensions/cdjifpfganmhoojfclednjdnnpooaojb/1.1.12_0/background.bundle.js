(()=>{"use strict";let t,e=new class{prompt="";constructor(){t=this}getInstance(){return this}};chrome.runtime.onInstalled.addListener((function(t){if("install"===t.reason)chrome.tabs.create({url:"https://glasp.co/welcome/transcript?ref=chatgpt_for_chrome"});else if("update"===t.reason){if(chrome.runtime.getManifest().version===t.previousVersion)return;chrome.tabs.create({url:"https://glasp.co/extension-update/chatgpt-for-chrome?ref=chatgpt_for_chrome"})}})),function(){let t=null;chrome.action.onClicked.addListener((()=>{chrome.system.display.getInfo((e=>{const r=e[0],o=r.bounds.height,n=r.bounds.width;null!==t&&chrome.windows.remove(t,(()=>chrome.runtime.lastError)),chrome.windows.create({url:"https://chat.openai.com/",type:"popup",width:500,height:o,left:n-500,top:0},(e=>{t=e.id}))}))}))}(),chrome.runtime.onMessage.addListener((function(t,r,o){if(!t.action)return!0;switch(t.action){case"openOptions":(()=>{const t=chrome.runtime.getURL("options/options.html");chrome.tabs.create({url:t}),o()})();break;case"get_prompt":o({prompt:e.prompt}),e.prompt="";break;case"set_prompt":e.prompt=t.prompt,o();break;default:o()}return!0}))})();