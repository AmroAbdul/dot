import{R as Y,r as Q,j as N,c as X}from"./client-64cc3330.js";import{S as h,g as J,P as F,U as Z}from"./index-1a12ff06.js";import{L as ee}from"./hook-90290a85.js";import{g as te,i as ne}from"./index-6400eb41.js";import{C as oe}from"./index-8e3fd625.js";import{u as ue,F as de}from"./index-2469c0ce.js";import{u as pe}from"./useUrlChange-bb39451e.js";import{u as fe}from"./useWindowSize-35318f38.js";import{u as ye}from"./useTranslation-b0b08d2e.js";import{A as re}from"./index-5fbb8478.js";import{T as ie}from"./themeContext-73b6440c.js";import{q as he,a as Se}from"./backend-8962bc7f.js";import{c as le}from"./index-75aa899c.js";import{v as se}from"./v4-4a60fe23.js";import{P as _e}from"./PersistQueryClientProvider-dcb1f9d7.js";import"./index-a295f481.js";import"./purify.es-8e338605.js";import"./index-876a044c.js";import"./button-5c866ab2.js";import"./utils-01642ffa.js";import"./index-82863451.js";import"./motion-064cf623.js";import"./createLucideIcon-cc1e4b70.js";import"./index-eb167f60.js";import"./analytics-4a9d4e40.js";import"./useAsyncWithPromise-a02bc426.js";import"./useSSE-a5deda20.js";import"./languageLogoMap-4245085e.js";import"./createReactComponent-3abc0bad.js";import"./index-5f29b16d.js";import"./foyerLogo-c0f0d78f.js";import"./index-958f621a.js";import"./useSharedUserSettings-15caf5a1.js";import"./useOnClickOutside-6cd227e1.js";import"./useUserSettings-eb91a32a.js";import"./fuzzysort-6a5075ee.js";import"./IconX-f6f2534f.js";import"./IconCheck-c9ab9461.js";import"./IconSend-7465868f.js";import"./IconReload-76a665f0.js";import"./IconExclamationCircle-954ba15b.js";import"./IconChevronRight-3a7ad62a.js";import"./IconLanguage-d550ce4a.js";import"./IconSettings-b145c3ad.js";import"./IconBulb-01a33b5a.js";import"./IconHeadset-4d4a643f.js";import"./useMedia-691d1918.js";const be="I want to connect with this person on Linkedin. Can you write a 300 characters note requesting to connect, in a professional tone specifically talking about their experience or education?";function xe(){const t=document.createElement("div");t.className="artdeco-loader artdeco-loader--small artdeco-button__icon",t.style.width="20px",t.style.height="20px",t.style.display="inline-block",t.style.verticalAlign="middle";for(let n=0;n<12;n+=1){const e=document.createElement("span");e.className="artdeco-loader__bars",t.appendChild(e)}return t}const ce=(t,n)=>{var e;if(t.nodeType===Node.TEXT_NODE)return t!=null&&t.wholeText.toLocaleLowerCase().includes(n.toLocaleLowerCase())?!0:(e=t.nodeValue)==null?void 0:e.toLocaleLowerCase().includes(n);if(t.nodeType===Node.ELEMENT_NODE){for(let l=0;l<t.childNodes.length;l++)if(ce(t.childNodes[l],n))return!0}return!1};function ae(t){var a,m;const n=t.closest(".scaffold-layout__main");let e;const l=n.querySelector(".distance-badge");l&&(e=((m=(a=l.querySelector("span.dist-value"))==null?void 0:a.textContent)==null?void 0:m.trim())||null);const d=(y,o)=>{if(!y)return null;const f=y.querySelectorAll("button, [role='button']");for(const c of f)if(ce(c,o))return c;return null},s=n.querySelector("section .pv-top-card-v2-ctas");if(s&&(e==="2nd"||e==="3rd")){const y=s.querySelector('li-icon[type="connect"]');if(y){const i=y.closest("button");if(i)return i}const o=s.querySelector('svg[data-test-icon="connect-small"]');if(o){const i=o.closest("button");if(i)return i}const f=s.querySelector("artdeco-dropdown__content .pvs-overflow-actions-dropdown__content");if(f){const i=f.querySelector('li-icon[type="connect"]');if(i){const b=i.closest('div[role="button"]');if(b)return b}const p=s.querySelector('svg[data-test-icon="connect-medium"]');if(p){const b=p.closest('div[role="button"]');if(b)return b}}const c=d(s,"Connect");return c||null}}function ge(t){const{t:n}=ye(),{shadowWrapper:e}=t,[l]=fe(),d=pe(),[s,a]=Y.useState(null),m=Y.useRef(null),{[s]:y}=ue(s,"linkedin");async function o(){m.current=ae(e),m.current.click(),await new Promise(i=>setTimeout(i,0));const f=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__actionbar');let c=null;if(f&&(c=f.querySelector('button[aria-label="Add a note"]'),c)){try{c.style.display="none";const i=xe();f.prepend(i);const p=1e3+Math.random()*1e3;await new Promise(b=>setTimeout(b,p)),c.click(),i.remove()}catch{c.style.display="block"}await new Promise(i=>setTimeout(i,800)),await y.setSharedState({prompt:be,status:"loading"})}}return Y.useEffect(()=>{try{e&&(l<=991?(e.parentElement.style.flexWrap="wrap",e.style.marginTop="8px"):(e.parentElement.style.flexWrap="nowrap",e.style.marginTop="0px"))}catch{}},[e,l]),Q.useEffect(()=>{var c;const f=e.closest("section.pv-top-card");if(f){const i=((c=f.getAttribute("data-member-id"))==null?void 0:c.trim())||null;i&&a(i)}},[e,d]),N.jsx("button",{className:"center-with-flex c-transition-colors bg-cornblue-500  text-cornblue-100 hover:bg-cornblue-600 dark:bg-cornblue-600 dark:hover:bg-cornblue-500 whitespace-nowrap rounded-full px-4 py-2 text-base font-semibold leading-none hover:text-zinc-200",type:"button",onClick:o,children:N.jsxs("span",{className:"align-middle",children:["âœ¨ ",n("external_mount.pro_connect")]})})}function me(t=!1){var m,y;const n=document.getElementsByClassName("share-box");n.length>0&&(n[0].querySelector(".share-creation-state__bottom merlin-component")||V(o=>n[0].querySelector(".share-creation-state__bottom").prepend(o),h.LINKEDIN.POST));const e=document.querySelectorAll(".msg-convo-wrapper .msg-form, .msg-overlay-conversation-bubble__content-wrapper .msg-form");if(e.length>0)for(let o=0;o<e.length;o++)t&&e[o].querySelector("merlin-component")&&e[o].querySelector("merlin-component").remove(),e[o].querySelector("merlin-component")||V(f=>e[o].insertBefore(f,e[o].querySelector("footer")),h.LINKEDIN.MESSAGE);const l=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__content'),d=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__content .relative');l&&d&&(l.querySelector("merlin-component")||V(o=>{l.querySelector(".relative").insertAdjacentElement("afterend",o)},h.LINKEDIN.INVITE));const s=document.querySelector(".scaffold-layout__main");if(s){const o=s.querySelector("section .pv-top-card-v2-ctas");if(o&&o){const c=s.querySelector(".distance-badge");if(c){const i=((y=(m=c.querySelector("span.dist-value"))==null?void 0:m.textContent)==null?void 0:y.trim())||null;if(i)if(i==="2nd"||i==="3rd"){const p=o,b=ae(p);p&&!p.querySelector("merlin-component")&&b&&qe(p,i)}else{const p=o.querySelector("merlin-component");p&&p.remove()}}}}const a=document.querySelectorAll(".feed-shared-update-v2__comments-container .comments-comment-box, .feed-shared-update-v2__comments-container .comments-comment-box--cr");if(a.length>0)for(let o=0;o<a.length;o++){const f=a[o].closest(".comments-comment-item__nested-items , .comments-comments-list");!a[o].parentNode.querySelector("merlin-component")&&a[o].querySelector('.comments-comment-box__form div.ql-editor[role="textbox"]')&&V(c=>a[o].querySelector("form").querySelector(".comments-comment-texteditor").appendChild(c),f?h.LINKEDIN.COMMENT_REPLY:h.LINKEDIN.COMMENT)}}me();const Ce=async()=>{const t=await te();if(t&&!t.fabStrip.linkedIn.visible)return;const n=await Ne();n.className==="share-box"&&!n.querySelector(".share-creation-state__bottom merlin-component")&&V(s=>n.querySelector(".share-creation-state__bottom").prepend(s),h.LINKEDIN.POST);let e=window.location.href;const l=new MutationObserver(ne(()=>{me(e!==window.location.href),e=window.location.href},300)),d={childList:!0,subtree:!0};l.observe(document.body,d)};function Ne(){return new Promise(t=>{const n=new MutationObserver(ne(()=>{const e=document.querySelector(".share-box, .feed-shared-update-v2__comments-container, .msg-convo-wrapper, [aria-labelledby='send-invite-modal'] .artdeco-modal__content, .msg-overlay-conversation-bubble__content-wrapper, .scaffold-layout__main .pv-top-card-v2-ctas");e&&(t(e),n.disconnect())},50));n.observe(document.body,{childList:!0,subtree:!0})})}async function V(t,n){var M,K,k,O,R;const e=document.createElement("merlin-component");e.id="merlin-fabStrip",e.className="merlin fabStrip";const l=e.attachShadow({mode:"open"}),d=document.createElement("style");d.textContent=`${le}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      margin: 0 0 5px 0;
      padding: 0;
      box-sizing: border-box;
      z-index: 1;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const s=document.createElement("div");s.id="reactAppRoot",s.className="reactAppRoot fabStrip "+se(),l.appendChild(d),l.appendChild(s),t(e);let a=null,m=null,y=null,o=null,f=null,c=null,i=null,p=null;const b=document.querySelector(".feed-identity-module__actor-meta .ember-view .t-bold");b&&(i=b.textContent);const z=document.querySelector(".identity-headline");z&&(p=z.textContent);let S;const L=document.querySelector(".global-nav__me-photo");L&&(S=L.getAttribute("alt"));const u={article:null,author:null,authorBio:null,text:null,user:S,userBio:p};if(n==h.LINKEDIN.COMMENT)try{c=e.closest("#fie-impression-container, .artdeco-card, .comments-comment-item__main-content, .replies-list comments-list, .feed-shared-update-detail-viewer__content"),c&&(o=c.querySelector(".update-components-actor__name"),f=c.querySelector(".update-components-actor__description"),m=c.querySelector(".feed-shared-update-v2__description-wrapper").querySelector('span[dir="ltr"]'),y=c.querySelector("article.update-components-article"),m||(m=c.querySelector('span[dir="ltr"]'))),o&&(u.author=o.textContent,f&&(u.authorBio=f.textContent),(i||S)&&(u.user=i||S),p&&(u.userBio=p)),m&&(u.text=m.textContent),y&&(u.article=y.textContent),a=u}catch{}let P=!1;if(n==h.LINKEDIN.COMMENT)try{const r=e.parentElement;r&&r.classList.contains("comments-comment-item__nested-items")&&(P=!0)}catch{}if(n==h.LINKEDIN.POST&&(a=Ie(e,i,p)),n==h.LINKEDIN.INVITE&&(a=we(),!a))return;if(n==h.LINKEDIN.COMMENT_REPLY){const r={article:null,author:null,authorBio:null,mainComment:null,mainCommentAuthor:null,replies:null,text:null,userBio:null,userName:null,userNameToReply:null};try{c=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list, #fie-impression-container, .feed-shared-update-v2"),c&&(m=c.querySelector(".feed-shared-update-v2__description-wrapper").querySelector('span[dir="ltr"]'),y=c.querySelector("article.update-components-article"),m||(m=c.querySelector('span[dir="ltr"]'))),m&&(r.text=m.textContent),y&&(r.article=y.textContent),(i||S)&&(r.userName=S||i),p&&(r.userBio=p);const _=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list, #fie-impression-container, .feed-shared-update-v2");if(_){const T=".update-components-actor__name",x=_.querySelector(T);if(x){const C=x.querySelector('span[aria-hidden="true"]');r.author=C==null?void 0:C.textContent,r.author||(r.author=x==null?void 0:x.textContent)}const D=".update-components-actor__description";_.querySelector(D)&&(r.authorBio=(M=_.querySelector(D))==null?void 0:M.textContent),i&&(r.userName=i),p&&(r.userBio=p);const B="article";if(e.closest(B)){const C=e.closest(B),E=C.querySelectorAll(".comments-comment-item,article.comments-comment-entity--reply");C.querySelector("comments-comment-item-content-body,.comments-thread-item,.comments-comment-item__main-content")&&(r.mainComment=C.querySelector(".comments-comment-item-content-body,.comments-comment-item__main-content").textContent);const W=C.querySelector(".comments-post-meta__name-text,h3.comments-comment-meta__description .comments-comment-meta__description-title");if(W){const g=W.querySelector('span[aria-hidden="true"]');g&&(r.mainCommentAuthor=g.textContent,r.mainCommentAuthor||(r.mainCommentAuthor=W.textContent))}const U=[];if(E.length>0&&E.forEach(g=>{const A={author:null,content:null},G=g.querySelector('.comments-post-meta__name-text,h3.comments-comment-meta__description span[aria-hidden="true"]');G&&(A.author=G.textContent);const $=g.querySelector(".comments-comment-item__main-content,div.comments-thread-entity span.comments-comment-item__main-content");$&&(A.content=$.textContent),U.push(A)}),r.replies=U,r.userNameToReply||(r.userNameToReply=(K=e.closest("form a.ql-mention"))==null?void 0:K.textContent),!r.userNameToReply){const g=(k=e.closest("form"))==null?void 0:k.querySelectorAll("a.ql-mention");g&&g.forEach(A=>{A.textContent&&(r.userNameToReply+=A.textContent+" ")})}}}a=r}catch{}}let q,I=null;if(n===h.LINKEDIN.MESSAGE){const r=e.parentElement.parentElement.parentElement,_=e.closest(".msg-convo-wrapper");let T;const x=document.querySelector(".global-nav__me-photo");x&&(T=x.getAttribute("alt")),q=[];try{if(I=((O=_.querySelector(".msg-overlay-bubble-header h2"))==null?void 0:O.textContent)||null,I||(I=((R=r.querySelector(".msg-thread__link-to-profile h2"))==null?void 0:R.textContent)||null),!I){const D=r.querySelectorAll(".msg-connections-typeahead .artdeco-pill__text");D&&D.length>0&&(I=D.length===1?D[0].textContent:()=>{let B="";return D.forEach(C=>{B+=`${C.textContent} `}),`Multiple Recipients: ${B.trim()}`})}}catch{}if(r.querySelectorAll(".msg-s-message-list__event").length>=1){const D=r.querySelectorAll(".msg-s-message-list__event");let B=null,C=null;D.forEach(E=>{var $,H;const W=(($=E==null?void 0:E.querySelector(".msg-s-message-group__name"))==null?void 0:$.textContent.replace(/\s\s+/g,""))||null;W&&(B=W);const U=((H=E==null?void 0:E.querySelector(".msg-s-message-group__timestamp"))==null?void 0:H.textContent.replace(/[^\w:]/g,""))||null;U&&(C=U);let g=null;const A=E==null?void 0:E.querySelector(".msg-s-event__content");A!=null&&A.querySelector("p")?g=A.querySelector("p").textContent:g=h.LINKEDIN.SHARED_POST_CARD,g=g.replaceAll(/\n/g," ");const G={fullName:B,messageContent:g,timeStamp:C};q.push(G)})}a={messages:q,recepientName:I?I.replaceAll(/\s\s+/g," "):null,user:T}}let w;n===h.LINKEDIN.COMMENT?w=F.LINKEDIN_COMMENT:n===h.LINKEDIN.POST?w=F.LINKEDIN_POST:n===h.LINKEDIN.MESSAGE?q.length===0?w=F.LINKEDIN_MESSAGE_INTRO:w=F.LINKEDIN_MESSAGE:n===h.LINKEDIN.INVITE?w=F.LINKEDIN_INVITE:n===h.LINKEDIN.COMMENT_REPLY&&(w=F.LINKEDIN_COMMENT_REPLY),X(s).render(N.jsx(ve,{mountOn:n,editor:e,contextData:a,promptsFor:w,shouldMount:n!=h.LINKEDIN.COMMENT||n==h.LINKEDIN.COMMENT&&a&&!P}))}async function qe(t,n){const e=document.createElement("merlin-component");e.id="merlin-fabStrip",e.className="merlin fabStrip merlin-external";const l=e.attachShadow({mode:"open"}),d=document.createElement("style");d.textContent=`${le}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      padding: 0;
      box-sizing: border-box;
      z-index: 10;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const s=document.createElement("div");s.id="reactAppRoot",s.className="reactAppRoot fabStrip "+se(),l.appendChild(d),l.appendChild(s),t.appendChild(e);const a=X(s);(await te()).fabStrip.linkedIn.inviteFeature&&a.render(N.jsx(Ee,{connectionDistance:n,shadowWrapper:e}))}function Ee(t){const{connectionDistance:n,shadowWrapper:e}=t,[l=Z]=ee({instance:new J({area:"local"}),key:"UserSettings"});return l.merlinOnSocialMedia.visible&&l.merlinOnSocialMedia.linkedin.visible?N.jsx(oe,{children:N.jsx(re,{children:N.jsx(ie,{websiteOverride:!0,children:N.jsx(ge,{connectionDistance:n,shadowWrapper:e})})})}):null}function ve(t){const{contextData:n,editor:e,mountOn:l,promptsFor:d}=t,[s,a]=Q.useState(""),[m=Z]=ee({instance:new J({area:"local"}),key:"UserSettings"});return m.merlinOnSocialMedia.visible&&m.merlinOnSocialMedia.linkedin.visible&&t.shouldMount?N.jsx(oe,{children:N.jsx(re,{children:N.jsx(_e,{client:he,persistOptions:{persister:Se},children:N.jsx(ie,{websiteOverride:!0,children:N.jsx(de,{editor:e,host:"linkedin",mountOn:l,contextData:n,promptsFor:d,dotMenuPosition:"bottom",textareaValue:s,setTextareaValue:a})})})})}):null}function Ie(t,n,e){const l={};let d=null,s=null,a="";try{d=t.closest(".share-box"),d&&(s=d.querySelector(".share-creation-state__preview-container")),s&&(a=s.textContent,a=a.replaceAll(`
`," "),l.repostText=a),n&&(l.user=n),e&&(l.userBio=e)}catch{}return l}const v=(t,n)=>{try{if(!t.querySelector(`div#${n}`))return;const l=t.querySelector(":scope > .pvs-list__outer-container > .pvs-list,ul");if(!l)return;const d=[];return Array.from(l.querySelectorAll(":scope > li,li.artdeco-list__item")).forEach(a=>{const m=a.textContent.replaceAll(/\s\s+/g,"");m&&d.push(m)}),d}catch{return[]}};function we(){var d,s,a,m,y,o,f,c,i,p,b,z;const t={fullName:((d=document.querySelector(".text-heading-xlarge"))==null?void 0:d.textContent)||"",isFollowing:!1,locatedAt:null},n=window.location.pathname;if(["/search/results/","/analytics/profile-views/"].some(S=>n.includes(S))){let S=document.querySelector("#artdeco-modal-outlet");S||(S=document.querySelector('.artdeco-modal[role="dialog"]'));let L=null;S?L=S.querySelector("h2"):L=document.querySelector("h2#send-invite-modal");let u=null;if(L&&(u=L.querySelector("strong")),u||S&&(u=(s=S.querySelector(".artdeco-modal__header"))==null?void 0:s.querySelector("strong"),u||(u=S.querySelector("strong"))),!u)return null;const P=(a=u.textContent)==null?void 0:a.trim();if(!P)return null;let q=(m=document.querySelector(".reusable-search__entity-result-list"))==null?void 0:m.querySelector("ul");if(!q){const _=document.querySelector(".scaffold-layout__main");_&&(q=_.querySelector("ul"))}if(!q)return null;const j=Array.from(q.querySelectorAll("li")).filter(_=>{const T=_.querySelector("button");if(!T)return!1;const x=T.textContent;return!(!x||x.trim().toLocaleLowerCase()!=="connect")}).filter(_=>{const T=_.querySelector(".entity-result__title-text");if(!T)return!1;const x=T.textContent;return!(!x||!x.trim().toLocaleLowerCase().includes(P.toLocaleLowerCase()))});if(j.length!==1)return null;const M=j[0],K=(o=(y=M.querySelector(".entity-result__title-text"))==null?void 0:y.textContent)==null?void 0:o.trim(),k=(c=(f=M.querySelector(".entity-result__primary-subtitle"))==null?void 0:f.textContent)==null?void 0:c.trim(),O=(p=(i=M.querySelector(".entity-result__secondary-subtitle"))==null?void 0:i.textContent)==null?void 0:p.trim(),R=(z=(b=M.querySelector(".entity-result__summary"))==null?void 0:b.textContent)==null?void 0:z.trim(),r=`${K} ${k||""} ${O||""} ${R||""}`.trim();return t.fullName=(r==null?void 0:r.replace(/\s\s+/g," "))||"",t}try{if(!document.querySelector(".scaffold-layout__main"))return t;const L=Array.from(document.querySelectorAll(".scaffold-layout__main > section"));if(L.length===0)return t;L.forEach(u=>{const P=v(u,"education");P&&(t.educationDetails=P);const q=v(u,"experience");q&&(t.experienceDetails=q);const I=v(u,"skills");I&&(t.skillsDetails=I);const w=v(u,"licenses_and_certifications");w&&(t.licensesDetails=w);const j=v(u,"projects");j&&(t.projectsDetails=j);const M=v(u,"volunteer_experience");M&&(t.volunteerExperienceDetails=M);const K=v(u,"publications");K&&(t.publicationsDetails=K);const k=v(u,"patents");k&&(t.patentsDetails=k);const O=v(u,"honors_and_awards");O&&(t.honorsAndAwardsDetails=O);const R=v(u,"test_scores");R&&(t.testScoresDetails=R);const r=v(u,"languages");r&&(t.languagesDetails=r);const _=v(u,"organizations");_&&(t.organizationsDetails=_)}),document.querySelectorAll(".pv-text-details__left-panel").length>0&&document.querySelectorAll(".pv-text-details__left-panel")[1].querySelector(".text-body-small")&&(t.locatedAt=document.querySelector(".pv-text-details__left-panel")[1].querySelector(".text-body-small").textContent.replace(/\s\s+/g,"").toLowerCase())}catch{}return t}Ce();
