"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1856],{50799:(e,t,o)=>{o.d(t,{t:()=>i});o(21703);var n=o(807);function i(e,t){let o=e;if(!e.isNavigableBlock()){const t=e.getNavigableBlockStore();if(!t)throw new Error("Store doesn't have a navigable block store.");o=t}n.Z.setState({blockStoreMode:{...n.Z.state.blockStoreMode,[o.pointer.id]:t}})}},58188:(e,t,o)=>{o.d(t,{Lg:()=>u,N:()=>c,aG:()=>d});var n=o(13493),i=o(29369),s=o(82530),r=o(75330),a=(o(77907),o(30806)),l=o(80444);o(72711);function d(e){const{environment:t,currentSpaceViewStore:o,...n}=e,i=o.getModel();if(!i)return;const r=!i.showFeatureOnPersonalHome(e.feature);s.createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,perform:t=>{s.applyOperation({store:o,operation:{pointer:o.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:r}},transaction:t})}}),(0,a.cY)({environment:t,show:r,...n})}function c(e){let{environment:t,option:o,from:n,userAction:i}=e;const r=l.default.state.currentSpaceViewStore;if(!r)return!1;const d=r.getOnAppStartStore().getValue();return s.createAndCommit({userAction:i,environment:t,perform:e=>{s.applyOperation({store:r,operation:{pointer:r.pointer,path:["settings","on_app_start"],command:"set",args:o},transaction:e})}}),(0,a.BX)({environment:t,oldValue:d,newValue:o,from:n}),!0}function u(e){const{environment:t,selectedStore:o,currentSpaceViewStore:l,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),p=d.collectionViewBlockStore();if(!(u&&c&&p&&l))return;const g=l.getTeamsStores(),h=o.table===i.e0?g.indexOf(o)+1:0,m=o.table===i.e0?o.id:void 0;s.createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",perform:e=>{s.applyOperation({store:c,operation:{pointer:{id:c.id,table:n.n},path:["format","collection_view_source","teamId"],command:"set",args:m},transaction:e}),r.mc({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1})}}),(0,a.Ay)({environment:t,teamId:m,index:h})}},55587:(e,t,o)=>{o.d(t,{j:()=>r});var n=o(89101),i=o(32441),s=o(69915);async function r(e){i.T3(e,{variant:"open_notion"}),i.eb(e,{target:"open_notion"}),await s.yF(e,{utmContent:"topbar_cta",nextRoute:n._j.root})}},28040:(e,t,o)=>{o.d(t,{i:()=>u});var n=o(26263),i=o(65958),s=o(21202),r=o(80444),a=o(77080),l=o(79797),d=o(35057),c=o(54642);async function u(e){const{environment:t,sudoModeStore:o,pageBlockId:u}=e,p=o.state.privatePageStore&&o.state.privatePageStore.id===u;if(t.device.isMobile||p||o.state.loading||o.state.error)return;if(!a.default.checkGate("enable_get_private_page_info_endpoint"))return;const{currentSpaceStore:g}=r.default.state,h=null==g?void 0:g.canAdmin();if(!(u&&h&&g&&(0,d.wP)()))return;o.setState({...o.state,loading:!0});const m=g.id,b=await c.getPrivatePageInfo(t,{id:u});if("failed"===b.type)return void o.setState({...o.state,loading:!1,error:b.error});const v=b.data,f=new n.Z({name:i.Gh});for(const n of v)switch(n.table){case"block":case"collection":case"team":f.setRecord({pointer:{spaceId:m,table:n.table,id:n.value.id},userId:t.currentUser.id},{role:"editor",value:n.value})}const C=new l.G(t,{table:s.iU,id:u},{inMemoryRecordCache:f});C.inMemoryRecordCache.addCacheFallback(t.defaultRecordCache.inMemoryRecordCache),o.setState({...o.state,privatePageStore:C,loading:!1,error:void 0})}},7476:(e,t,o)=>{o.d(t,{t:()=>r});var n=o(80444),i=o(56681),s=o(34047);function r(e){var t;let{discussionStore:o,commentStore:r}=e;if(!r.isDefined())return!1;const a=null===(t=n.default.state.currentUserStore)||void 0===t?void 0:t.id;const l=i.Z.state.lastInteractionTimes[o.id];if(r.getCreatedById()===a)return!1;const d=function(){if(!o.isDefined()||!a)return 0;const{pageVisitStore:e}=n.default.state,{lastViewTime:t,lastExitTime:i}=e.state;return i||t}();if(void 0===d)return!1;const c=(0,s.NI)(o).filter((e=>e.getCreatedById()===a)).reverse()[0],u=r.getCreatedTime();return!u||!(c&&u<c.getCreatedTime())&&(!(l&&u<l)&&u>d)}},39849:(e,t,o)=>{o.d(t,{N:()=>l,Z:()=>d});o(67294);var n=o(24405),i=o(8848),s=o(82990),r=o(85893);const a={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:s.Z.fontWeight.semibold,borderRadius:4,color:i.ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let l=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});const d=function(e){let{count:t,color:o,style:i,numberStyle:s}=e;window.__c={n:"MentionsBadge"};const d=(0,n.Fg)(),u=o===l.Red;return!t||t<=0?null:(0,r.jsx)("div",{style:{...a,...i,...t>99&&{width:void 0,padding:2},background:u?d.redBadgeBackground:d.lightIconColor},children:(0,r.jsx)(c,{count:t,numberStyle:s})})};function c(e){let{count:t,numberStyle:o}=e;return t?1===t?(0,r.jsx)("span",{style:{marginLeft:-.5,...o},children:"1"}):t>99?(0,r.jsx)("span",{style:{letterSpacing:-.5,...o},children:"99+"}):t>9?(0,r.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...o},children:t}):(0,r.jsx)("span",{style:{...o},children:t}):null}},58493:(e,t,o)=>{o.d(t,{Z:()=>j});var n=o(67294),i=o(480),s=o(86628),r=o(24405),a=o(16184),l=o(45238),d=o(85893);const c=(0,l.I)("mobileLocked",{viewBox:"0 0 26 26",svg:(0,d.jsx)("path",{d:"M7.88672 23.417H18.1133C19.499 23.417 20.1758 22.7295 20.1758 21.2256V13.3408C20.1758 11.9873 19.6172 11.2891 18.4678 11.1709V8.46387C18.4678 4.41406 15.8145 2.45898 13 2.45898C10.1855 2.45898 7.53223 4.41406 7.53223 8.46387V11.2246C6.47949 11.3857 5.82422 12.0732 5.82422 13.3408V21.2256C5.82422 22.7295 6.50098 23.417 7.88672 23.417ZM9.26172 8.23828C9.26172 5.54199 10.9912 4.11328 13 4.11328C15.0088 4.11328 16.7383 5.54199 16.7383 8.23828V11.1602L9.26172 11.1709V8.23828Z"})}),u=(0,l.I)("mobileUnlocked",{viewBox:"0 0 32 26",svg:(0,d.jsx)("path",{d:"M7.89355 23.417H18.1094C19.4951 23.417 20.1826 22.7295 20.1826 21.2256V13.3408C20.1826 12.0303 19.6562 11.332 18.582 11.1816V8.23828C18.582 5.54199 20.3115 4.11328 22.3203 4.11328C24.3291 4.11328 26.0586 5.54199 26.0586 8.23828V10.623C26.0586 11.2783 26.4346 11.6006 26.9287 11.6006C27.4014 11.6006 27.7881 11.3105 27.7881 10.623V8.46387C27.7881 4.41406 25.1348 2.45898 22.3203 2.45898C19.5059 2.45898 16.8525 4.41406 16.8525 8.46387V11.1602L8.1084 11.1816C6.72266 11.1816 5.82031 11.8584 5.82031 13.3408V21.2256C5.82031 22.7295 6.50781 23.417 7.89355 23.417Z"})}),p=(0,l.I)("unlockedFilled",{viewBox:"0 0 16 16",svg:(0,d.jsx)("path",{d:"M2.33301 14.6338H8.94336C9.85938 14.6338 10.3105 14.1826 10.3105 13.1914V8.08496C10.3105 7.2168 9.95508 6.75195 9.24414 6.65625V4.83105C9.24414 3.22461 10.2627 2.35645 11.4863 2.35645C12.71 2.35645 13.7354 3.22461 13.7354 4.83105V6.28711C13.7354 6.76562 14.0156 7.01855 14.3848 7.01855C14.7471 7.01855 15.0273 6.7793 15.0273 6.28711V4.96094C15.0273 2.36328 13.2979 1.1123 11.4863 1.1123C9.6748 1.1123 7.94531 2.36328 7.94531 4.96094V6.64258L2.44922 6.64941C1.5332 6.64941 0.96582 7.10742 0.96582 8.08496V13.1914C0.96582 14.1826 1.41699 14.6338 2.33301 14.6338Z"})});var g=o(19889),h=o(7928),m=o(9291),b=o(36610),v=o(96802),f=o(82530),C=o(34700),x=o(92547),S=o(79797),w=o(64921),y=o(26388);const M={width:16,marginRight:4};const j=function(e){let{isMobile:t,store:o,disableTooltip:n,isInlineCollection:i,buttonStyle:r,lockStore:a}=e;window.__c={n:"PageLockTopbarIndicator"};const l=(0,s.qz)(a,x.Z);return t?(0,d.jsx)(_,{store:o,lockStore:l}):(0,d.jsx)(L,{store:o,disableTooltip:n,isMobile:t,isInlineCollection:i,buttonStyle:r,lockStore:l})};function k(e,t,o){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",fontSize:e?12:14,borderRadius:4,padding:"0 6px",marginRight:2,height:24,marginTop:e?1:0,marginLeft:e?0:-5,...t&&{marginLeft:e?8:12,marginRight:0},...o}}function T(e,t,o,n,i){return{...k(e,n,i),...(0,C.X)({noDrag:t.device.isElectronMac}),color:o.lightTextColor,fill:o.lightIconColor}}function Z(e,t,o,n,i){return{...k(e,n,i),...(0,C.X)({noDrag:t.device.isElectronMac}),paddingLeft:5,border:`1px solid ${o.blueColor}`,color:o.blueColor,fill:o.blueColor}}function I(e){let{store:t}=e;window.__c={n:"TooltipComponent"};const o=(0,r.Fg)(),n=(0,s.VK)((()=>t.getFormat().block_locked_by),[t]),i=(0,m.useIntl)(),a=(0,s.VK)((()=>n&&(0,h.Nz)(i,S.t1.createChildStore(t,{table:g.KJ,id:n}).getModel())),[n,i,t]);return n?(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Locked by {lockedByPerson}{br}to prevent accidental editing.{br}<prompttext>Click to unlock</prompttext>",id:"pageLockIndicator.lockedTooltip",values:{lockedByPerson:(0,d.jsx)("b",{children:a}),br:(0,d.jsx)("br",{}),prompttext:e=>(0,d.jsx)("span",{style:{color:o.mediumInvertedTextColor},children:e})}})}):null}function P(e,t,o){f.createAndCommit({userAction:"PageLockTopbarIndicator.handleLockClick",environment:e,perform:o=>{v.Wq({environment:e,store:t,isLocked:!1,transaction:o})}}),o.setState({...o.state,justUnlocked:!0});const n=t.getType();if(n){var i;let o;t.isCollectionView()&&(o=t.getCollectionViewCollectionStore()),b.UJ(e,{from:"topbar",block_type:n,locked:!1,collection_id:null===(i=o)||void 0===i?void 0:i.id})}}function B(e,t,o){f.createAndCommit({userAction:"PageLockTopbarIndicator.handleUnlockClick",environment:e,perform:o=>{v.Wq({environment:e,store:t,isLocked:!0,transaction:o})}}),o.setState({...o.state,justUnlocked:!1});const n=t.getType();if(n){var i;let o;t.isCollectionView()&&(o=t.getCollectionViewCollectionStore()),b.UJ(e,{from:"topbar",block_type:n,locked:!0,collection_id:null===(i=o)||void 0===i?void 0:i.id})}}function L(e){let{store:t,disableTooltip:o,isMobile:l,isInlineCollection:c,buttonStyle:u,lockStore:g}=e;window.__c={n:"DesktopComponent"};const h=(0,r.Fg)(),b=(0,i.O7)(),v=(0,n.useCallback)((()=>B(b,t,g)),[b,t,g]),f=(0,n.useCallback)((()=>P(b,t,g)),[b,t,g]),C=(0,s.VK)((()=>t.isLocked()),[t]),x=(0,s.VK)((()=>g.state.justUnlocked),[g]);return C?(0,d.jsx)(y.ZP,{renderTooltip:()=>(0,d.jsx)(I,{store:t}),disableTooltip:o,render:e=>(0,d.jsxs)(w.Z,{style:T(l,b,h,c,u),onClick:f,...e,children:[(0,a.Q)(M),(0,d.jsx)("div",{style:{lineHeight:1},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Locked",id:"pageLockIndicator.lockedButton.label"})})]})}):x?(0,d.jsxs)(w.Z,{style:Z(l,b,h,c,u),onClick:v,hoveredStyle:{background:h.outlineBlueButtonHoveredBackground},pressedStyle:{background:h.outlineBlueButtonPressedBackground},children:[p(M),(0,d.jsx)("div",{style:{lineHeight:1},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Re-lock",id:"pageLockIndicator.relockButton.label"})})]}):null}function _(e){let{store:t,lockStore:o}=e;window.__c={n:"MobileComponent"};const a=(0,r.Fg)(),l=(0,i.O7)(),p=(0,n.useCallback)((()=>B(l,t,o)),[l,t,o]),g=(0,n.useCallback)((()=>P(l,t,o)),[l,t,o]),h=(0,s.VK)((()=>t.isLocked()),[t]),{WindowSizeStore:b}=l,v=(0,s.VK)((()=>b.getSafePaddingLeftCSS(10)),[b]),f=(0,s.VK)((()=>b.getSafePaddingRightCSS(14)),[b]),C=(0,s.VK)((()=>o.state.justUnlocked),[o]);return h?(0,d.jsxs)(w.Z,{onClick:g,mobileFeedback:!0,style:{display:"flex",alignItems:"center",height:"100%",paddingLeft:v,paddingRight:f},children:[c({width:20,marginRight:6}),(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Locked",id:"pageLockIndicator.mobileLockedButton.label"})})]}):C?(0,d.jsxs)(w.Z,{onClick:p,mobileFeedback:!0,style:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingLeft:v,paddingRight:f,color:a.blueColor,fill:a.blueColor},children:[u({height:26,width:32,marginRight:6}),(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Re-lock",id:"pageLockIndicator.mobileRelockButton.label"})})]}):null}},13612:(e,t,o)=>{o.d(t,{Z:()=>g});o(67294);var n=o(480),i=o(56666),s=o(90334),r=o(9291),a=o(36610),l=o(24677),d=o(77907),c=o(64921),u=o(31945),p=o(85893);const g=function(e){let{buttonPopupStore:t,useEllipsisIcon:o,store:i}=e;window.__c={n:"PublicTopbarMoreButton"};const s=(0,n.O7)(),{device:r}=s;return(0,p.jsx)(u.ZP,{popupType:r.isMobile?u.Z4.SlideUp:u.Z4.Popup,buttonPopupStore:t,renderOrigin:e=>(0,p.jsx)(m,{buttonPopupEvents:e,useEllipsisIcon:o}),onClick:()=>b(s),render:()=>(0,p.jsx)(d.LazyPublicTopbarMoreMenu,{block:i,onDismiss:()=>b(s)}),originGap:8})};function h(e){const{device:t}=e;return t.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4}}function m(e){let{buttonPopupEvents:t,useEllipsisIcon:o}=e;window.__c={n:"OriginComponent"};const a=(0,r.useIntl)(),l=(0,n.O7)(),{device:d}=l;return(0,p.jsx)(c.Z,{ariaLabel:a.formatMessage({id:"publicTopbarMoreButton.ariaLabel",defaultMessage:"More actions"}),style:h(l),mobileFeedback:d.isMobile,...t,children:o?(0,s.O)({width:18,height:18}):(0,i.o)({width:18,height:18})})}function b(e){l.ZH(e),a.Fj(e)}},46457:(e,t,o)=>{o.d(t,{_:()=>g});var n=o(67294),i=o(480),s=o(86628),r=o(24405),a=o(9291),l=o(77907),d=o(34859),c=o(7184),u=o(53336),p=o(85893);function g(e){let{loginModalStore:t,loginStore:o,title:r,description:a,isSignup:d,disableLoginLink:u,redirectURL:g,className:v,onDismiss:f}=e;window.__c={n:"LoginModal"};const C=(0,i.O7)(),x=(0,s.VK)((()=>t.state.open),[t]),S=(0,n.useId)(),w=(0,n.useId)(),y={loginStore:o,title:r,description:a,isSignup:d,redirectURL:g,disableLoginLink:u,titleAriaId:S,descriptionAriaId:w};return(0,p.jsx)(c.c,{ariaLabelledBy:S,ariaDescribedBy:w,isOpen:x,onDismiss:()=>{b({loginModalStore:t,loginStore:o,onDismiss:f})},areaConstraint:{width:{min:480,max:480},height:{scroll:!0}},children:(0,p.jsx)(h,{children:(0,p.jsxs)("div",{className:v,children:[!C.device.isMobile&&(0,p.jsx)(m,{loginModalStore:t,loginStore:o,onDismiss:f}),(0,p.jsx)(l.LazyLoginModalContent,{...y})]})})})}function h(e){let{children:t}=e;window.__c={n:"MobileScroller"};return(0,i.O7)().device.isMobile?(0,p.jsx)(u.Z,{type:d.Z.Y,children:t}):t}function m(e){let{loginModalStore:t,loginStore:o,onDismiss:n}=e;window.__c={n:"CancelButton"};const i=(0,r.Fg)();return(0,p.jsx)("div",{style:{fontSize:14,color:i.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer"},onClick:()=>{b({loginModalStore:t,loginStore:o,onDismiss:n})},children:(0,p.jsx)(a.FormattedMessage,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function b(e){const{loginModalStore:t,loginStore:o,onDismiss:n}=e;o.reset(),t.setState({open:!1}),n&&n()}},9045:(e,t,o)=>{o.d(t,{Z:()=>s});o(67294);var n=o(9291),i=o(85893);function s(){return(0,i.jsx)(n.FormattedMessage,{id:"signupPage.title",defaultMessage:"Sign up"})}},92955:(e,t,o)=>{o.d(t,{Z:()=>l});o(67294);var n=o(86628),i=o(97880),s=o(19034),r=o(39849),a=o(85893);function l(e){window.__c={n:"UnreadMentionsBadge"};const{type:t,...o}=e,l=(0,n.VK)((()=>{switch(t){case"currentSpace":return s.Z.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return s.Z.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return s.Z.getTotalUnreadMentionsCount();default:(0,i.t1)(t)}}),[t]);return(0,a.jsx)(r.Z,{count:l,...o})}},99659:(e,t,o)=>{o.d(t,{C:()=>Ge,nk:()=>Ae,ZP:()=>Ke});var n=o(67294),i=o(73935),s=o(83355),r=o(15145),a=o(40654),l=o(88437),d=o(60651),c=o(25651),u=o(35840),p=o(45137),g=o(89101),h=o(21202),m=o(80503),b=o(9291),v=o(32441),f=o(47307),C=o(3297),x=o(99553),S=o(40277),w=o(69915),y=o(8055),M=o(87531),j=o(98104),k=o(3043),T=o(28020),Z=o(43250),I=o(34700),P=o(84210),B=o(12534),L=o(46654),_=o(17504),F=o(18514),E=o(77907),V=o(480),O=o(86628),R=o(24405),D=o(15560),H=o(32662),U=o(3553),A=o(71039),N=o(84920),K=o(42543),G=o(44332),z=o(51454),W=o(24646);function q(e){return{...(0,I.X)({noDrag:e.device.isElectronMac}),height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0}}function X(e){let{theme:t,isPhone:o,isFloatingPersonalHomeTopbar:n}=e;return{background:n&&!o?"transparent":t.contentBackground,maxWidth:"100vw",zIndex:z.lI,WebkitUserSelect:"none",userSelect:"none"}}function Y(e){let{environment:t,isShowingTabBar:o,shouldShowSidebar:n,isSidebarExpanded:i,isNotificationPanelOpen:s,isBrowserFullScreen:r,shouldRenderTemplateGalleryTopbar:l,isFloatingPersonalHomeTopbar:d,zoom:c}=e;const{device:u}=t,p=u.isElectronMac&&(!n||!i&&!s)&&!r&&!o;let g=m.R6(u.isElectronMac);return l?g=m.TT:d&&(g=m.Aj),{...(0,I.X)({drag:u.isElectronMac&&!o}),display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:g,paddingLeft:p?(0,a.XW)(c):u.isMobile?4:12,paddingRight:u.isMobile?4:10}}function Q(e){let{environment:t,isBrowserFullScreen:o,zoom:n}=e;const i=(0,W.vF)(t);return{position:"absolute",top:0,width:`${m.Pv(t.device.isElectronMac,o,n)}px`,height:`${i}px`}}var $=o(61436),J=o(24042),ee=o(45325),te=o(69150),oe=o(61931),ne=o(64719),ie=o(85893);const se=function(e){window.__c={n:"PersonalHomeTopbar"};const t=(0,V.O7)(),o=(0,O.VK)((()=>te.Z.state.isHovered),[]),n=(0,O.VK)((()=>J.Z.state.isShowingTabBar),[]),i=(0,O.VK)((()=>J.Z.state.zoomFactor),[]),s=(0,O.VK)((()=>ee.default.isOpen()),[]),r=(0,O.VK)((()=>$.Z.state.isFullScreen),[]),l=(0,O.VK)((()=>(0,W.in)(t)),[t]),d=(0,O.VK)((()=>(0,T.h1)(t)),[t]),c=(0,O.VK)((()=>e.store.hasCover()),[e.store]),u=(0,R.yK)((e=>({container:{...Y({environment:t,isShowingTabBar:Boolean(n),shouldShowSidebar:d.shouldShowSidebar,isSidebarExpanded:l,isNotificationPanelOpen:s,isBrowserFullScreen:r,isFloatingPersonalHomeTopbar:c,zoom:i||a.lO}),...c?{display:"flex",alignItems:"flex-start",paddingTop:12,opacity:o?1:0,transition:"opacity 0.2s ease"}:{}},divider:{flexGrow:1,flexShrink:1},betaBadgeWithoutCover:{background:e.home.betaBadge.background,color:e.home.betaBadge.color},betaBadgeWithCover:{position:"absolute",top:8,right:8,background:e.home.betaBadge.background,color:e.home.betaBadge.color,opacity:o?0:1,transition:"opacity 0.2s ease"}})),[d.shouldShowSidebar,t,c,r,o,s,n,l,i]);return(0,ie.jsx)(U.Z,{store:e.store,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)("div",{style:u.container,onClick:e.handleClickTopbar,onMouseDown:e.handleMouseDown,onDoubleClick:K.wq,onMouseEnter:()=>te.Z.setState({isHovered:!0}),onMouseLeave:()=>te.Z.setState({isHovered:!1}),children:[(0,ie.jsx)(re,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton)}),!e.isInvalidPage&&(0,ie.jsx)(N.Z,{}),(0,ie.jsx)("div",{style:u.divider}),(0,ie.jsx)(ae,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton),isInvalidPage:e.isInvalidPage})]}),c&&(0,ie.jsx)("div",{onMouseEnter:()=>te.Z.setState({isHovered:!0}),style:{pointerEvents:"none"},children:(0,ie.jsx)(D.Z,{style:u.betaBadgeWithCover})})]})})};function re(e){window.__c={n:"LeftSideActionButtons"};const t=(0,V.O7)(),o=(0,V.Fy)(),n=(0,O.VK)((()=>e.store.hasCover()),[e.store]),i=(0,O.VK)((()=>J.Z.state.isShowingTabBar),[]),s=(0,O.VK)((()=>{const e=(0,W.in)(t);return i||e}),[t,i]),r=(0,R.yK)((e=>({noDragArea:{...(0,I.X)({noDrag:o.isElectronMac}),width:150,height:"100%"},electronButtonWrapper:{...(0,oe.Er)({theme:e,isPhone:o.isPhone,buttonState:"base",hasCover:n}),width:"fit-content",paddingLeft:2,paddingRight:2}})),[o,n]);return n?o.isElectron?s?null:(0,ie.jsx)("div",{style:r.noDragArea,children:(0,ie.jsxs)("div",{style:r.electronButtonWrapper,children:[e.showSidebarButton&&(0,ie.jsx)(G.Z,{}),!i&&(0,ie.jsx)(A.Z,{})]})}):(0,ie.jsx)(ie.Fragment,{children:e.showSidebarButton&&(0,ie.jsx)(G.Z,{isFloatingButton:!0})}):(0,ie.jsxs)(ie.Fragment,{children:[e.showSidebarButton&&(0,ie.jsx)(G.Z,{}),o.isElectron&&!i&&(0,ie.jsx)(A.Z,{})]})}function ae(e){window.__c={n:"RightSideActionButtons"};const t=(0,V.Fy)(),o=(0,O.VK)((()=>e.store.hasCover()),[e.store]),n=(0,R.yK)((e=>({noDragArea:{...(0,I.X)({noDrag:t.isElectronMac}),width:150,height:"100%",display:"flex",justifyContent:"flex-end"},betaBadgeWithoutCover:{background:e.home.betaBadge.background,color:e.home.betaBadge.color}})),[t.isElectronMac]);return o?t.isElectron?(0,ie.jsx)("div",{style:n.noDragArea,children:(0,ie.jsx)(ne.E,{store:e.store,isInvalidPage:e.isInvalidPage})}):(0,ie.jsx)(ne.E,{store:e.store,isInvalidPage:e.isInvalidPage}):(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(D.Z,{style:n.betaBadgeWithoutCover}),(0,ie.jsx)(H.Z,{size:4}),(0,ie.jsx)(ne.E,{store:e.store,isInvalidPage:e.isInvalidPage})]})}var le=o(94841),de=o(38676),ce=o(51),ue=o(80444),pe=o(96071),ge=o(85974),he=o(83212),me=o(79797),be=o(52258),ve=o(66708),fe=o(63296),Ce=o(89728),xe=o(26388),Se=o(46457),we=o(9045),ye=o(58493),Me=o(13612),je=o(58178);const ke=(0,o(45238).I)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281Z",fill:"#0984CF"}),(0,ie.jsx)("path",{d:"M6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25Z 6.2373 6.7998Z",fill:"#F9A501"}),(0,ie.jsx)("path",{d:"M14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z",fill:"#EA4F44"})]})});var Te=o(55587),Ze=o(95477),Ie=o(93827),Pe=o(42922),Be=o(16354),Le=o(5002);function _e(e){window.__c={n:"TemplateGalleryPublicPageTopbar"};const{blockStore:t,style:o,onDoubleClick:i,onClickDuplicate:s,templateBlockStore:r}=e,a=(0,V.O7)(),l=(0,O.VK)((()=>ce.Z.state.publicPageData),[]),c=(0,O.VK)((()=>(0,L.S4)(r)),[r]),[u,p]=(0,n.useState)(!1),g=(0,R.yK)((e=>({topbarContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:m.TT,paddingLeft:12,paddingRight:10},topbarContents:{display:"flex",alignItems:"center"},notionLogoStyle:{width:20,height:20},templatesIcon:{width:20,height:20,marginRight:4,marginTop:2},templateGalleryButton:{display:"flex",alignItems:"center",fontSize:15,fontWeight:600},centerText:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden",textWrap:"nowrap"},templateNameText:{fontSize:13.5,fontWeight:600},templateCreatorText:{fontSize:12,color:e.lightTextColor},templateCreatorLink:{fontSize:12,color:e.lightTextColor,cursor:"pointer"},publicTopbarMoreButton:{marginRight:8}})),[]),h=(0,O.VK)((()=>{const e=(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(Ce.Z,{onClick:async()=>{await Te.j(a)},children:(0,d.h)(g.notionLogoStyle)}),(0,ie.jsx)(Le.Z,{})]});return(0,Ie.C)()?de.sidebarExpandedStore.state?null:(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(G.Z,{}),e]}):e}),[a,g.notionLogoStyle]);if(!l||!l.template)return(0,ie.jsx)(ie.Fragment,{});const f=(0,ie.jsx)("a",{href:`${Ze.default.domainBaseUrl}/@${l.template.creator.username}`,target:"_blank",style:g.templateCreatorLink,onClick:()=>{var e;v.eb(a,{target:"creator",slug:null===(e=l.template)||void 0===e?void 0:e.creator.username})},children:l.template.creator.name});return(0,ie.jsxs)("div",{style:o??g.topbarContainer,onDoubleClick:i,children:[(0,ie.jsxs)("div",{style:g.topbarContents,children:[h,(0,ie.jsx)(Be.Z,{href:(0,F.UY)("templateGallery"),external:!0,children:(0,ie.jsxs)(Ce.Z,{style:g.templateGalleryButton,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>{v.eb(a,{target:"gallery"})},children:[u?ke(g.templatesIcon):(0,je.s)(g.templatesIcon),(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Templates",id:"templateGalleryPublicPageTopbar.templatesButton.label"})]})})]}),(0,ie.jsxs)("div",{style:g.centerText,children:[(0,ie.jsx)(Be.Z,{href:`${(0,F.UY)("templateGallery")}/${l.template.slug}`,style:g.templateNameText,external:!0,onClick:()=>{var e;v.eb(a,{target:"template",slug:null===(e=l.template)||void 0===e?void 0:e.slug})},children:l.template.name}),(0,ie.jsx)("div",{style:g.templateCreatorText,children:(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Template by {templateCreatorNameWithLink}",id:"templateGalleryPublicPageTopbar.templateName.subtitle",values:{templateCreatorNameWithLink:f}})})]}),(0,ie.jsxs)("div",{style:g.topbarContents,children:[(0,ie.jsx)("div",{style:g.publicTopbarMoreButton,children:(0,ie.jsx)(Me.Z,{store:t,buttonPopupStore:be.Z})}),c&&(0,ie.jsx)(Pe.Z,{onClick:s,children:(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Start with this template",id:"templateGalleryPublicPageTopbar.duplicateButton.label"})})]})]})}var Fe=o(25906),Ee=o(7715),Ve=o(54338);const Oe={width:18,height:18,marginRight:6},Re={width:14,height:14,marginRight:6},De={width:14,height:14},He={width:15,height:15},Ue={width:14,height:14,marginLeft:6},Ae=700;class Ne extends s.Z{constructor(){super(...arguments),this.startedInitialPublicPageEdit=!1,this.screenXAtLastMouseDown=0,this.screenYAtLastMouseDown=0,this.storeTypes={loginModalStore:pe.Z,loginStore:ge.Z},this.handleMouseDown=()=>{this.screenXAtLastMouseDown=window.screenX,this.screenYAtLastMouseDown=window.screenY},this.handleClickTopbar=e=>{const t=window.screenX,o=window.screenY;this.screenXAtLastMouseDown===t&&this.screenYAtLastMouseDown===o&&(e.target===e.currentTarget&&j.ZH(this.environment),(0,B.ZP)({event:e,context:B.Af.EditorClick,callback:()=>{x.E5(this.environment)}}))},this.maybeOpenOnBaseUrl=()=>{var e;const{RouterStore:t}=this.environment,o=t.state.route,n=null===(e=this.pageContext)||void 0===e?void 0:e.pageStore;if("page"===o.name&&o.requestedOnPublicDomain&&n){const e=(0,P.ZP)({store:n,preferPublicLink:!1,pageVisitSource:r.tY.EditPublicPage});return y.Li({environment:this.environment,url:e}),!0}return!1},this.handleStartPublicEdit=()=>{this.maybeOpenOnBaseUrl()||(this.environment.currentUser.isLoggedIn()?f.showDialog({showCancel:!0,keepFocus:!1,message:(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){he.Z.setState({editing:!0,commenting:!0})}}]}):(S.Hr({currentUserId:this.environment.currentUser.id,blockId:this.props.store.id}),y.Li({environment:this.environment,url:g._j.login})))},this.handleAttemptPublicComment=()=>{S.Hr({currentUserId:this.environment.currentUser.id,blockId:this.props.store.id}),this.maybeOpenOnBaseUrl()||y.Li({environment:this.environment,url:g._j.login})},this.forkPageRef=null,this.handleForkPageRef=e=>{this.forkPageRef=e},this.handleOpenForkPage=()=>{C.S({environment:this.environment,store:this.props.store,originRect:this.getDuplicateClientRect()})},this.shouldRenderTemplateGalleryTopbar=this.createComputedStore((()=>{const{device:e}=this.environment;if(e.isMobile||!(0,F.Sr)())return!1;if(!K.cE(this.props.store,this.environment))return!1;const{publicPageData:t}=ce.Z.state;return!(null==t||!t.template)})),this.appRenderState=this.createComputedStore((()=>T.h1(this.environment))),this.isNotificationPanelOpen=this.createComputedStore((()=>ee.default.isOpen())),this.isBrowserFullScreen=this.createComputedStore((()=>$.Z.state.isFullScreen)),this.isSidebarExpanded=this.createComputedStore((()=>(0,W.in)(this.environment))),this.isFloatingPersonalHomeTopbar=this.createComputedStore((()=>{const e=(0,le.WE)(this.props.store),t=this.props.store.hasCover();return e&&t}))}didUpdate(){const{store:e}=this.props,{RouterStore:t}=this.environment,o=t.state.route,{publicPageData:n}=ce.Z.state;K.DK(this.props.store,this.environment)&&e.canComment()&&!e.canEdit()&&"page"===o.name&&!o.requestedOnPublicDomain&&K.cE(this.props.store,this.environment)&&null!=n&&n.requireLogin?he.Z.setState({commenting:!0,editing:!1}):!K.DK(this.props.store,this.environment)||!e.canEdit()||"page"!==o.name||he.Z.state.editing||he.Z.state.commenting||o.shouldDuplicate||o.requestedOnPublicDomain||!K.cE(this.props.store,this.environment)||this.startedInitialPublicPageEdit||null==n||!n.requireLogin||(this.startedInitialPublicPageEdit=!0,this.handleStartPublicEdit())}renderComponent(){const e=this.pickSidebar(),t=de.sidebarElectronMousePeekStore.state,{isShowingTabBar:o,zoomFactor:n}=J.Z.state,i=t&&o&&this.appRenderState.state.shouldShowSidebar&&!this.isSidebarExpanded.state&&!this.isNotificationPanelOpen.state;return(0,_.Z)((t=>(0,ie.jsxs)("header",{style:X({theme:this.theme,isPhone:this.environment.device.isPhone,isFloatingPersonalHomeTopbar:this.isFloatingPersonalHomeTopbar.state}),...t,children:[(0,ie.jsx)("div",{style:We(this.environment,this.shouldRenderTemplateGalleryTopbar,this.isFloatingPersonalHomeTopbar),className:Z.lIT,onFocus:K.Iw,onBlur:K.u1,children:e}),(0,ie.jsx)(E.LazyBannersRenderer,{banners:this.props.banners,isMobile:!1,isInPeekRenderer:!1}),i&&(0,ie.jsx)(Ve.o,{style:Q({environment:this.environment,isBrowserFullScreen:this.isBrowserFullScreen.state,zoom:n||a.lO})})]})))}pickSidebar(){const e=(0,le.WE)(this.props.store);return K.DK(this.props.store,this.environment)?K.cE(this.props.store,this.environment)?this.shouldRenderTemplateGalleryTopbar.state?this.renderTemplateGalleryPublicPageTopbar():this.renderPublicPageTopbar():e?(0,ie.jsx)(se,{store:this.props.store,isInvalidPage:this.props.isInvalidPage,showSidebarButton:this.props.showSidebarButton,handleClickTopbar:this.handleClickTopbar,handleMouseDown:this.handleMouseDown}):this.renderDefaultTopbar():null}renderPublicPageTopbar(){const{store:e,isInvalidPage:t,isElectron:o}=this.props,{isShowingTabBar:n,zoomFactor:i}=J.Z.state,s=Boolean(this.environment.currentUser.isLoggedIn()||this.environment.publicDomainUserId);return(0,ie.jsxs)("div",{style:Y({environment:this.environment,isShowingTabBar:Boolean(n),shouldShowSidebar:this.appRenderState.state.shouldShowSidebar,isSidebarExpanded:this.isSidebarExpanded.state,isNotificationPanelOpen:this.isNotificationPanelOpen.state,isBrowserFullScreen:this.isBrowserFullScreen.state,shouldRenderTemplateGalleryTopbar:this.shouldRenderTemplateGalleryTopbar.state,zoom:i||a.lO}),onDoubleClick:K.wq,children:[(0,ie.jsx)(Se._,{loginModalStore:this.stores.loginModalStore,loginStore:this.stores.loginStore,title:(0,ie.jsx)(we.Z,{}),isSignup:!0}),o&&!n&&(0,ie.jsx)(A.Z,{}),!t&&(0,ie.jsx)(k.l2,{store:e,style:q(this.environment),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,ie.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),s?this.renderTopbarRightSectionDefault():this.renderTopbarRightSectionUnauth()]})}renderTopbarRightSectionDefault(){const{device:e,currentUser:t}=this.environment,{store:o,isInvalidPage:n}=this.props,i=Boolean(t.isLoggedIn()||this.environment.publicDomainUserId);return(0,ie.jsxs)(ie.Fragment,{children:[o.canEdit()&&!he.Z.state.editing&&(0,ie.jsxs)(fe.Z,{onClick:this.handleStartPublicEdit,style:{marginRight:8,padding:"0 8px"},children:[(0,c.R)(Re),(0,ie.jsx)(b.FormattedMessage,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})]}),!this.environment.currentUser.isLoggedIn()&&o.canComment()&&!o.canEdit()&&(0,ie.jsxs)(fe.Z,{onClick:this.handleAttemptPublicComment,style:{marginRight:8,padding:"0 8px"},children:[(0,p.o)(Re),(0,ie.jsx)(b.FormattedMessage,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})]}),(0,ie.jsxs)(Ce.Z,{onClick:()=>ze(this.environment),children:[(0,u.R)(Re),(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]}),(0,L.S4)(this.props.store)&&(0,ie.jsx)(Ce.Z,{onClick:this.handleOpenForkPage,ref:this.handleForkPageRef,children:(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}),!e.isMobile&&!n&&(0,ie.jsx)(Me.Z,{store:o,buttonPopupStore:be.Z}),(0,ie.jsx)("div",{style:(s=this.theme,{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:s.darkDividerColor})}),i?(0,ie.jsxs)(Ce.Z,{onClick:()=>async function(e){v.T3(e,{variant:"open_notion"}),await w.yF(e,{utmContent:"topbar_cta",nextRoute:g._j.root})}(this.environment),children:[(0,d.h)(Oe),(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Open Notion",id:"topbar.publicPage.cta.label.open"})]}):(0,ie.jsxs)(Ce.Z,{onClick:()=>async function(e){v.T3(e,{variant:"try_notion"}),await w.yF(e,{utmContent:"topbar_cta",nextRoute:g._j.signup})}(this.environment),children:[(0,d.h)(Oe),(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try"})]})]});var s}renderTopbarRightSectionUnauth(){const{device:e}=this.environment,{store:t,isInvalidPage:o}=this.props;return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(Ce.Z,{onClick:()=>ze(this.environment),children:(0,u.R)(De)}),(0,L.S4)(t)&&this.renderPublicPageTopbarExpDuplicateIconButton(),!e.isMobile&&!o&&(0,ie.jsx)(Me.Z,{store:t,buttonPopupStore:be.Z,useEllipsisIcon:!0}),(0,ie.jsx)(Ge,{onClick:()=>async function(e){await K.i3({environment:e,route:g._j.signup})}(this.environment)})]})}renderTemplateGalleryPublicPageTopbar(){var e;const{store:t,isInvalidPage:o}=this.props,{isShowingTabBar:n,zoomFactor:i}=J.Z.state,{publicPageData:s}=ce.Z.state,r=null!=s&&null!==(e=s.template)&&void 0!==e&&e.blockId?new me.G(this.environment,{table:h.iU,id:null==s?void 0:s.template.blockId}):void 0;return r?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(_e,{blockStore:t,style:{...Y({environment:this.environment,isShowingTabBar:Boolean(n),shouldShowSidebar:this.appRenderState.state.shouldShowSidebar,isSidebarExpanded:this.isSidebarExpanded.state,isNotificationPanelOpen:this.isNotificationPanelOpen.state,isBrowserFullScreen:this.isBrowserFullScreen.state,shouldRenderTemplateGalleryTopbar:this.shouldRenderTemplateGalleryTopbar.state,zoom:i||a.lO}),borderBottom:`1px solid ${this.theme.lightDividerColor}`},onDoubleClick:K.wq,onClickDuplicate:()=>{C.S({environment:this.environment,store:r,originRect:this.getDuplicateClientRect()})},templateBlockStore:r}),(0,ie.jsxs)("div",{style:Y({environment:this.environment,isShowingTabBar:Boolean(n),shouldShowSidebar:this.appRenderState.state.shouldShowSidebar,isSidebarExpanded:this.isSidebarExpanded.state,isNotificationPanelOpen:this.isNotificationPanelOpen.state,isBrowserFullScreen:this.isBrowserFullScreen.state,shouldRenderTemplateGalleryTopbar:this.shouldRenderTemplateGalleryTopbar.state,zoom:i||a.lO}),onDoubleClick:K.wq,children:[!o&&(0,ie.jsx)(k.l2,{store:t,style:q(this.environment),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,ie.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,ie.jsxs)(Ce.Z,{onClick:()=>ze(this.environment),children:[(0,u.R)(Re),(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})]})]}):this.renderPublicPageTopbar()}renderDefaultTopbar(){const{store:e,isInvalidPage:t,isElectron:o,showSidebarButton:n,collectionViewStore:i,hideActionButtons:s}=this.props,{isMobile:r}=this.environment.device,{pageVisitStore:l,presenceStore:d,currentSpaceStore:c,currentSpaceViewStore:u}=ue.default.state,p=(0,L.IJ)(this.environment,this.props.store),{isShowingTabBar:g,zoomFactor:h}=J.Z.state;return(0,ie.jsx)(U.Z,{store:e,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,ie.jsxs)("div",{style:Y({environment:this.environment,isShowingTabBar:Boolean(g),shouldShowSidebar:this.appRenderState.state.shouldShowSidebar,isSidebarExpanded:this.isSidebarExpanded.state,isNotificationPanelOpen:this.isNotificationPanelOpen.state,isBrowserFullScreen:this.isBrowserFullScreen.state,shouldRenderTemplateGalleryTopbar:this.shouldRenderTemplateGalleryTopbar.state,zoom:h||a.lO}),onClick:this.handleClickTopbar,onMouseDown:this.handleMouseDown,onDoubleClick:K.wq,children:[n&&(0,ie.jsx)(G.Z,{}),o&&!g&&(0,ie.jsx)(A.Z,{}),!t&&(0,ie.jsx)(k.l2,{store:e,style:q(this.environment),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),e.canEditCollection()&&(0,ie.jsx)(ye.Z,{store:e,isMobile:!1},e.id),e.isRestricted()&&(0,ie.jsx)(Ee.Z,{style:{...(0,I.X)({noDrag:this.environment.device.isElectronMac}),marginRight:10},onClick:()=>{ve.Z.setState({open:!0})}}),!t&&(0,ie.jsx)(N.Z,{}),(0,ie.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),!r&&!p&&!s&&(0,ie.jsx)(Fe.iY,{store:e,collectionViewStore:i,spaceStore:c,spaceViewStore:u,pageVisitStore:l,presenceStore:d,isInvalidPage:t})]})})}getDuplicateClientRect(){if(this.forkPageRef){const e=i.findDOMNode(this.forkPageRef);if(e instanceof Element)return e.getBoundingClientRect()}}renderPublicPageTopbarExpDuplicateIconButton(){return(0,ie.jsx)(xe.ZP,{renderTooltip:()=>(0,ie.jsx)("div",{style:{display:"flex"},children:(0,ie.jsx)(b.FormattedMessage,{id:"topbar.publicPage.duplicateButton.tooltip",defaultMessage:"Duplicate"})}),placement:xe.ug.Bottom,alignment:xe.v2.Center,originGap:6,render:e=>(0,ie.jsx)(Ce.Z,{onClick:this.handleOpenForkPage,ref:this.handleForkPageRef,...e,children:(0,l.a)(He)})})}}Ne.displayName="Topbar";const Ke=Ne;function Ge(e){return(0,ie.jsxs)(fe.Z,{style:{padding:"0 10px",marginLeft:8},onClick:e.onClick,children:[(0,ie.jsx)(b.FormattedMessage,{defaultMessage:"Built with",id:"topbar.publicPage.cta.label.builtWithNotion"}),(0,d.h)(Ue)]})}function ze(e){M.UT({environment:e,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})}function We(e,t,o){let n=m.R6(e.device.isElectronMac);return t.state?n=2*m.TT:o.state&&(n=m.Aj),{width:"100%",maxWidth:"100vw",height:n,opacity:T.tu.state?0:1,transition:`\n            opacity ${Ae}ms,\n            color ${Ae}ms\n        `,position:"relative"}}},25906:(e,t,o)=>{o.d(t,{iY:()=>te,UP:()=>oe,W2:()=>ne});var n=o(67294),i=o(480),s=o(86628),r=o(24405),a=o(7525),l=o(80503),d=o(51454),c=o(9291),u=o(92650),p=o(95477),g=o(28651),h=o(28020),m=o(43250),b=o(81170),v=o(94841),f=o(74948),C=o(24646),x=o(36391),S=o(21273),w=o(77080),y=o(61766);const M=new y.Z,j=new y.Z;var k=o(52258),T=o(66708),Z=o(77503),I=o(34700),P=o(16402),B=o(16011),L=o(26388),_=o(85893);const F=e=>(0,_.jsx)(c.FormattedMessage,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:e}});function E(e){window.__c={n:"PageFreshnessMetadata"};const{store:t,isExpanded:o,isWindowSmall:i,isElectronMac:a}=e,l=(0,r.Fg)(),d=(0,s.VK)((()=>t.getLastEditedTime()),[t]),[c,u]=(0,n.useState)("flex"),[p,g]=(0,n.useState)(1);(0,n.useEffect)((()=>{let e;return o||i?o?(g(0),u("none")):(g(0),e=setTimeout((()=>u("none")),150)):(u("flex"),e=setTimeout((()=>g(1)),150)),()=>clearTimeout(e)}),[o,i]);const h=d?(0,P.IS)(d,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):"";return h?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("span",{style:{opacity:p,transition:"opacity 150ms linear",display:c,alignItems:"center",fontSize:14,color:l.lightTextColor,height:28,whiteSpace:"nowrap",lineHeight:1.2},children:(0,_.jsx)("div",{style:{display:"flex",flexFlow:"wrap"},children:(0,_.jsx)(L.ZP,{placement:L.ug.Bottom,alignment:L.v2.Start,renderTooltip:()=>(0,_.jsx)(B.Z,{store:t,compactFormat:!0}),render:e=>(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{...e,style:{...(0,I.X)({noDrag:a})},children:F(h)})})})})})}):null}var V=o(99659),O=o(11751),R=o(73063);function D(e){let{blockStore:t,spaceStore:o,buttonPopupStore:s}=e;window.__c={n:"TopbarAiContextButton"};const a=(0,i.O7)(),l=(0,n.useCallback)((()=>{(0,f.handleSidebarButtonClick)(a,t,x.gY.AiContext,"topbar")}),[a,t]),d=function(){const{isElectronMac:e}=(0,i.O7)().device;return(0,r.yK)((t=>({icon:{height:18,width:18,fill:t.regularIconColor},button:{...(0,I.X)({noDrag:e}),width:33,height:28,marginRight:2},buttonWrapper:{...(0,I.X)({noDrag:e}),position:"relative"}})),[e])}();return(0,_.jsx)(L.ZP,{placement:L.ug.Bottom,renderTooltip:()=>"AI Context [ai_team]",render:e=>(0,_.jsx)("div",{style:d.buttonWrapper,children:(0,_.jsx)(R.Z,{icon:O.t,iconStyle:d.icon,style:d.button,ariaLabel:"AI Context [ai_team]",onClick:l,...e})})})}var H=o(28311),U=o(50780),A=o(60597),N=o(50799),K=o(807);const G=(0,c.defineMessages)({editMode:{defaultMessage:"Edit mode",id:"topbar.editorModeButton.editMode"},suggestionMode:{defaultMessage:"Suggest mode",id:"topbar.editorModeButton.suggestMode"}});const z=function(e){let{store:t}=e;window.__c={n:"TopbarEditorModeButton"};const o=(0,i.O7)(),n=(0,c.useIntl)(),a=(0,s.VK)((()=>K.Z.getMode(t)),[t]),l="default"===a?U.E:A.y,d="default"===a?G.editMode:G.suggestionMode,u=(0,r.yK)((e=>({iconStyle:{height:20,width:20,fill:"suggest"===a?e.blueColor:void 0}})),[a]),p=()=>{N.t(t,"default"===a?"suggest":"default")};return(0,_.jsx)(L.ZP,{placement:L.ug.Bottom,renderTooltip:()=>(0,_.jsx)(c.FormattedMessage,{...d}),render:e=>(0,_.jsx)(R.Z,{...e,icon:l,style:{...(0,I.X)({noDrag:o.device.isElectronMac}),width:33,height:28,marginRight:2},iconStyle:u.iconStyle,onClick:p,ariaLabel:n.formatMessage(d)})})};var W=o(26399),q=o(43377),X=o(72485),Y=o(86467),Q=o(82774),$=o(22165),J=o(94107);const ee=3;function te(e){window.__c={n:"TopbarActionButtons"};const t=(0,i.O7)(),{device:o}=t,p=(0,c.useIntl)(),{store:y,spaceStore:I,pageVisitStore:P,presenceStore:B,collectionViewStore:L,spaceViewStore:F}=e,O=(0,s.VK)((()=>y.canEdit()),[y]),[R,U]=(0,s.AF)(void 0,g.Z),[A,N]=(0,n.useState)(!1),[K]=(0,s.AF)(x.ZP),G=(0,s.VK)((()=>h.qG(y.id)),[y]),te=(0,s.VK)((()=>(0,v.Kj)(y.id)),[y]),ie=(0,s.VK)((()=>ne({canEditPage:O,device:o})&&!te),[O,o,te]),se=(0,s.VK)((()=>Boolean(I&&!I.canEdit())),[I]),re=(0,s.VK)((()=>(0,C.Sx)(t)),[t]),ae=(0,s.VK)((()=>(0,u.ui)(t,!1)<1150),[t]),le=(0,s.VK)((()=>oe({isSpaceGuest:se,canEditPage:O})&&!te),[O,te,se]);(0,n.useEffect)((()=>{N(!re)}),[re]);const{canShowUpdateSidebarUnexpander:de,shouldShowUpdateSidebarUnexpander:ce}=(0,s.VK)((()=>{const e=!A&&re&&!(0,C._c)(t);return{canShowUpdateSidebarUnexpander:e,shouldShowUpdateSidebarUnexpander:e&&(K.mouseEntered||R.mouseEntered)}}),[A,re,t,R,K]),[ue]=(0,s.AF)(x.ZP),pe=(0,s.Kw)(h.tu),ge=(0,s.VK)((()=>!o.isMobile&&!te&&(!y.isCollectionView()||y.isCollectionViewPageWithContent())),[o.isMobile,te,y]),he=(0,s.VK)((()=>ge&&w.default.checkGate("human_suggested_edits")),[ge]),me=(0,s.VK)((()=>S.Z.isContextEnabled()),[]),be=(0,s.VK)((()=>!o.isMobile&&!te),[o.isMobile,te]),ve=(0,s.VK)((()=>w.default.checkGate("show_topbar_layout_info_button")),[]),fe=(0,r.yK)((()=>({actionButtonsWrapStyle:{flexGrow:0,flexShrink:0,display:"flex",alignItems:"center",paddingRight:o.isMobile?4:0,paddingLeft:o.isMobile?4:12,width:de?ue.width:void 0,justifyContent:"space-between",zIndex:d.A_,height:l.R6(t.device.isElectronMac),opacity:pe?0:1,transition:`\n\t\t\t\t\topacity ${V.nk}ms,\n\t\t\t\t\tcolor ${V.nk}ms\n\t\t\t\t`},rightButtonsContainer:{display:"flex"}})),[de,o,ue,t,pe]);if(e.isInvalidPage)return null;const Ce=o.isElectronMac&&pe||!de||!o.isElectron&&!ce||K.isAnimating;return(0,_.jsxs)("div",{style:fe.actionButtonsWrapStyle,onMouseMove:()=>{U({...R,mouseEntered:!0})},onMouseLeave:()=>{U({...R,mouseEntered:!1})},className:m.A_D,children:[Ce?(0,_.jsx)("div",{}):(0,_.jsx)("div",{className:m.JiD,children:(0,_.jsx)($.C,{shouldHide:Ce,icon:a.t,caption:p.formatMessage({defaultMessage:"Close sidebar",id:"updateSidebarUnexpandButton.closeSidebar.tooltip"}),onClick:()=>{N(!0),f.setUpdateExpand({environment:t,isExpanded:!1,from:"close_for_space"})},keyboardShortcutName:"toggleUpdateSidebar",isElectron:o.isElectron})}),(0,_.jsxs)("div",{style:fe.rightButtonsContainer,children:[!te&&(0,_.jsx)(E,{store:y,isExpanded:re,isWindowSmall:ae,isElectronMac:o.isElectronMac}),O&&P&&B&&(0,_.jsx)(Y.Z,{rootStore:y,pageVisitStore:P,presenceStore:B,maxUsers:K.expanded?ee:void 0}),le&&(0,_.jsx)(Q.Z,{store:y,buttonPopupStore:T.Z}),he&&(0,_.jsx)(z,{store:y}),me&&y&&I&&(0,_.jsx)(D,{blockStore:y,spaceStore:I,buttonPopupStore:M}),ge&&(0,_.jsx)(H.Z,{blockStore:y,spaceStore:I,buttonPopupStore:j}),ie&&(0,_.jsx)(J.Z,{blockStore:y,spaceStore:I,buttonPopupStore:Z.Z}),ve&&(0,_.jsx)(q.b,{blockStore:y}),(0,_.jsx)(W.Z,{store:y,spaceViewStore:F}),G&&(0,_.jsx)(b.Z,{}),be&&(0,_.jsx)(X.Z,{store:y,collectionViewStore:L,buttonPopupStore:k.Z})]})]})}function oe(e){const{canEditPage:t,isSpaceGuest:o}=e;return!!p.default.isAdminMode||(!o||t)}function ne(e){const{canEditPage:t,device:o}=e;return!!p.default.isAdminMode||!!t&&!o.isPhone}},71039:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(67294),i=o(480),s=o(86628),r=o(1464),a=o(45238),l=o(85893);const d=(0,a.I)("chevronLeftRoundedThin",{viewBox:"0 0 24 24",svg:(0,l.jsx)("path",{d:"M7 11.8594C7 11.9948 7.02344 12.1198 7.07031 12.2344C7.1224 12.349 7.20052 12.4583 7.30469 12.5625L13.3906 18.5156C13.5677 18.6927 13.7812 18.7812 14.0312 18.7812C14.2031 18.7812 14.3568 18.7396 14.4922 18.6562C14.6328 18.5781 14.7448 18.4688 14.8281 18.3281C14.9115 18.1927 14.9531 18.0417 14.9531 17.875C14.9531 17.625 14.8568 17.4036 14.6641 17.2109L9.17969 11.8594L14.6641 6.50781C14.8568 6.3151 14.9531 6.09635 14.9531 5.85156C14.9531 5.67969 14.9115 5.52604 14.8281 5.39062C14.7448 5.25521 14.6328 5.14844 14.4922 5.07031C14.3568 4.98698 14.2031 4.94531 14.0312 4.94531C13.7812 4.94531 13.5677 5.03125 13.3906 5.20312L7.30469 11.1562C7.20052 11.2604 7.1224 11.3698 7.07031 11.4844C7.02344 11.599 7 11.724 7 11.8594Z"})});var c=o(10020),u=o(12392),p=o(13530);const g=(0,a.I)("plusRounded",{viewBox:"0 0 24 24",svg:(0,l.jsx)("path",{d:"M5.46094 11.8594C5.46094 12.1042 5.54688 12.3125 5.71875 12.4844C5.89062 12.651 6.09635 12.7344 6.33594 12.7344H11.125V17.5312C11.125 17.7656 11.2109 17.9688 11.3828 18.1406C11.5547 18.3125 11.7604 18.3984 12 18.3984C12.2448 18.3984 12.4531 18.3125 12.625 18.1406C12.7969 17.9688 12.8828 17.7656 12.8828 17.5312V12.7344H17.6641C17.9036 12.7344 18.1094 12.651 18.2812 12.4844C18.4531 12.3125 18.5391 12.1042 18.5391 11.8594C18.5391 11.6198 18.4531 11.4141 18.2812 11.2422C18.1094 11.0651 17.9036 10.9766 17.6641 10.9766H12.8828V6.19531C12.8828 5.95573 12.7969 5.75 12.625 5.57812C12.4531 5.40625 12.2448 5.32031 12 5.32031C11.7604 5.32031 11.5547 5.40625 11.3828 5.57812C11.2109 5.75 11.125 5.95573 11.125 6.19531V10.9766H6.33594C6.09635 10.9766 5.89062 11.0651 5.71875 11.2422C5.54688 11.4141 5.46094 11.6198 5.46094 11.8594Z"})});var h=o(9291),m=o(66324),b=o(47839),v=o(8055),f=o(24098),C=o(34700),x=o(18514),S=o(24042),w=o(88923),y=o(64921),M=o(73063),j=o(58261),k=o(53437),T=o(26388);const Z={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:32},I=(0,h.defineMessages)({newTabButton:{id:"topbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"topbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"topbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}});const P=function(e){let{supportsNativeHomeTabPhone:t}=e;return window.__c={n:"TopbarBrowserButtons"},(0,i.O7)().device.isMobile?(0,l.jsx)(D,{supportsNativeHomeTabPhone:t}):(0,l.jsx)(U,{supportsNativeHomeTabPhone:t})};function B(){b.openInNewTab({url:"",makeTabActive:!0,position:"start"})}function L(){window.__c={n:"NewTabButtonComponent"};const e=(0,h.useIntl)(),t=(0,i.Fy)();return(0,s.VK)((()=>S.Z.state.isTabsFeatureEnabled),[])?(0,l.jsx)(T.ZP,{renderTooltip:()=>(0,l.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(I.newTabButton),(0,l.jsx)(j.Z,{name:"newTab",style:{opacity:.5,marginLeft:4}})]}),placement:T.ug.Bottom,alignment:T.v2.Center,originGap:6,render:o=>(0,l.jsx)(M.Z,{ariaLabel:e.formatMessage(I.newTabButton),icon:e=>g({...e,width:"24px",height:"24px"}),isDarkIconColor:!0,className:"notion-new-tab-button",style:{position:"relative",...(0,C.X)({noDrag:t.isElectronMac})},onClick:B,...o})}):null}function _(e){m.ME(e,{type:"forward"}),v.eH()}function F(e,t){const{mobileNative:o}=e;m.ME(e,{type:"back"}),x.__(e)?v.op(e):t&&!x.NW(e)?null==o||o.showNativeHomeTab():v.op(e)}function E(e){let{supportsNativeHomeTabPhone:t}=e;window.__c={n:"BackButtonComponent"};const o=(0,h.useIntl)(),r=(0,i.O7)(),a=(0,n.useCallback)((e=>d({...e,width:"24px",height:"24px"})),[]),c=(0,n.useCallback)((e=>(0,u.S)(e)),[]),p=(0,s.VK)((()=>!x.NW(r)),[r]),g=(0,s.VK)((()=>S.Z.state.isTabsFeatureEnabled?a:c),[c,a]);return(0,l.jsx)(T.ZP,{renderTooltip:()=>(0,l.jsxs)("div",{style:{display:"flex"},children:[o.formatMessage(I.goBackButton),(0,l.jsx)(j.Z,{name:"goBack",style:{opacity:.5,marginLeft:4}})]}),placement:T.ug.Bottom,alignment:T.v2.Center,originGap:6,render:e=>(0,l.jsx)(M.Z,{ariaLabel:o.formatMessage(I.goBackButton),icon:g,isDarkIconColor:!0,className:"notion-history-back-button",disabled:p,style:{position:"relative",...(0,C.X)({noDrag:r.device.isElectronMac})},onClick:()=>F(r,t),...e})})}function V(){window.__c={n:"ForwardButtonComponent"};const e=(0,h.useIntl)(),t=(0,i.O7)(),o=(0,n.useCallback)((e=>(0,c.C)({...e,width:"24px",height:"24px"})),[]),r=(0,n.useCallback)((e=>(0,p.s)(e)),[]),a=(0,s.VK)((()=>!x.vy(t)),[t]),d=(0,s.VK)((()=>S.Z.state.isTabsFeatureEnabled?o:r),[r,o]);return(0,l.jsx)(T.ZP,{renderTooltip:()=>(0,l.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(I.goForwardButton),(0,l.jsx)(j.Z,{name:"goForward",style:{opacity:.5,marginLeft:4}})]}),placement:T.ug.Bottom,alignment:T.v2.Center,originGap:6,render:o=>(0,l.jsx)(M.Z,{ariaLabel:e.formatMessage(I.goForwardButton),icon:d,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:a,style:{position:"relative",...(0,C.X)({noDrag:t.device.isElectronMac})},onClick:()=>_(t),...o})})}function O(e){let{supportsNativeHomeTabPhone:t}=e;window.__c={n:"MobileBackButtonComponent"};const o=(0,i.O7)(),{RouterStore:n}=o,a=(0,s.VK)((()=>!t&&!n.canGoBack()),[t,n]);return(0,l.jsx)(y.Z,{onClick:()=>F(o,t),className:"notion-history-back-button",disabled:a,disabledFeedback:!0,mobileFeedback:!0,style:Z,children:t?(0,r.k)():(0,u.S)({width:16,height:16})})}function R(){window.__c={n:"MobileForwardButtonComponent"};const e=(0,i.O7)(),t=(0,s.VK)((()=>!x.vy(e)),[e]);return(0,l.jsx)(y.Z,{onClick:()=>_(e),className:"notion-history-forward-button",disabled:t,mobileFeedback:!0,disabledFeedback:!0,style:Z,children:(0,p.s)({width:16,height:16})})}function D(e){let{supportsNativeHomeTabPhone:t}=e;window.__c={n:"MobileComponent"};const o=(0,i.O7)(),n=(0,s.VK)((()=>o.device.isTablet),[o]);return t||n?(0,l.jsx)(f.Z,{capture:!0,render:e=>(0,l.jsxs)("div",{style:{display:"flex",flexShrink:0,height:"100%",paddingLeft:4,paddingRight:t?0:4},...e,children:[(0,l.jsx)(O,{supportsNativeHomeTabPhone:t}),!t&&(0,l.jsx)(R,{})]})}):null}function H(e){let{supportsNativeHomeTabPhone:t}=e;return(0,l.jsx)(f.Z,{capture:!0,render:e=>(0,l.jsxs)("div",{style:{display:"flex",flexShrink:0},...e,children:[(0,l.jsx)(E,{supportsNativeHomeTabPhone:t}),(0,l.jsx)(V,{}),(0,l.jsx)(L,{})]})})}function U(e){let{supportsNativeHomeTabPhone:t}=e;window.__c={n:"DesktopComponent"};const o=(0,s.VK)((()=>w.default.isCenterPeekOpen()),[]);return(0,l.jsx)(k.ZP,{style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,l.jsx)(H,{supportsNativeHomeTabPhone:t}),render:()=>(0,l.jsx)(H,{supportsNativeHomeTabPhone:t}),placementToOrigin:k.ZP.Placement.Center,alignmentToOrigin:k.ZP.Alignment.Center,open:o,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:k.ZP.PopupType.Popup})}},28311:(e,t,o)=>{o.d(t,{Z:()=>w});o(67294);var n=o(480),i=o(86628),s=o(24405),r=o(8848),a=o(47560),l=o(9291),d=o(7476),c=o(34047),u=o(43250),p=o(34700),g=o(74948),h=o(24646),m=o(36391),b=o(88923),v=o(73063),f=o(26388),C=o(85893);const x=(0,l.defineMessages)({updates:{id:"topbar.commentsButton.title",defaultMessage:"Comments"}});const S=()=>{window.__c={n:"TopBarNotificationDot"};const{dot:e}=(0,s.yK)((e=>({dot:{position:"absolute",top:1.8,right:5.5,height:11,width:11,border:`2px solid ${e.whiteButtonBackground}`,borderRadius:12,background:r.ZP.red,pointerEvents:"none"}})),[]);return(0,C.jsx)("div",{style:e})},w=function(e){let{blockStore:t}=e;window.__c={n:"TopbarCommentsButton"};const o=(0,l.useIntl)(),r=(0,s.Fg)(),w=(0,n.O7)(),y=(0,i.SI)((()=>(0,c.DF)({blockStore:t,ignoreAfterTime:Date.now()}).some((e=>!e.getResolved()&&(0,c.NI)(e).some((t=>d.t({discussionStore:e,commentStore:t})))))),[t]),M=(0,i.VK)((()=>y.state),[y]),j=(0,i.VK)((()=>h.vK(w)),[w])?(0,C.jsx)("div",{style:{textAlign:"center"},children:(0,C.jsx)(l.FormattedMessage,{defaultMessage:"Close all comments",id:"topbar.commentsButton.closeSidebartTooltip"})}):(0,C.jsx)("div",{style:{textAlign:"center"},children:(0,C.jsx)(l.FormattedMessage,{defaultMessage:"View all comments",id:"topbar.commentsButton.openSidebartTooltip"})});return(0,C.jsx)(f.ZP,{placement:f.ug.Bottom,renderTooltip:()=>j,render:e=>(0,C.jsxs)("div",{style:{...(0,p.X)({noDrag:w.device.isElectronMac}),position:"relative"},children:[(0,C.jsx)(v.Z,{...e,icon:a.o,iconStyle:{height:20,width:20,fill:r.regularIconColor},onClick:()=>function(e,t){g.handleSidebarButtonClick(t,e,m.gY.Comments,"topbar")}(t,w),style:{width:33,height:28,marginRight:2},ariaLabel:o.formatMessage(x.updates),hovered:h.vK(w)&&!b.default.state.open,className:u.p0b}),M&&(0,C.jsx)(S,{})]}),children:j})}},84920:(e,t,o)=>{o.d(t,{Z:()=>R});var n=o(67294),i=o(12183),s=o(480),r=o(86628),a=o(24405),l=o(27961),d=o(38737),c=o(9291),u=o(3022),p=o(47307),g=o(53323),h=o(34700),m=o(45023),b=o(87279),v=o(15517),f=o(88632),C=o(99757),x=o(38335),S=o(8848),w=o(80750),y=o(16402),M=o(85893);function j(e){window.__c={n:"ConnectionErrorIndicatorLabel"};const t=(0,x.f)(500);if(e.device.isMobile)return(0,w.l)({width:24,height:"100%"});if(void 0===e.error.approximateBackoffDelayEndTime)return(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Something's not right.",id:"connectionErrorIndicator.label.shortMessage"});const o=Math.floor((e.error.approximateBackoffDelayEndTime-t)/1e3);return o>0?(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Something's not right. Retrying in {numberOfSeconds}s…",values:{numberOfSeconds:o},id:"connectionErrorIndicator.label.retryingInSeconds"}):(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Something's not right. Retrying…",id:"connectionErrorIndicator.label.retrying"})}function k(e){window.__c={n:"ConnectionErrorIndicatorDetails"},(0,x.f)(1e4);const{startTime:t}=e,o=(0,y.IS)(t),i=(0,s.O7)();return(0,n.useEffect)((()=>{u.ap(i,{errorSinceMs:Date.now()-t})}),[i,t]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(c.FormattedMessage,{defaultMessage:"{sinceSomeTimeAgo}, an error occurred saving your changes. We'll try again soon.",values:{sinceSomeTimeAgo:o},id:"connectionErrorIndicator.details.message"}),e.retryReason?(0,M.jsx)("div",{style:{marginTop:8,fontSize:12,color:S.ZP.whiteWithAlpha(.7),fontStyle:"italic"},children:(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Debug info: {debugInfo}",values:{debugInfo:e.retryReason},id:"connectionErrorIndicator.details.debugInfo"})}):void 0]})}var T=o(31945),Z=o(68785),I=o(78140),P=o(89728),B=o(26388);const L=e=>(0,M.jsx)(c.FormattedMessage,{defaultMessage:"You can no longer make edits: {errorMessage} {usageInfoMessage}",id:"connectionState.errorIndicator.cannotMakeEdits.detailedMessage",values:{errorMessage:e.errorMessage,usageInfoMessage:e.usageInfoMessage}}),_=e=>{window.__c={n:"ErrorIndicator"};const t=(0,a.Fg)(),o=(0,s.O7)(),i=(0,l.z)({marginLeft:6,width:14,height:14,fill:e.errorStateStyle.color}),r="transactionQueue"===e.type?e.message:void 0,d="lowStorage"===e.type?e.estimate:void 0;return(0,n.useEffect)((()=>{"transactionQueue"===e.type?u.sI(o,{message:r}):"connection"===e.type?u.SL(o):"lowStorage"===e.type&&u.zQ(o,{estimate:d})}),[e.type,r,d,o]),(0,n.useEffect)((()=>{r&&p.showThrottledErrorMessage((0,M.jsx)(L,{errorMessage:r}))}),[r]),o.device.isMobile?(0,M.jsx)(T.ZP,{popupType:T.Z4.SlideUp,renderOrigin:t=>(0,M.jsx)(P.Z,{style:e.errorStateStyle,...t,children:e.indicatorText||i}),render:o=>{let{close:n}=o;return(0,M.jsx)(I.Z,{menuType:b.og.ActionSheet,children:(0,M.jsx)("div",{style:{padding:15,background:t.errorText,color:"white"},onClick:n,children:e.detailsText})})}}):(0,M.jsx)(B.ZP,{renderTooltip:()=>(0,M.jsx)("div",{style:{width:320,whiteSpace:"normal"},children:e.detailsText}),render:t=>(0,M.jsxs)("div",{style:e.errorStateStyle,...t,children:[e.indicatorText,i]})})};function F(e){let{showLoadingSpinner:t}=e;window.__c={n:"MobileLoadingSpinner"};const o=(0,s.O7)(),n=(0,r.VK)((()=>{var e;return null===(e=o.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[o]);return(0,M.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",paddingLeft:!n||t?4:0,paddingRight:!n||t?8:0,visibility:t?"visible":"hidden"},children:(!n||t)&&(0,M.jsx)(Z.Z,{style:{height:18,width:18}})})}function E(e){return{display:"flex",alignItems:"center",marginRight:e?0:18,fontSize:e?12:14}}function V(e){let{isOnline:t,showLoadingSpinner:o}=e;window.__c={n:"DesktopIndicators"};const n=(0,c.useIntl)(),i=(0,s.Fy)(),r=(0,a.yK)((e=>({offlineBadge:{...(0,h.X)({noDrag:i.isElectronMac}),display:"flex",alignItems:"center",padding:"0px 6px",height:i.isMobile?20:24,borderRadius:4,marginRight:i.isMobile?4:18,whiteSpace:"nowrap",fontSize:i.isMobile?12:14,color:e.mediumTextColor,border:`1px solid ${e.darkDividerColor}`},loadingState:{...(0,h.X)({noDrag:i.isElectronMac}),...E(i.isMobile),color:e.lightTextColor}})),[i]);return t?o?(0,M.jsx)(B.ZP,{renderTooltip:()=>(0,M.jsx)(c.FormattedMessage,{defaultMessage:"{percent} complete.",id:"connectionState.savePercentangeIndicator.tooltip",values:{percent:C.Z.percentComplete(n)}}),render:e=>(0,M.jsxs)("div",{style:r.loadingState,...e,children:[(0,M.jsx)(Z.Z,{style:{margin:4,marginRight:8}}),(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Saving…",id:"connectionState.saving.message"})]})}):null:(0,M.jsx)(B.ZP,{renderTooltip:()=>(0,M.jsx)("div",{style:{width:200},children:(0,M.jsx)(c.FormattedMessage,{defaultMessage:"{numberOfEdits, plural, one {You have {numberOfEdits} edit that will be synced next time you are online.} other {You have {numberOfEdits} edits that will be synced next time you are online.}}",id:"connectionState.offlineBadge.tooltip",values:{numberOfEdits:C.Z.state.totalPending}})}),textWrap:!0,render:e=>(0,M.jsx)("div",{style:r.offlineBadge,...e,children:(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Offline",id:"connectionState.offlineBadge.label"})})})}function O(){window.__c={n:"ErrorMessages"};const e=(0,s.Fy)(),t=(0,r.VK)((()=>C.Z.state.transactionQueueError),[]),o=(0,r.VK)((()=>C.Z.state.storageUsageEstimate),[]),i=(0,c.useIntl)(),l=(0,a.yK)((t=>({errorState:{...(0,h.X)({noDrag:e.isElectronMac}),...E(e.isMobile),whiteSpace:"nowrap",color:t.errorText}})),[e]),u=(0,r.VK)((()=>(0,g.L)()),[]),p=()=>{if(o){const e=o.usage/o.quota;return(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Notion is using {percentageOfStorageBytesUsed} of its available storage on your device ({usedNumberOfBytes} of {totalNumberOfBytes}).",id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart1",values:{usedNumberOfBytes:(0,d.uf)(o.usage,"bytes",i),totalNumberOfBytes:(0,d.uf)(o.quota,"bytes",i),percentageOfStorageBytesUsed:i.formatNumber(e,{style:"percent",maximumFractionDigits:2})}})}};if(t){const e=(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Cannot save changes",id:"connectionState.errorIndicator.cannotSaveChanges.message"}),o=(0,M.jsx)(L,{errorMessage:t.message,usageInfoMessage:p()});return(0,M.jsx)(_,{type:"transactionQueue",message:t.message,indicatorText:e,detailsText:o,errorStateStyle:l.errorState})}if(void 0!==o&&!(0,v.mn)(o)){const t=e.isBrowser?(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Low browser storage",id:"connectionState.errorIndicator.lowStorageOnWebApp.message"}):e.isMobileNative?(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Low app storage",id:"connectionState.errorIndicator.lowStorageOnMobileApp.message"}):(0,M.jsx)(c.FormattedMessage,{defaultMessage:"Low disk space",id:"connectionState.errorIndicator.lowStorageOnDesktopApp.message"});return(0,M.jsx)(_,{type:"lowStorage",estimate:o,indicatorText:t,detailsText:(0,M.jsxs)(n.Fragment,{children:[p()," ",(0,M.jsx)(c.FormattedMessage,{id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart2",defaultMessage:"You may lose changes made while offline. Try closing and re-opening your app, and contact support if that doesn’t fix the issue."})]}),errorStateStyle:l.errorState})}return u?(0,M.jsx)(_,{type:"connection",indicatorText:(0,M.jsx)(j,{error:u,device:e}),detailsText:(0,M.jsx)(k,{...u}),errorStateStyle:l.errorState}):null}const R=function(){window.__c={n:"TopbarConnectionIndicator"};const e=(0,r.VK)((()=>f.Z.state.online),[]),t=(0,r.VK)((()=>!C.n.state),[]),o=function(){const e=(0,n.useRef)(!1),[t,o]=(0,n.useState)(!1),s=(0,i.v)((()=>{f.Z.state.syncing&&!e.current&&(e.current=!0,o(!0))}),8e3),r=(0,i.v)((()=>{e.current&&!f.Z.state.syncing&&(e.current=!1,o(!1))}),200);return(0,n.useEffect)((()=>(f.Z.addListener(s),f.Z.addListener(r),()=>{f.Z.removeListener(s),f.Z.removeListener(r)})),[s,r]),e.current}(),a=function(e,t){const o=(0,s.O7)(),[i,r]=(0,n.useState)(!1),a=(0,n.useCallback)((n=>{(0,m.Z)(o,n,"command+s")&&(n.preventDefault(),e&&!i&&t&&(r(!0),setTimeout((()=>{r(!1)}),500)))}),[o,i,t,e]);return(0,n.useEffect)((()=>(window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)})),[a]),i}(e,t),l=(0,s.Fy)(),d=(0,r.VK)((()=>!(0,g.n)()),[]),c=(a||o)&&t&&d;return(0,M.jsxs)(M.Fragment,{children:[l.isMobile?(0,M.jsx)(F,{showLoadingSpinner:c}):(0,M.jsx)(V,{isOnline:e,showLoadingSpinner:c}),(0,M.jsx)(O,{})]})}},26399:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(67294),i=o(480),s=o(86628),r=o(24405),a=o(45238),l=o(85893);const d=(0,a.I)("topbarStar",{viewBox:"0 0 20 20",svg:(0,l.jsx)("path",{d:"M4.77321 18.0645C5.14821 18.3457 5.60915 18.252 6.1404 17.8691L10.2029 14.8848L14.2576 17.8691C14.7888 18.252 15.2498 18.3457 15.6248 18.0645C15.992 17.7832 16.0701 17.3223 15.8591 16.7051L14.2576 11.9395L18.3513 9.00195C18.8826 8.62695 19.1013 8.20508 18.9529 7.76758C18.8045 7.33008 18.3904 7.11133 17.7341 7.11914L12.7185 7.1582L11.1873 2.36133C10.9841 1.73633 10.6638 1.40039 10.2029 1.40039C9.73415 1.40039 9.41383 1.73633 9.21071 2.36133L7.68727 7.1582L2.66383 7.11914C2.00758 7.11133 1.59352 7.33008 1.44508 7.75977C1.29665 8.20508 1.52321 8.62695 2.04665 9.00195L6.1404 11.9395L4.53883 16.7051C4.3279 17.3223 4.40602 17.7832 4.77321 18.0645ZM6.17165 16.1504C6.15602 16.1348 6.15602 16.127 6.17165 16.0801L7.64821 11.916C7.78102 11.5254 7.74196 11.291 7.37477 11.0488L3.72633 8.54883C3.69508 8.52539 3.67946 8.50977 3.69508 8.49414C3.7029 8.4707 3.71852 8.4707 3.75758 8.4707L8.17946 8.57227C8.58571 8.58789 8.79665 8.45508 8.91383 8.05664L10.156 3.82227C10.1716 3.77539 10.1795 3.75977 10.2029 3.75977C10.2185 3.75977 10.2341 3.77539 10.242 3.82227L11.4841 8.05664C11.6013 8.45508 11.8123 8.58789 12.2263 8.57227L16.6404 8.4707C16.6873 8.4707 16.7029 8.4707 16.7107 8.49414C16.7185 8.50977 16.7029 8.52539 16.6716 8.54883L13.0232 11.0488C12.6638 11.291 12.617 11.5254 12.7576 11.916L14.2263 16.0801C14.242 16.127 14.242 16.1348 14.2263 16.1504C14.2185 16.166 14.1951 16.1582 14.1638 16.1348L10.6638 13.4316C10.3357 13.1816 10.0623 13.1816 9.73415 13.4316L6.23415 16.1348C6.2029 16.1582 6.18727 16.166 6.17165 16.1504Z"})}),c=(0,a.I)("topbarStarFilled",{viewBox:"0 0 20 20",svg:(0,l.jsx)("path",{d:"M4.77321 18.0645C5.14821 18.3457 5.60915 18.252 6.1404 17.8691L10.2029 14.8848L14.2576 17.8691C14.7888 18.252 15.2498 18.3457 15.6248 18.0645C15.992 17.7832 16.0701 17.3223 15.8591 16.7051L14.2576 11.9395L18.3513 9.00195C18.8826 8.62695 19.1013 8.20508 18.9529 7.76758C18.8045 7.33008 18.3904 7.11133 17.7341 7.11914L12.7185 7.1582L11.1873 2.36133C10.9841 1.73633 10.6638 1.40039 10.2029 1.40039C9.73415 1.40039 9.41383 1.73633 9.21071 2.36133L7.68727 7.1582L2.66383 7.11914C2.00758 7.11133 1.59352 7.33008 1.44508 7.75977C1.29665 8.20508 1.52321 8.62695 2.04665 9.00195L6.1404 11.9395L4.53883 16.7051C4.3279 17.3223 4.40602 17.7832 4.77321 18.0645Z"})});var u=o(9291),p=o(24677),g=o(82530),h=o(97978),m=o(43250),b=o(34700),v=o(92783),f=o(74948),C=o(73063),x=o(58261),S=o(26388);const w=(0,u.defineMessages)({isBookmarkedMessage:{defaultMessage:"Favorited",id:"topbar.favoriteButton.activeTitle"},isNotBookmarkedMessage:{defaultMessage:"Favorite",id:"topbar.favoriteButton.title"},isBookmarkedTooltip:{defaultMessage:"Remove from your favorites",id:"topbar.favoriteButton.activeTooltip1"},isNotBookmarkedTooltip:{defaultMessage:"Add to your favorites",id:"topbar.favoriteButton.tooltip1"}});const y=function(e){let{spaceViewStore:t,store:o}=e;window.__c={n:"TopbarFavoriteButton"};const a=(0,r.Fg)(),x=(0,i.O7)(),y=(0,u.useIntl)(),j=(0,s.VK)((()=>!!t&&(0,v.Z)({spaceViewStore:t,pageId:o.id})),[t,o]),k=j?c:d,T=(0,n.useMemo)((()=>j?()=>function(e,t,o){if(!o)return;p.ZH(t),h.j(t,"unbookmark",{from:"topbar"}),g.createAndCommit({userAction:"TopbarFavoriteButton.handleUnbookmarkClick",environment:t,perform:t=>{f.unbookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}(o,x,t):()=>function(e,t,o){if(!o)return;p.ZH(t),h.j(t,"bookmark",{from:"topbar"}),g.createAndCommit({userAction:"TopbarFavoriteButton.handleBookmarkClick",environment:t,perform:t=>{f.bookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}(o,x,t)),[j,o,x,t]);return(0,l.jsx)(S.ZP,{placement:S.ug.Bottom,renderTooltip:()=>(0,l.jsx)(M,{isBookmarked:j}),render:e=>(0,l.jsx)(C.Z,{...e,className:m.GbT,icon:k,style:{...(0,b.X)({noDrag:x.device.isElectronMac}),width:33,height:28,marginRight:2},iconStyle:{height:20,width:20,fill:j?a.topbarFavorite:a.regularIconColor},onClick:T,ariaLabel:y.formatMessage(j?w.isBookmarkedMessage:w.isNotBookmarkedMessage)})})};function M(e){let{isBookmarked:t}=e;window.__c={n:"TooltipMessageComponent"};const o=(0,r.Fg)();return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{children:(0,l.jsx)(u.FormattedMessage,{...t?w.isBookmarkedTooltip:w.isNotBookmarkedTooltip})}),(0,l.jsx)(x.Z,{style:{color:o.mediumInvertedTextColor},name:"toggleFavorite"})]})}},43377:(e,t,o)=>{o.d(t,{b:()=>p});o(67294);var n=o(480),i=o(24405),s=o(44495),r=o(9291),a=o(74948),l=o(36391),d=o(73063),c=o(26388),u=o(85893);function p(e){window.__c={n:"TopbarLayoutInfoButton"};const{blockStore:t}=e,o=(0,i.Fg)(),p=(0,n.O7)(),g=(0,r.useIntl)(),h=(0,u.jsx)("div",{style:{textAlign:"center"},children:(0,u.jsx)(r.FormattedMessage,{defaultMessage:"Show page info",id:"topbar.infoButton.tooltip"})});return(0,u.jsx)(c.ZP,{placement:c.ug.Bottom,renderTooltip:()=>h,render:e=>(0,u.jsx)(d.Z,{...e,style:{width:33,height:28},icon:s.D,iconStyle:{height:20,width:20,fill:o.regularIconColor},onClick:()=>a.handleSidebarButtonClick(p,t,l.gY.Info,"info"),ariaLabel:g.formatMessage({defaultMessage:"Info",id:"topbar.infoButton.text"})})})}},72485:(e,t,o)=>{o.d(t,{Z:()=>k});o(67294);var n=o(73935),i=o(83355),s=o(56666),r=o(30681),a=o(9291),l=o(36610),d=o(24677),c=o(43250),u=o(34700),p=o(98742),g=o(35328),h=o(77907),m=o(80444),b=o(21884),v=o(64921),f=o(31945),C=o(26388),x=o(28451),S=o(81415),w=o(71424),y=o(85893);function M(e){return(0,y.jsx)(x.P,{calloutId:"wiki_promo",children:(0,y.jsx)(S.U,{origin:()=>e.origin,placementToOrigin:"bottom",header:"Upgrade your existing wikis",content:"Look for the Turn into wiki action here",onCloseClick:()=>{b.E.reset()},pointerPosition:"98%",pointerLength:24,pointerOffset:-3,style:{width:w.G5}})})}class j extends i.Z{constructor(){super(...arguments),this.originEl=null,this.onClickOriginRect=void 0,this.renderOrigin=e=>{const{device:t}=this.environment;return(0,y.jsx)(C.ZP,{renderTooltip:()=>this.environment.currentUser.isLoggedIn()?(0,y.jsx)(a.FormattedMessage,{defaultMessage:"Style, export, and more…",id:"topbarMoreButton.tooltip"}):(0,y.jsx)(a.FormattedMessage,{defaultMessage:"More…",id:"topbarMoreButton.loggedOut.tooltip"}),placement:C.ug.Bottom,delayThreshold:400,render:o=>(0,y.jsx)(v.Z,{ref:this.handleButtonMount,style:T(this.environment),mobileFeedback:t.isMobile,className:c.mSZ,...(0,p.Z)(e,o),children:t.isMobile?(0,r.I)({width:26}):(0,s.o)({width:18,height:18,fill:this.theme.regularIconColor})})})},this.handleButtonMount=e=>{e&&(this.originEl=n.findDOMNode(e))},this.handleClick=()=>{b.E.reset(),d.ZH(this.environment),this.originEl&&(this.onClickOriginRect=this.originEl.getBoundingClientRect()),l.kq(this.environment)}}renderComponent(){const{device:e}=this.environment,t=b.E.state.showConvertTooltip;return(0,y.jsxs)(y.Fragment,{children:[t?(0,y.jsx)(M,{origin:this.originEl}):null,(0,y.jsx)(f.ZP,{popupType:e.isMobile?f.Z4.SlideUp:f.Z4.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:()=>(0,y.jsx)(h.LazyTopbarMoreMenu,{blockStore:this.props.store,onClickOriginRect:this.onClickOriginRect,handleAccept:e=>function(e,t,o){const{mainEditorCurrentBlockStore:n}=m.default.state;if(n){const t=n.getType();t&&l.dh(o,{analyticsName:e.analyticsName,action_type:e.analyticsActionType,from:"topbar_more_menu",block_id:n.id,block_type:t,is_toggleable:(0,g._A)(t,n.getFormat())})}e.closeParentMenu&&Z(t)}(e,this.props.buttonPopupStore,this.environment),handleDismiss:()=>Z(this.props.buttonPopupStore)}),originGap:8,trapFocus:!0,forceInitialInbound:!0,style:e.isMobile?{}:{width:240,maxHeight:"80vh"}})]})}}j.displayName="TopbarMoreButton";const k=j;function T(e){const{device:t}=e;return t.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2}:{...(0,u.X)({noDrag:e.device.isElectronMac}),display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4}}function Z(e){e.setState({...e.state,open:!1})}},5002:(e,t,o)=>{o.d(t,{Z:()=>s});o(67294);var n=o(24405),i=o(85893);const s=function(){window.__c={n:"TopbarPeekControlsSeparator"};const e=(0,n.yK)((e=>({separator:{height:14,width:1,marginLeft:6,marginRight:6,background:e.darkDividerColor}})),[]);return(0,i.jsx)("div",{style:e.separator})}},86467:(e,t,o)=>{o.d(t,{Z:()=>B});o(57658);var n=o(67294),i=o(83355),s=o(13991),r=o(480),a=o(86628),l=o(24405),d=o(7057),c=o(72126),u=o(19889),p=o(7928),g=o(9291),h=o(61045),m=o(34700),b=o(20095),v=o(79797),f=o(64921),C=o(26388),x=o(64369),S=o(29302),w=o(45653),y=o(40107),M=o(44615),j=o(25320),k=o(2688),T=o(53730);function Z(e){window.__c={n:"PageVisitListener"};const t=(0,r.O7)(),o=(0,n.useRef)(),i=(0,y.t)(),s=(0,n.useCallback)((async()=>{if(await T.transactionQueue.awaitRecordTransaction(e.block.pointer),!i())return;const n=(0,M.pb)(e.block.id);o.current=k.ZP.addListener(n,c.P2((()=>j.Ri(t,{block:e.block,pageVisitStore:e.pageVisitStore,incremental:!0,limit:e.limit})),1e3),void 0,t)}),[t,i,e.block,e.limit,e.pageVisitStore]),a=(0,n.useCallback)((()=>{o.current&&(k.ZP.removeListener(o.current,t),o.current=void 0)}),[t]);return(0,n.useEffect)((()=>(s(),a)),[s,a]),null}var I=o(85893);class P extends i.Z{constructor(){super(...arguments),this.renderStateStore=this.createComputedStore((()=>{const{pageVisitStore:e,presenceStore:t}=this.props,o=(0,b.AQ)(e,t),n=this.environment.currentUser.id;if(!n)return;const i=F(n,this.props.rootStore),s=o.find((e=>e.userId===n));if(!s||!i.isDefined())return;let r=o.filter((e=>e.userId!==n&&(0,b.MR)(this.environment,e)));r=L(r).reverse();const a=L(c.e5(o,r,[s])).reverse(),l=[...r,...a],d=_(this.props.maxUsers)-1;return{visibleUsers:l.slice(0,d),hiddenUsers:l.slice(d)}}),!0)}renderComponent(){return(0,I.jsxs)(I.Fragment,{children:[this.renderPresence(),(0,I.jsx)(Z,{block:this.props.rootStore,pageVisitStore:this.props.pageVisitStore,limit:1+_(this.props.maxUsers)+25})]})}renderPresence(){const e=this.environment.currentUser.id;if(!e)return;const t=this.renderStateStore.state;if(!t)return;const{visibleUsers:o,hiddenUsers:n}=t;var i;if([e,...o.map((e=>e.userId)),...n.map((e=>e.userId))].map((e=>F(e,this.props.rootStore))).every((e=>e.isReady()))&&(o.length>0||n.length>0)){const t=[...o];return t.reverse(),(0,I.jsxs)("div",{style:(i=this.environment,{...(0,m.X)({noDrag:i.device.isElectronMac}),display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginLeft:9,marginTop:-2,transform:"translateZ(0)"}),children:[n.length>0&&(0,I.jsx)(R,{rootStore:this.props.rootStore,hiddenUsers:n}),t.map((e=>(0,I.jsx)(D,{userData:e,rootStore:this.props.rootStore},e.userId))),(0,I.jsx)(D,{rootStore:this.props.rootStore,userData:{userId:e,present:!0}})]})}}}P.displayName="TopbarPresence";const B=P;function L(e){return c.MR(e,(e=>e.activityTimestampNearestMinuteMs))}function _(e){return e??5}function F(e,t){return v.U6.createChildStore(t,{table:u.KJ,id:e})}function E(e){return{color:e.mediumInvertedTextColor,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"}}function V(e){let{userData:t,isPresent:o,rootStore:n}=e;window.__c={n:"AvatarTooltipComponent"};const i=(0,l.Fg)(),c=(0,r.O7)(),u=(0,g.useIntl)(),h=c.currentUser.id,m=(0,a.VK)((()=>F(t.userId,n)),[t,n]),b=(0,a.VK)((()=>m.isDefined()),[m]),v=(0,a.VK)((()=>(0,p.Nz)(u,m.getModel())),[u,m]),f=(0,a.VK)((()=>m.getEmail()),[m]);if(!b)return null;let C;return o?h!==m.id&&(C=t.blockId?(0,I.jsx)(g.FormattedMessage,{defaultMessage:"Viewing now. Click to see where they are.",id:"topbar.presenceIndicator.viewingNowWithLocation.tooltip"}):(0,I.jsx)(g.FormattedMessage,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.viewingNow.tooltip"})):h!==m.id&&t.activityTimestampNearestMinuteMs&&(C=(0,I.jsx)(g.FormattedMessage,{defaultMessage:"Last viewed {timeFromNow}",id:"topbar.presenceIndicator.lastViewedTime.tooltip",values:{timeFromNow:(0,d.tv)(Math.min(t.activityTimestampNearestMinuteMs,Date.now()),s.SP)}})),(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"notranslate",children:v}),(0,I.jsx)("div",{style:{fontWeight:400},children:f}),C&&(0,I.jsx)("div",{style:{color:i.mediumInvertedTextColor,minWidth:150,paddingTop:2,paddingBottom:2,lineHeight:1.3},children:C})]})}function O(e){let{userData:t,index:o,rootStore:n}=e;window.__c={n:"HiddenUsersTooltipItemComponent"};const i=(0,l.Fg)(),c=(0,r.O7)(),u=(0,b.MR)(c,t),p=(0,a.VK)((()=>F(t.userId,n)),[t,n]);if(!(0,a.VK)((()=>p.isDefined()),[p]))return null;let g;!u&&t.activityTimestampNearestMinuteMs&&(g=(0,d.tv)(t.activityTimestampNearestMinuteMs,s.SP));const m=(0,I.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},children:[(0,I.jsx)(S.Z,{userStore:p,avatarSize:18,style:{flexGrow:1}}),(0,I.jsx)("div",{style:{marginLeft:"auto",paddingLeft:12,textAlign:"right",flexShrink:1,color:i.mediumInvertedTextColor},children:g})]});if(u&&t.blockId){const e=t.blockId;return(0,I.jsx)(f.Z,{onClick:()=>h.hl([e],!0),style:{display:"flex",alignItems:"center"},children:m})}return(0,I.jsx)("div",{style:{display:"flex",alignItems:"center"},children:m})}function R(e){let{hiddenUsers:t,rootStore:o}=e;window.__c={n:"HiddenUsersComponent"};const n=(0,l.Fg)(),i=(0,r.O7)();return(0,I.jsx)(C.ZP,{allowHover:!0,originGap:7,renderTooltip:e=>{const s=[],r=[];for(const o of t)(0,b.MR)(i,o)?s.push(o):r.push(o);const a=r.slice(0,25-s.length);return(0,I.jsxs)("div",{...e,children:[s.length>0&&(0,I.jsxs)("div",{style:{marginBottom:4},children:[(0,I.jsx)(x.Z,{style:E(n),children:(0,I.jsx)(g.FormattedMessage,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.hiddenUsers.viewingNow.tooltip"})}),s.map(((e,t)=>(0,I.jsx)(O,{userData:e,index:t,rootStore:o},t)))]}),a.length>0&&(0,I.jsxs)("div",{style:{marginBottom:4},children:[(0,I.jsx)(x.Z,{style:{...E(n)},children:(0,I.jsx)(g.FormattedMessage,{defaultMessage:"Last viewed by",id:"topbar.presenceIndicator.hiddenUsers.lastViewedBy.tooltip"})}),a.map(((e,t)=>(0,I.jsx)(O,{userData:e,index:t,rootStore:o},t)))]}),r.length>a.length&&(0,I.jsx)("div",{style:{marginLeft:2,marginTop:2,color:n.mediumInvertedTextColor},children:(0,I.jsx)(g.FormattedMessage,{defaultMessage:"{notViewingMoreUsersCount} more…",id:"topbarPresence.presenceIndicator.hiddenUsers.moreUsersNotViewing.tooltip",values:{notViewingMoreUsersCount:r.length-a.length}})})]})},render:e=>(0,I.jsx)("div",{style:{color:n.mediumTextColor,fontSize:14,marginLeft:10,marginRight:-5,whiteSpace:"nowrap"},...e,children:(0,I.jsx)(g.FormattedMessage,{defaultMessage:"{hiddenUsersCount, plural, one {+{hiddenUsersCount}} other {+{hiddenUsersCount}}}",id:"topbar.presenceIndicator.hiddenUsers.otherCount.message",values:{hiddenUsersCount:t.length}})})})}function D(e){let{userData:t,rootStore:o}=e;window.__c={n:"AvatarComponent"};const n=(0,r.O7)(),{userId:i}=t,s=(0,b.MR)(n,t),l=F(i,o);if(!(0,a.VK)((()=>l.isDefined()&&!l.getIsSuspended()),[l]))return null;const d={transition:"all 0.2s ease",transform:"scale(1)"},c={transform:"scale(1.15)",background:"none"},u={transform:"scale(0.9)",background:"none"},p={width:23,height:23,borderRadius:23,marginRight:-5,position:"relative"};return(0,I.jsx)(C.ZP,{textWrap:!0,renderTooltip:()=>(0,I.jsx)(V,{rootStore:o,userData:t,isPresent:s}),render:e=>{const o=(0,I.jsx)(w.Z,{userStore:l,style:p,isOffline:!s,size:23,avatarShouldShowShadow:!0});if(s&&t.blockId){const n=t.blockId;return(0,I.jsx)(f.Z,{...e,onClick:()=>h.hl([n],!0),style:d,hoveredStyle:c,pressedStyle:u,children:o})}return(0,I.jsx)("div",{...e,children:o})}})}},7715:(e,t,o)=>{o.d(t,{Z:()=>u});o(67294);var n=o(480),i=o(24405),s=o(61061),r=o(9291),a=o(34700),l=o(89728),d=o(26388),c=o(85893);const u=function(e){window.__c={n:"TopbarRestrictedBadge"};const t=(0,i.Fg)(),o=(0,n.O7)(),{device:u}=o;return(0,c.jsx)(d.ZP,{placement:d.ug.Bottom,renderTooltip:()=>(0,c.jsxs)("div",{style:{...(0,a.X)({noDrag:o.device.isElectronMac}),textAlign:"center"},children:[(0,c.jsx)(r.FormattedMessage,{defaultMessage:"Access restricted from parent page",id:"blockAuthorInfo.restrictedBadge.infoText"}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{style:{color:t.mediumInvertedTextColor},children:(0,c.jsx)(r.FormattedMessage,{defaultMessage:"Click to view access",id:"blockAuthorInfo.restrictedBadge.clickText"})})]}),render:o=>(0,c.jsxs)(l.Z,{onClick:e.onClick,style:{marginRight:u.isMobile?4:2,color:t.lightTextColor,fill:t.lightIconColor},...o,children:[(0,s.B)({width:20,marginRight:4,fill:t.lightIconColor}),(0,c.jsx)("div",{style:{color:t.lightTextColor,fontSize:u.isMobile?16:14,lineHeight:u.isAndroid?1.5:1,whiteSpace:"nowrap"},children:(0,c.jsx)(r.FormattedMessage,{id:"blockAuthorInfo.restrictedBadge",defaultMessage:"Restricted"})})]})})}},82774:(e,t,o)=>{o.d(t,{Z:()=>U});var n=o(67294),i=o(83355),s=o(15769),r=o(43876),a=o(63143),l=o(9291),d=o(24677),c=o(28040),u=o(37181),p=o(43250),g=o(34700),h=o(98742),m=o(45101),b=o(77907),v=o(57345),f=o(4023),C=o(80444),x=o(77080),S=o(55899),w=o(8675),y=o(52878),M=o(34583),j=o(88893),k=o(88280),T=o(31945),Z=o(58261),I=o(89728),P=o(53437),B=o(26388),L=o(24405),_=o(8848),F=o(13148),E=o(23063),V=o(73063),O=o(28451),R=o(85893);function D(e){window.__c={n:"ShareButtonIntroTooltip"};const{visible:t,onDismiss:o}=e,n=(0,L.yK)((e=>({overlayContainer:{position:"relative",width:240,height:140,paddingTop:0,paddingBottom:20,paddingLeft:20,paddingRight:20},container:{fontSize:12,color:_.ZP.white,position:"absolute",top:13,background:_.ZP.blue,borderRadius:6,padding:"8px 12px 12px 12px",width:200,boxShadow:e.largeLightBoxShadow,zIndex:9999},circle:{position:"absolute",top:-12,left:"calc(50% - 2.5px)",background:_.ZP.blue,width:5,height:5,borderRadius:5,boxShadow:`0 0 0 1.5px ${e.contentBackground}`},verticalLine:{position:"absolute",top:-12,left:"calc(50% - 1px)",background:_.ZP.blue,width:2,height:12},textContainer:{width:"90%",fontWeight:500},iconButton:{position:"absolute",top:4,right:4,opacity:.8},iconStyle:{width:12,fill:_.ZP.white}})),[]);return(0,R.jsx)("div",{style:n.overlayContainer,children:(0,R.jsx)(E.Z,{isVisible:t,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:function(){return(0,R.jsx)(O.P,{calloutId:"share_button_tooltip",children:(0,R.jsxs)("div",{style:n.container,children:[(0,R.jsx)("div",{style:n.circle}),(0,R.jsx)("div",{style:n.verticalLine}),(0,R.jsx)("div",{style:n.textContainer,children:(0,R.jsx)(l.FormattedMessage,{defaultMessage:"You can share your content with your teammates here",id:"shareButtonIntroTooltip.title"})}),(0,R.jsx)(V.Z,{icon:F.U,style:n.iconButton,iconStyle:n.iconStyle,onClick:()=>o()})]})})}})})}class H extends i.Z{constructor(){super(...arguments),this.storeTypes={universalMemberInviteStore:y.Z,sudoModeStore:w.Z,inviteTargetsStore:S.ZP},this.showShareButtonTooltip=this.createComputedStore((()=>function(e){const{currentUserSettingsStore:t,mainEditorCurrentBlockStore:o,inAppCalloutStore:n}=C.default.state;if(null!=o&&o.isTypedCollectionViewBlock())return!1;if(!t)return!1;if(t.id!==e.currentUser.id)return!1;const i=t.getKeyStore("settings").getKeyStore("seen_share_button_tooltip_at").getValue();if(Boolean(i))return!1;const s=t.getKeyStore("settings").getKeyStore("signup_time").getValue();if(!s)return!1;if(!n.canShow("share_button_tooltip"))return!1;const r=Date.now()-s;if(r<=30*a.A0){switch(x.default.getEligibleGroup({experimentId:"intro_share_tooltip_condition",defaultGroup:"control"})){case"b200":const t=k.subscriptionDataStoreInstance.state;if(t){return(0,j.Lz)(e,t)>=200}return!1;case"d3":return r>=3*a.A0;case"control":return r>=10*a.A0}}return!1}(this.environment))),this.buttonPopupStyle=this.createComputedStore((()=>{const{device:e}=this.environment;return e.isMobile?{width:460}:{width:500,overflow:"hidden"}})),this.shareButtonStyle=this.createComputedStore((()=>{const{device:e}=this.environment;return e.isMobile?{display:"flex",alignItems:"center",height:"100%",paddingLeft:8,paddingRight:8}:{...(0,g.X)({noDrag:e.isElectronMac}),marginRight:2,marginLeft:12}})),this.shareButtonRef=n.createRef(),this.renderShareButtonOrigin=e=>{const{device:t}=this.environment;return(0,R.jsx)(B.ZP,{disableTooltip:t.isMobile,renderTooltip:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{children:(0,R.jsx)(l.FormattedMessage,{defaultMessage:"Share or publish to the web",id:"topbar.shareButton.tooltip"})}),(0,R.jsx)(Z.Z,{style:{color:this.theme.mediumInvertedTextColor},name:"openShareMenu"})]}),placement:f.u.Bottom,delayThreshold:400,render:t=>this.renderShareButton((0,h.Z)(e,t))})},this.renderShareButton=e=>{const{device:t}=this.environment,o=this.showShareButtonTooltip.state,n=t.isMobile?t.isAndroid?(0,s.Q)({width:16,height:16}):(0,r.s)({width:26}):(0,R.jsx)(l.FormattedMessage,{defaultMessage:"Share",id:"topbar.shareButton.title"}),i=(0,R.jsx)("div",{ref:this.shareButtonRef,children:(0,R.jsx)(I.Z,{className:p.MD7,...(0,h.Z)(e,{onClick:o?()=>u.Qm(this.environment):()=>{}}),mobileFeedback:t.isMobile,style:this.shareButtonStyle.state,children:n})});return o?(0,R.jsx)(P.ZP,{popupType:P.kQ.Popup,open:!0,origin:i,placementToOrigin:f.u.Bottom,alignmentToOrigin:P.ZP.Alignment.Center,preventScaleTransition:!0,preventOpacityTransition:!0,viewportPadding:4,preventCaptureEsc:!0,preventPointerEvents:!1,disableMouseCapture:!0,render:()=>this.showShareButtonTooltip.state?(0,R.jsx)(D,{visible:this.showShareButtonTooltip.state,onDismiss:()=>u.Qm(this.environment)}):null,style:{boxShadow:"none",backgroundColor:"rgba(0, 0, 0, 0)"}}):i},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleClick=()=>{return e=this.environment,t=this.props.buttonPopupStore,o=this.stores.universalMemberInviteStore,n=this.stores.inviteTargetsStore,N(t,o,n),d.ZH(e),v.lG(e),void M.bi(e);var e,t,o,n},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleClose=()=>async function(e,t,o,n){if(n.state.inviteTargets.length>0){return void(await v.zd({environment:e,inviteTargetsStore:n})&&(v.a6(e),N(t,o,n)))}const{permissionsInviteStore:i}=o.state;"invitee"===i.state.inputFocus&&i.setState({...i.state,inputFocus:"none"});await(0,m.Aw)({environment:e,permissionsInviteStoreState:i.state,from:"share_menu"})||(v.a6(e),N(t,o,n))}(this.environment,this.props.buttonPopupStore,this.stores.universalMemberInviteStore,this.stores.inviteTargetsStore)}didMountOrUpdate(){this.props.store.canAdmin()?this.stores.sudoModeStore.reset():c.i({environment:this.environment,sudoModeStore:this.stores.sudoModeStore,pageBlockId:this.props.store.id})}renderComponent(){const{device:e}=this.environment;return(0,R.jsx)(T.ZP,{popupType:e.isMobile?T.Z4.SlideUp:T.Z4.Popup,forceInitialInbound:!0,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderShareButtonOrigin,originGap:e.isMobile?void 0:8,style:this.buttonPopupStyle.state,onClick:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleClick,render:()=>(0,R.jsx)(b.LazyShareMenuContainer,{buttonPopupStore:this.props.buttonPopupStore,sudoModeStore:this.stores.sudoModeStore,store:A(this.props.store,this.stores.sudoModeStore),inviteTargetsStore:this.stores.inviteTargetsStore,onUpgradeButtonClick:()=>{this.props.buttonPopupStore.reset()},location:e.isMobile?"topbar_mobile":"topbar_share_button",onClose:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleClose}),persistOnClose:!e.isMobile&&K(this.stores.universalMemberInviteStore,this.stores.inviteTargetsStore),onDismiss:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleClose,onClose:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleClose})}}H.displayName="TopbarShareButton";const U=H;function A(e,t){return t.shouldUserHaveAccessToPrivatePageBlock()&&t.state.changePermissionsEnabled&&t.state.privatePageStore?t.state.privatePageStore:e}function N(e,t,o){e.reset(),t.reset(),o.reset()}function K(e,t){const{permissionsInviteStore:o}=e.state;return o.state.inviteTargets.length>0||t.state.inviteTargets.length>0}},44332:(e,t,o)=>{o.d(t,{Z:()=>y});o(67294);var n=o(480),i=o(86628),s=o(24405),r=o(7525),a=o(63261),l=o(9291),d=o(43250),c=o(34700),u=o(61931),p=o(74948),g=o(38676),h=o(23063),m=o(64921),b=o(73063),v=o(58261),f=o(26388),C=o(39849),x=o(92955),S=o(54338),w=o(85893);function y(e){window.__c={n:"TopbarSidebarButton"};const t=(0,n.O7)(),o=(0,n.Fy)(),y=(0,l.useIntl)(),M=(0,i.VK)((()=>g.sidebarOpenStore.state),[]),j=(0,s.yK)((t=>({root:{...(0,c.X)({noDrag:o.isElectronMac}),flexShrink:0,width:48,height:48,margin:-12,padding:12,marginRight:-6},hamburgerButton:{position:"absolute",top:0,left:0,willChange:"opacity",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:4,...e.isFloatingButton?{...(0,u.Er)({theme:t,isPhone:o.isPhone,buttonState:"base"}),width:28}:{}},sidebarButton:{position:"absolute",top:0,left:0,willChange:"opacity",...e.isFloatingButton?{...(0,u.Er)({theme:t,isPhone:o.isPhone,buttonState:"base"}),width:28}:{}},svg:{width:16,height:16,fill:t.regularIconColor,...e.isFloatingButton?{width:12,height:12}:{}},chevron:{...e.isFloatingButton?{width:14,height:14}:{width:16,height:16}},keyboardShortcut:{color:t.mediumInvertedTextColor},mentionBadge:{position:"absolute",top:-1,right:-4,...e.isFloatingButton?{top:-4}:{}}})),[o,e.isFloatingButton]),k=y.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return(0,w.jsx)(S.o,{style:j.root,children:(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)(h.Z,{isVisible:!0,animationStyle:{opacity:M?0:1},render:()=>(0,w.jsxs)(m.Z,{style:j.hamburgerButton,children:[(0,a._)(j.svg),(0,w.jsx)(x.Z,{type:"allSpaces",color:C.N.Red,style:j.mentionBadge})]})}),(0,w.jsx)(h.Z,{isVisible:!0,animationStyle:{opacity:M?1:0},render:()=>(0,w.jsx)(f.ZP,{renderTooltip:()=>(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:k}),(0,w.jsx)(v.Z,{style:j.keyboardShortcut,name:"toggleSidebar"})]}),placement:f.ug.Right,alignment:f.v2.Start,delayThreshold:0,originGap:6,render:e=>(0,w.jsx)(b.Z,{ariaLabel:k,icon:r.t,style:j.sidebarButton,hoveredStyle:j.sidebarButton,iconStyle:j.chevron,isDarkIconColor:!0,onClick:()=>p.setExpand({environment:t,isExpanded:!0,from:"topbar_sidebar_button"}),className:d.exn,...e})})})]})})}},54338:(e,t,o)=>{o.d(t,{o:()=>a});o(67294);var n=o(12534),i=o(74948),s=o(38676),r=o(85893);function a(e){let{children:t,style:o}=e;const a=e=>{(0,n.ZP)({event:e,context:n.Af.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();s.sidebarMousePeekXStore.setState(t.right),i.open({fromElectron:!1})}})};return(0,r.jsx)("div",{onMouseEnter:a,onMouseMove:a,style:o,children:t})}},22165:(e,t,o)=>{o.d(t,{C:()=>S,V:()=>x});o(67294);var n=o(480),i=o(86628),s=o(24405),r=o(97439),a=o(9291),l=o(28020),d=o(43250),c=o(34700),u=o(74948),p=o(38676),g=o(24042),h=o(45325),m=o(23063),b=o(73063),v=o(58261),f=o(26388),C=o(85893);function x(e){let{}=e;window.__c={n:"TopbarSidebarUnexpandButton"};const t=(0,n.O7)(),o=(0,n.Fy)(),s=(0,a.useIntl)(),d=(0,i.VK)((()=>!p.sidebarMouseEnteredStore.state),[]),c=(0,i.VK)((()=>g.Z.state.isShowingTabBar||!1),[]),m=(0,i.VK)((()=>l.tu.state),[]),b=s.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"});return(0,C.jsx)(S,{shouldHide:o.isElectronMac&&m||c||d,icon:r.D,caption:b,onClick:()=>{u.setExpand({environment:t,isExpanded:!1,from:"topbar_sidebar_unexpand_button"}),h.default.isOpen()&&u.close()},keyboardShortcutName:"toggleSidebar",isElectron:o.isElectron})}function S(e){window.__c={n:"TopbarUnexpandButton"};const t=(0,n.Fy)(),o=(0,s.yK)((e=>({keyboardShortcut:{color:e.mediumInvertedTextColor}})),[]),i=e.isElectron&&!e.shouldHide?1:0,r=e.shouldHide?0:1,a=e.keyboardShortcutName;return(0,C.jsx)(f.ZP,{disableTooltip:e.shouldHide,renderTooltip:()=>(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{children:e.caption}),a&&(0,C.jsx)(v.Z,{style:o.keyboardShortcut,name:a})]}),originGap:6,render:o=>(0,C.jsx)(m.Z,{isVisible:!0,animationStyle:{opacity:r},enterAnimationStyle:{opacity:i},render:()=>(0,C.jsx)(b.Z,{ariaLabel:e.caption,disabled:e.shouldHide,icon:e.icon,style:{...(0,c.X)({noDrag:t.isElectronMac}),position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...e.style},iconStyle:{width:16,height:16},mobileFeedback:t.isMobile,onClick:e.onClick,className:d.Mfh,...o})})})}},94107:(e,t,o)=>{o.d(t,{Z:()=>T,l:()=>k});var n=o(67294),i=o(480),s=o(86628),r=o(24405),a=o(44292),l=o(9291),d=o(19719),c=o(24677),u=o(43250),p=o(34700),g=o(98742),h=o(48451),m=o(57538),b=o(74948),v=o(24646),f=o(36391),C=o(64970),x=o(88923),S=o(31945),w=o(73063),y=o(26388),M=o(85893);const j=(0,l.defineMessages)({updates:{id:"topbar.updatesButton.title",defaultMessage:"Updates"}});function k(e){window.__c={n:"TopbarUpdatesIcon"};const{isElectronMac:t}=(0,i.O7)().device,o=(0,l.useIntl)(),n=(0,r.yK)((e=>({icon:{height:20,width:20,fill:e.regularIconColor},button:{...(0,p.X)({noDrag:t}),width:33,height:28,marginRight:2}})),[t]);return(0,M.jsx)(w.Z,{icon:a.d,iconStyle:n.icon,style:n.button,ariaLabel:o.formatMessage(j.updates),className:u.K3y,...e})}const T=function(e){let{spaceStore:t,buttonPopupStore:o,blockStore:r}=e;window.__c={n:"TopbarUpdatesButton"};const a=(0,i.O7)(),u=(0,s.SI)((()=>x.default.state.open&&x.default.state.target),[]),p=(0,s.VK)((()=>u.state),[u]),g=(0,s.VK)((()=>v.J5(a)),[a]);(0,n.useEffect)((()=>{p!==r&&C.m.state&&(I(r,a),C.m.setState(!1),d.Z8({environment:a,pageId:r.pointer.id,isCurrentlyFollowing:(0,m.Z)(r.getFollowSettingsKey()).following,from:"email"}))}),[r,p,a]);const{device:b}=a;if(p!==r){const e=g?(0,M.jsx)("div",{style:{textAlign:"center"},children:(0,M.jsx)(l.FormattedMessage,{defaultMessage:"Close all updates",id:"topbar.updatesButton.closeSidebartTooltip"})}):(0,M.jsx)("div",{style:{textAlign:"center"},children:(0,M.jsx)(l.FormattedMessage,{defaultMessage:"View all updates",id:"topbar.updatesButton.openSidebartTooltip"})});return(0,M.jsx)(y.ZP,{placement:y.ug.Bottom,renderTooltip:()=>e,render:e=>(0,M.jsx)(k,{...e,onClick:()=>I(r,a),hovered:v.J5(a)&&!x.default.state.open}),children:e})}return(0,M.jsx)(S.ZP,{onClick:()=>function(e){c.ZH(e),d.gM(e)}(a),disabled:!t,popupType:b.isMobile?S.Z4.SlideUp:S.Z4.Popup,buttonPopupStore:o,renderOrigin:e=>(0,M.jsx)(Z,{buttonPopupEvents:e}),originGap:8,render:()=>(0,M.jsx)(h.tY,{blockStore:r,spaceStore:t}),style:{width:440,overflow:"hidden"}})};function Z(e){let{buttonPopupEvents:t}=e;window.__c={n:"OriginComponent"};const o=(0,i.O7)(),{device:n}=o,s=(0,M.jsx)(l.FormattedMessage,{defaultMessage:"View past changes to this page",id:"topbar.updatesButton.tooltip"});return n.isMobile?null:(0,M.jsx)(y.ZP,{placement:y.ug.Bottom,renderTooltip:()=>s,render:e=>(0,M.jsx)(k,{...(0,g.Z)(t,e)})})}function I(e,t){b.handleSidebarButtonClick(t,e,f.gY.Updates,"topbar")}},42543:(e,t,o)=>{o.d(t,{DK:()=>b,Iw:()=>x,cE:()=>v,i3:()=>f,u1:()=>S,wq:()=>C});var n=o(6740),i=o(89101),s=o(19889),r=o(32441),a=o(47839),l=o(69915),d=o(95477),c=o(12534),u=o(46654),p=o(65598),g=o(24042),h=o(79797),m=o(16194);function b(e,t){const o=(0,p.Oh)(e),{id:n}=t.currentUser,i=n?h.U6.createChildStore(e,{table:s.KJ,id:n}):void 0,r=!i||i.isReady();return o&&r}function v(e,t){return!d.default.isAdminMode&&(0,u.IJ)(t,e)}i._j.signup,i._j.product;async function f(e){const{environment:t,route:o}=e;r.T3(t,{variant:"built_with_notion"}),await l.yF(t,{utmContent:"topbar_cta",nextRoute:o})}function C(e){e.target!==e.currentTarget||g.Z.state.isShowingTabBar||(0,c.ZP)({event:e,context:c.Af.EditorDoubleClick,callback:a.toggleMaximized})}function x(e){const t=e.target;t instanceof HTMLElement&&(0,n.E)(t)&&m.Z.setState(!0)}function S(){m.Z.setState(!1)}},71424:(e,t,o)=>{o.d(t,{EZ:()=>i,FD:()=>s,G5:()=>n,rK:()=>r});const n=220,i=24,s=-7,r=-3},90683:(e,t,o)=>{o.d(t,{a:()=>l});o(67294);var n=o(66897),i=o(97880),s=o(70301),r=o(45653),a=o(85893);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n.YU)(t)?(0,a.jsx)(s.Z,{botValue:t.asActor,...o}):(0,n.$S)(t)?(0,a.jsx)(r.Z,{userValue:t.asActor,...o}):(0,n.Iq)(t)?(0,a.jsx)(r.Z,{userValue:void 0,...o}):void(0,i.t1)(t)}},34700:(e,t,o)=>{function n(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}o.d(t,{X:()=>n})},26907:(e,t,o)=>{o.d(t,{B:()=>s,H:()=>n});const n=e=>{const{target:t,inviteTargetsStore:o}=e;return o.state.inviteTargets.some((e=>"newUser"===t.type?e.type===t.type&&t.value.email===e.value.email:"invalidUser"===t.type?e.type===t.type&&t.value.text===e.value.text:e.type===t.type&&e.value.id===t.value.id))};function i(e){return"invalidUser"!==e.type}const s=e=>{const{inviteTargetsStore:t}=e,{inviteTargets:o}=t.state;return o.filter(i)}},20095:(e,t,o)=>{o.d(t,{AQ:()=>p,EB:()=>c,MR:()=>u});o(57658);var n=o(72126),i=o(72141),s=o(63143),r=o(88893),a=o(88280),l=o(46654);const d=6e4;function c(e){if(e&&e.blockId)return e.blockId}function u(e,t){const o=e.currentUser.id;if(t.userId===o)return!0;{const e=Date.now();return Boolean(t.present&&t.activityTimestampNearestMinuteMs&&e-t.activityTimestampNearestMinuteMs<=d)}}function p(e,t){const o=a.subscriptionDataStoreInstance.state,{remotePresenceData:d,rootStore:c}=t.state;if(!c||!c.canEdit()||!o)return[];let u=[];d&&n.M6(d,(e=>{e&&e.userId&&u.push(e)}));const{pageId:p,lastViewTime:g,lastExitTime:h,omittedUserIds:m,...b}=e.state;n.M6(b,(e=>{e.isDefined()&&u.push({userId:e.getUserId(),activityTimestampNearestMinuteMs:(0,s.ud)(e.getVisitedAt()),present:!1})})),u=n.mN(u,(e=>e.userId));const v=(0,l.YO)(c).map((e=>{let{permissionItem:t}=e;return t})).filter(i.jg).map((e=>e.user_id)),f=(0,r.CM)(o).map((e=>e.userId)),C=n.G0(v,f),x=new Set(m);return u=u.filter((e=>!!C.includes(e.userId)&&!(!e.present&&x.has(e.userId)))),u=n.MR(u,(e=>{let{activityTimestampNearestMinuteMs:t}=e;return t?-t:0})),u}},57538:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(57883),i=o(97880);function s(e){switch(e){case"all":return{following:!0,followSettings:(0,n.yI)({explicitly_set_by_user:!0})};case"important":return{following:!0,followSettings:(0,n.GC)({explicitly_set_by_user:!0})};case"comments":return{following:!0,followSettings:(0,n.r$)({explicitly_set_by_user:!0})};case"none":return{following:!1,followSettings:(0,n.vU)({explicitly_set_by_user:!0})};default:(0,i.t1)(e)}}},48451:(e,t,o)=>{o.d(t,{$H:()=>s,HX:()=>r,LV:()=>a,tY:()=>i});var n=o(77907);(0,n.lazyComponent)(n.deps.notifications,(e=>e.GetNotifiedFor));const i=(0,n.lazyComponent)(n.deps.notifications,(e=>e.TopbarUpdatesMenu)),s=(0,n.lazyComponent)(n.deps.notifications,(e=>e.UpdateSidebar)),r=(0,n.lazyComponent)(n.deps.notifications,(e=>e.NotificationInboxPanel)),a=(0,n.lazyComponent)(n.deps.notifications,(e=>e.MobileInboxPopup))},64719:(e,t,o)=>{o.d(t,{E:()=>z});o(57658);var n=o(67294),i=o(480),s=o(86628),r=o(24405),a=o(64788),l=o(5257),d=o(56666),c=o(55964),u=o(84169),p=o(30681),g=o(95369),h=o(9291),m=o(79698),b=o(12714),v=o(64921),f=o(52275),C=o(31945),x=o(96525),S=o(78140),w=o(32163),y=o(72495),M=o(34700),j=o(87279),k=o(98742),T=o(95697),Z=o(4023),I=o(80444),P=o(30806),B=o(61931),L=o(36591),_=o(97880),F=o(58188),E=o(85893);const V={tasks:{key:"tasks",label:(0,E.jsx)(h.FormattedMessage,{id:"HomeFeaturesMenu.tasks.label",defaultMessage:"My Tasks"})},tips:{key:"tips",label:(0,E.jsx)(h.FormattedMessage,{id:"HomeFeaturesMenu.tips.label",defaultMessage:"Learn"})},templates:{key:"templates",label:(0,E.jsx)(h.FormattedMessage,{id:"HomeFeaturesMenu.templates.label",defaultMessage:"Featured Templates"}),shouldShow:e=>{let{isMobile:t}=e;return!t}}},O=["tasks","tips","templates"];function R(e){let{parent:t}=e;window.__c={n:"HomeFeaturesMenu"};const o=(0,i.O7)(),a=(0,s.VK)((()=>O.map((e=>V[e])).filter((e=>{var t;return(null===(t=e.shouldShow)||void 0===t?void 0:t.call(e,o.device))??!0}))),[o.device]),l=(0,i.MO)(),d=(0,s.VK)((()=>I.default.state.currentSpaceViewStore),[]),c=(0,s.VK)((()=>(null==d?void 0:d.getHomeEnabledFeatures())??{}),[d]),u=(0,n.useCallback)((e=>{d&&F.aG({environment:o,currentSpaceViewStore:d,feature:e,from:"home_more_menu"})}),[d,o]),p=(0,r.yK)((e=>({selectedOptionCheck:{width:l?16:14},icon:{width:20,height:20}})),[l]);let g;g=l?{menuType:j.og.Modal,title:(0,E.jsx)(h.FormattedMessage,{id:"HomeFeaturesMenu.title",defaultMessage:"Experimental features"}),right:(0,E.jsx)(h.FormattedMessage,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:t.close}:{menuType:j.og.Popup,width:200};const m=[{key:"settings-item-section",render:e=>(0,E.jsx)(y.Z,{...e}),items:a.map((e=>{let{key:t,label:o}=e;return{key:t,action:()=>u(t),render:e=>(0,E.jsx)(f.Z,{...e,title:o,shouldWrapCaption:!0,right:Boolean(c[t])?(0,E.jsx)("div",{style:p.selectedOptionCheck,children:(0,L.e)()}):void 0})}}))}];return(0,E.jsx)(S.Z,{...g,children:(0,E.jsx)(w.Z,{type:w.i.Vertical,sections:m.filter(_.$K),initialFocus:void 0})})}const D=n.memo(R);var H=o(64964),U=o(38755),A=o(15299);function N(e){let{onClose:t}=e;window.__c={n:"OpenOnStartMenu"};const o=(0,i.O7)(),a=(0,s.VK)((()=>(0,A.o)()),[]),{isPhone:l,isElectron:d}=(0,i.Fy)(),c=(0,s.VK)((()=>(0,U.g4)(o,I.default.state.currentSpaceViewStore)),[o]),u=(0,n.useCallback)((e=>{const n=c;F.N({userAction:"userHomeActions.setPersonalHomeAsLandingPage",environment:o,option:e,from:"home_more_menu"}),H.d4({item:{label:(0,E.jsx)(h.FormattedMessage,{defaultMessage:"Updated default landing page",id:"openOnStartMenu.snackbar.updatedDefaultLandingPage"})},undoFunc:()=>F.N({userAction:"userHomeActions.setPersonalHomeAsLandingPage.undo",environment:o,option:n,from:"home_toast_undo_button"})}),t("selectedOption")}),[c,o,t]),p=(0,r.yK)((e=>({selectedOptionCheck:{width:l?16:14},icon:{width:20,height:20}})),[l]);let g;g=l?{menuType:j.og.Modal,title:(0,E.jsx)(h.FormattedMessage,{id:"openOnStartMenuSetting.title",defaultMessage:"Open on start"}),right:(0,E.jsx)(h.FormattedMessage,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:()=>t("clickedDone")}:{menuType:j.og.Popup,width:250,onClickOutside:()=>t("clickedOutside")};const m=[{key:"settings-item-section",render:e=>(0,E.jsx)(y.Z,{...e}),items:a.map((e=>{let{key:t,label:o,renderIcon:n}=e;return{key:t,action:()=>u(t),render:e=>(0,E.jsx)(f.Z,{...e,title:o,icon:n(p.icon),shouldWrapCaption:!0,right:c===t?(0,E.jsx)("div",{style:p.selectedOptionCheck,children:(0,L.e)()}):void 0})}}))}];return(0,E.jsx)(S.Z,{...g,children:(0,E.jsx)(w.Z,{style:(0,M.X)({noDrag:d}),type:w.i.Vertical,sections:m,initialFocus:void 0})})}const K=n.memo(N),G="https://www.notion.so/help/home-and-my-tasks";function z(e){window.__c={n:"HomeTopbarActionButtons"};const t=(0,i.O7)(),{device:o}=t,a=(0,i.MO)(),l=(0,s.VK)((()=>e.store.hasCover()),[e.store]),c=(0,n.useCallback)((()=>(0,P.lj)({environment:t})),[t]),u=(0,r.yK)((e=>({dotsIcon:{width:l?12:18,height:l?12:18,fill:e.regularIconColor},moreIconPhone:{width:26},pencilIcon:{width:20,height:20,padding:2},button:a?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2,...l?(0,B.Er)({theme:e,isPhone:a,buttonState:"base",hasCover:l}):{}}:{...(0,M.X)({noDrag:o.isElectron}),display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4,...l?(0,B.Er)({theme:e,isPhone:a,buttonState:"base",hasCover:l}):{}},buttonHovered:l?(0,B.Er)({theme:e,isPhone:a,buttonState:"hovered"}):{},buttonPressed:l?(0,B.Er)({theme:e,isPhone:a,buttonState:"pressed"}):{},moreButtonStyle:a?{}:{width:250,maxHeight:"80vh"}})),[o,l,a]);return e.isInvalidPage?null:(0,E.jsx)(C.ZP,{popupType:a?C.Z4.SlideUp:C.Z4.Popup,renderOrigin:e=>(0,E.jsx)(v.Z,{style:u.button,hoveredStyle:u.buttonHovered,pressedStyle:u.buttonPressed,mobileFeedback:a,...(0,k.Z)(e,{onClick:c}),children:a?(0,p.I)(u.moreIconPhone):(0,d.o)(u.dotsIcon)}),render:e=>(0,E.jsx)(W,{mainMenuParent:e}),originGap:4,trapFocus:!0,forceInitialInbound:!0,style:u.moreButtonStyle})}function W(e){let{mainMenuParent:t}=e;window.__c={n:"HomeMoreMenu"};const{isPhone:o}=(0,i.Fy)(),n=(0,i.O7)(),d=(0,h.useIntl)(),p=(0,s.VK)((()=>I.default.state.mainEditorCurrentBlockStore),[]),v=(0,s.VK)((()=>Boolean(null==p?void 0:p.getCover())),[p]),M=(0,s.VK)((()=>(0,T.QI)("dev_only")),[]),B=(0,r.yK)((e=>({coverPhotoIcon:{width:18,height:18,padding:2,marginLeft:1,marginRight:1},pageIcon:{width:20,height:20,padding:2},messageIcon:{width:20,height:20,padding:2},chevronRightIcon:{width:14,height:14,fill:e.lightIconColor},eyeIcon:{width:20,height:20},helpIconStyle:{width:20,height:20}})),[]),L=[{key:"changeDefaultPage",render:e=>(0,E.jsx)(x.Z,{...e,stopClickPropagation:!0,popupType:o?C.Z4.SlideUp:C.Z4.Popup,render:e=>(0,E.jsx)(K,{onClose:o=>(e=>{let{immediateParent:o,closeMainParent:n}=e;o.close(),n&&t.close()})({immediateParent:e,closeMainParent:"selectedOption"===o})}),placementToOrigin:Z.u.Left,renderOrigin:t=>(0,E.jsx)(f.Z,{...(0,k.Z)(e,t),icon:(0,g.S)(B.pageIcon),right:(0,l.o)(B.chevronRightIcon),title:(0,E.jsx)(h.FormattedMessage,{id:"HomeTopbarActionButtons.changeStartPage",defaultMessage:"Change default start page"})})}),action:()=>{}},{key:"showHideTiles",render:e=>(0,E.jsx)(x.Z,{...e,stopClickPropagation:!0,popupType:o?C.Z4.SlideUp:C.Z4.Popup,render:e=>(0,E.jsx)(D,{parent:e}),placementToOrigin:Z.u.Left,renderOrigin:t=>(0,E.jsx)(f.Z,{...(0,k.Z)(e,t),icon:(0,c.N)(B.eyeIcon),right:(0,l.o)(B.chevronRightIcon),title:(0,E.jsx)(h.FormattedMessage,{id:"HomeTopbarActionButtons.showHideTiles",defaultMessage:"Show/hide tiles"})})}),action:()=>{}},{key:"manageCoverPhoto",render:e=>(0,E.jsx)(f.Z,{...e,icon:(0,a.P)(B.coverPhotoIcon),right:(0,l.o)(B.chevronRightIcon),onClick:e=>{if(!p)return;const t=e.currentTarget.getBoundingClientRect();m.j({environment:n,intl:d,store:p,rect:t})},title:v?(0,E.jsx)(h.FormattedMessage,{id:"HomeTopbarActionButtons.changeBackground",defaultMessage:"Change background"}):(0,E.jsx)(h.FormattedMessage,{id:"HomeTopbarActionButtons.addBackground",defaultMessage:"Add background"})}),action:()=>{}}];M&&L.push({key:"help",render:e=>(0,E.jsx)(f.Z,{...e,icon:(0,u.m)(B.helpIconStyle),onClick:e=>{(0,P.gF)({environment:n}),b.D({url:G,environment:n})},title:(0,E.jsx)(h.FormattedMessage,{defaultMessage:"Learn about Home",id:"personalHome.helpTooltip.title"})}),action:()=>{}});const _=[{key:"all",render:e=>(0,E.jsx)(y.Z,{...e}),items:L}];return(0,E.jsx)(S.Z,{menuType:o?j.og.ActionSheet:j.og.Popup,children:(0,E.jsx)(w.Z,{type:w.i.Vertical,sections:_,initialFocus:void 0})})}},81170:(e,t,o)=>{o.d(t,{Z:()=>g});o(67294);var n=o(480),i=o(24405),s=o(84169),r=o(9291),a=o(12714),l=o(73063),d=o(26388),c=o(34700),u=o(94841),p=o(85893);const g=function(){window.__c={n:"TopbarTasksLearnMoreButton"};const e=(0,r.useIntl)(),t=(0,n.O7)(),o=(0,r.defineMessages)({helpTitle:{defaultMessage:"Learn about tasks",id:"myTasks.helpTooltip.title"}}),g=(0,i.yK)((e=>({iconStyle:{width:20,height:20,fill:e.regularIconColor},iconContainer:{width:33,height:28}})),[]);return(0,p.jsx)(d.ZP,{placement:d.ug.Bottom,renderTooltip:t=>e.formatMessage(o.helpTitle),render:n=>(0,p.jsx)(l.Z,{icon:()=>(0,s.m)(g.iconStyle),ariaLabel:e.formatMessage(o.helpTitle),style:{...(0,c.X)({noDrag:t.device.isElectronMac}),...g.iconContainer},onClick:e=>{e.preventDefault(),a.D({environment:t,url:u.h5,targetSelf:!1})},...n})})}},15299:(e,t,o)=>{o.d(t,{o:()=>c});o(57658),o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})});var r=o(95369),a=o(56996),l=o(9291),d=o(95697);function c(){const e=[];return(0,d.QI)("dev_or_beta")&&e.push({key:"personal_home",label:(0,i.jsx)(l.FormattedMessage,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,a.z)({width:20,height:20,...e})}),e.push({key:"last_visited_page",label:(0,i.jsx)(l.FormattedMessage,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>s({width:20,height:20,...e})},{key:"first_page",label:(0,i.jsx)(l.FormattedMessage,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,r.S)({width:20,height:20,padding:2,...e})}),e}},57345:(e,t,o)=>{o.d(t,{Cv:()=>j,a6:()=>M,lG:()=>y,qg:()=>Z,zd:()=>T});o(67294);var n=o(33728),i=o(68626),s=o(91155),r=o(72141),a=o(4615),l=o(9291),d=o(36610),c=o(47307),u=o(76464),p=o(64964),g=o(19306),h=o(26907),m=o(46654),b=o(18245),v=o(88923),f=o(99332),C=o(29677),x=o(66708),S=o(28578),w=o(85893);function y(e){v.default.state.open?f.Z.setState({...f.Z.state,open:!0}):x.Z.setState({...x.Z.state,open:!0}),d.DB(e,{share_menu_session_id:S.ZP.state.sessionId})}function M(e){v.default.state.open?f.Z.setState({...f.Z.state,open:!1}):x.Z.setState({...x.Z.state,open:!1}),d.Rb(e,{share_menu_session_id:S.ZP.state.sessionId}),S.ZP.reset()}function j(e){const{success:t,inviteTargets:o,requestedUserEmails:n}=e;if(0!==o.length){if(!t||0!==(null==n?void 0:n.length))return t&&n.length>0?n.length===o.length?void p.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage.requestedUsersOnly",defaultMessage:"Sent request to invite {users} to this page",values:{users:k(o)}})}):void p.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage.requestedAndInvitedUsers",defaultMessage:"Invited {users} and requested inviting {numberOfRequestedUsers, plural, one {{numberOfRequestedUsers} guest} other {{numberOfRequestedUsers} guests}}",values:{users:k(o.filter((e=>!(0,C.fZ)(e)&&!(0,C.cl)(e)||!n.includes(e.value.email)))),numberOfRequestedUsers:n.length}})}):void p.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteFailure.snackbarMessage",defaultMessage:"Failed to invite {users}",values:{users:k(o)}})});p.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage",defaultMessage:"Successfully invited {users}",values:{users:k(o)}})})}}function k(e){return(0,g.W)(e.map((e=>"group"===e.type?e.value.name??"group":"invalidUser"===e.type?e.value.text:e.value.email)))}async function T(e){const{inviteTargetsStore:t}=e,o=(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.closeInviteDialog.confirmationMessage",defaultMessage:"Your changes have not been saved. Discard changes?"}),n=(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.closeInviteDialog.confirmationButton.label",defaultMessage:"Yes"}),i=(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.closeInviteDialog.cancelButton.label",defaultMessage:"Cancel"});if(t.state.inviteTargets.length>0){return(await c.confirmUserActionV2({message:o,acceptLabel:n,cancelLabel:i})).accept}return!1}async function Z(e){const t=b.default.mark("share_menu.invite_user_lag"),{environment:o,blockStore:l,inviteTargetsStore:d,sudoModeStore:c,onInviteClick:p,onInviteComplete:g,inviteOrigin:v,role:f,emailMessage:C,flowId:x}=e;let S={success:!1,requestedUserEmails:[]};try{S=await async function(e){const{environment:t,blockStore:o,sudoModeStore:i,inviteTargetsStore:s,role:l,inviteOrigin:d,emailMessage:c,onInviteStart:p}=e,g=e.flowId||(0,a.ZP)();if(!(0,r.iC)(l))return{success:!1,requestedUserEmails:[]};const{tokenQuery:b,inviteTargets:v}=s.state;if((0,n.oH)(b.trim())&&0===v.length){const e={type:"newUser",value:{email:b.trim()},source:"email"};h.H({target:e,inviteTargetsStore:s})||s.setState({inviteTargets:[...s.state.inviteTargets,e],tokenQuery:""})}const f=m.mU(o,h.B({inviteTargetsStore:s}));null==p||p();const C=await u.n_({environment:t,store:o,sudoModeStore:i,inviteTargets:f,inviteRole:l,isOnboarding:!1,invite:{inviteFlowId:g,inviteMessage:c,inviteOrigin:d}});return{success:C.success,requestedUserEmails:C.success?Object.keys(C.requestedUsers):[]}}({environment:o,blockStore:l,sudoModeStore:c,inviteTargetsStore:d,role:f,emailMessage:C,inviteOrigin:v,onInviteStart:p,flowId:x})}catch(w){i.log({level:"error",from:"shareMenuActions",type:"handleInviteClick",error:(0,s.Ui)(w)})}finally{null==g||g(S.success,S.requestedUserEmails)}b.default.measure(t,{environment:o})}},61436:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(49085),i=o(47839);class s extends n.default{getInitialState(){return{isFullScreen:!1}}constructor(){super(),this.updateFromElectronState=()=>{const e=i.fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},i.fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new s},85834:(e,t,o)=>{o.d(t,{TG:()=>r,ZP:()=>l,uq:()=>s});var n=o(49085),i=o(4615);let s=function(e){return e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),r=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class a extends n.default{getInitialState(){return{inviteStage:r.closed,selection:s.workspace_member,order:[s.workspace_member,s.page_guest],invitedUsers:[],inviteTargets:[],invitedEmailToUserIdMap:{},flowId:(0,i.ZP)()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:r.share_workspace,order:[s.workspace_member,s.page_guest],selection:s.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:r.request_workspace,order:[s.request_workspace_member,s.page_guest],selection:s.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const l=a},55899:(e,t,o)=>{o.d(t,{KU:()=>s,ZP:()=>a,fZ:()=>i});var n=o(49085);function i(e){return"existingUser"===e.type}function s(e){return"newUser"===e.type&&"email"!==e.source}class r extends n.default{getInitialState(){return{tokenQuery:"",inviteTargets:[]}}}const a=r},92547:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(49085);class i extends n.default{getInitialState(){return{justUnlocked:!1}}}const s=i},1903:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(49085),i=o(21202);class s extends n.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:i.iU,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const r=s},8675:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(49085),i=o(80444),s=o(77080),r=o(79797);class a extends n.default{getInitialState(){return{changePermissionsEnabled:!1,privatePageStore:void 0,loading:!1,error:void 0}}shouldSaveTransactionWithSudoMode(e){const t=e===this.state.privatePageStore,o=s.default.checkGate("enable_get_private_page_info_endpoint"),n=this.doesUserAlreadyHaveEditorAccessOnBlock(e.id);return t&&o&&this.state.changePermissionsEnabled&&!n}shouldUserHaveAccessToPrivatePageBlock(){var e,t;const o=null===(e=i.default.state.currentSpaceStore)||void 0===e?void 0:e.canAdmin(),n="enterprise"===(null===(t=i.default.state.currentSpaceStore)||void 0===t?void 0:t.getSubscriptionTier());return this.state.privatePageStore&&o&&n}doesUserAlreadyHaveEditorAccessOnBlock(e){const t=i.default.state.currentSpaceStore;if(!t)return!1;return r.G.createChildStore(t,{table:"block",id:e}).canAdmin()}}const l=a},69150:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(49085);class i extends n.default{getInitialState(){return{isHovered:!1}}}const s=new i},52878:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(49085),i=o(85834),s=o(1903);class r extends n.default{getInitialState(){return{permissionsInviteStore:new s.Z,contextualInviteStore:new i.ZP}}get stage(){return this.state.contextualInviteStore.state.inviteStage}}const a=r},21884:(e,t,o)=>{o.d(t,{E:()=>n});const n=o(49085).default.createValue({showConvertTooltip:!1,forceShow:!1})},96071:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(49085);class i extends n.default{getInitialState(){return{open:!1}}}const s=i},64788:(e,t,o)=>{o.d(t,{P:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("addPageCover",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},15769:(e,t,o)=>{o.d(t,{Q:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("androidShare",{viewBox:"0 0 15 15",svg:(0,i.jsx)("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})})},1464:(e,t,o)=>{o.d(t,{k:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("chevronLeftRounded",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M7.1875 11.8594C7.1875 12.0547 7.25781 12.2266 7.40625 12.375L13.6016 18.4297C13.7344 18.5703 13.9062 18.6406 14.1094 18.6406C14.5156 18.6406 14.8281 18.3359 14.8281 17.9297C14.8281 17.7266 14.7422 17.5547 14.6172 17.4219L8.92969 11.8594L14.6172 6.29688C14.7422 6.16406 14.8281 5.98438 14.8281 5.78906C14.8281 5.38281 14.5156 5.07812 14.1094 5.07812C13.9062 5.07812 13.7344 5.14844 13.6016 5.28125L7.40625 11.3438C7.25781 11.4844 7.1875 11.6641 7.1875 11.8594Z"})})},10020:(e,t,o)=>{o.d(t,{C:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("chevronRightRoundedThin",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M17.0078 11.8594C17.0078 11.724 16.9818 11.599 16.9297 11.4844C16.8776 11.3698 16.7995 11.2604 16.6953 11.1562L10.6094 5.20312C10.4375 5.03125 10.224 4.94531 9.96875 4.94531C9.80208 4.94531 9.64844 4.98698 9.50781 5.07031C9.36719 5.14844 9.25521 5.25521 9.17188 5.39062C9.09375 5.52604 9.05469 5.67969 9.05469 5.85156C9.05469 6.09635 9.14844 6.3151 9.33594 6.50781L14.8203 11.8594L9.33594 17.2109C9.14844 17.4036 9.05469 17.625 9.05469 17.875C9.05469 18.0417 9.09375 18.1927 9.17188 18.3281C9.25521 18.4688 9.36719 18.5781 9.50781 18.6562C9.64844 18.7396 9.80208 18.7812 9.96875 18.7812C10.224 18.7812 10.4375 18.6927 10.6094 18.5156L16.6953 12.5625C16.7995 12.4583 16.8776 12.349 16.9297 12.2344C16.9818 12.1198 17.0078 11.9948 17.0078 11.8594Z"})})},27961:(e,t,o)=>{o.d(t,{z:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},64878:(e,t,o)=>{o.d(t,{h:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("dot",{viewBox:"0 0 5 4",svg:(0,i.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},97439:(e,t,o)=>{o.d(t,{D:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},7525:(e,t,o)=>{o.d(t,{t:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("doubleChevronRight",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.25781 14.1211C2.47656 14.1211 2.66797 14.0391 2.81836 13.8887L8.14355 8.67969C8.32812 8.49512 8.41699 8.29688 8.41699 8.06445C8.41699 7.8252 8.32812 7.62012 8.14355 7.44922L2.81836 2.24023C2.66797 2.08984 2.4834 2.00781 2.25781 2.00781C1.81348 2.00781 1.46484 2.35645 1.46484 2.80078C1.46484 3.0127 1.55371 3.21777 1.7041 3.375L6.50977 8.05762L1.7041 12.7539C1.55371 12.9043 1.46484 13.1094 1.46484 13.3281C1.46484 13.7725 1.81348 14.1211 2.25781 14.1211ZM8.36914 14.1211C8.58789 14.1211 8.77246 14.0391 8.92285 13.8887L14.2549 8.67969C14.4395 8.49512 14.5283 8.29688 14.5283 8.06445C14.5283 7.8252 14.4326 7.62012 14.2549 7.44922L8.92285 2.24023C8.77246 2.08984 8.58789 2.00781 8.36914 2.00781C7.9248 2.00781 7.56934 2.35645 7.56934 2.80078C7.56934 3.0127 7.66504 3.21777 7.81543 3.375L12.6211 8.05762L7.81543 12.7539C7.66504 12.9043 7.56934 13.1094 7.56934 13.3281C7.56934 13.7725 7.9248 14.1211 8.36914 14.1211Z"})})},50780:(e,t,o)=>{o.d(t,{E:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("editPropertyType",{viewBox:"0 0 16 16 ",svg:(0,i.jsx)("path",{d:"M11.5615 4.84473L12.2998 4.11328C12.6689 3.74414 12.6826 3.34082 12.3545 3.00586L12.0879 2.73926C11.7529 2.4043 11.3428 2.43848 10.9736 2.79395L10.2354 3.52539L11.5615 4.84473ZM3.22168 13.1641L10.9053 5.4873L9.59277 4.16797L1.90918 11.8516L1.23926 13.4512C1.16406 13.6562 1.37598 13.875 1.57422 13.7998L3.22168 13.1641ZM3.92578 13.8066H14.1045C14.4736 13.8066 14.7744 13.499 14.7744 13.1367C14.7744 12.7676 14.4736 12.4668 14.1045 12.4668H5.27246L3.92578 13.8066Z"})})},90334:(e,t,o)=>{o.d(t,{O:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("ellipsis",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.887 9.014c.273 0 .52-.064.738-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.41 1.41 0 00-1.04-.417c-.264 0-.505.066-.724.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.307.394.526.526.219.128.46.192.725.192zm5.113 0a1.412 1.412 0 001.244-.718c.132-.219.198-.46.198-.725 0-.405-.14-.747-.423-1.025A1.386 1.386 0 008 6.129c-.264 0-.506.066-.725.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.308.394.526.526.22.128.46.192.725.192zm5.106 0c.265 0 .506-.064.725-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.394 1.394 0 00-1.026-.417 1.474 1.474 0 00-1.265.718c-.127.218-.19.46-.19.724 0 .265.063.506.19.725.133.219.308.394.527.526.223.128.47.192.738.192z"})})},55964:(e,t,o)=>{o.d(t,{N:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("eyePadded",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},63261:(e,t,o)=>{o.d(t,{_:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},13530:(e,t,o)=>{o.d(t,{s:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("historyForward",{viewBox:"0 0 14 14",svg:(0,i.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})},43876:(e,t,o)=>{o.d(t,{s:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("iOSShare",{viewBox:"0 0 27 27",svg:(0,i.jsx)("path",{d:"M13.4902 15.6055C13.9102 15.6055 14.2715 15.2539 14.2715 14.8438V4.81445L14.2129 3.34961L14.8672 4.04297L16.3516 5.625C16.4883 5.78125 16.6836 5.85938 16.8789 5.85938C17.2793 5.85938 17.5918 5.56641 17.5918 5.16602C17.5918 4.96094 17.5039 4.80469 17.3574 4.6582L14.0566 1.47461C13.8613 1.2793 13.6953 1.21094 13.4902 1.21094C13.2949 1.21094 13.1289 1.2793 12.9238 1.47461L9.62305 4.6582C9.47656 4.80469 9.39844 4.96094 9.39844 5.16602C9.39844 5.56641 9.69141 5.85938 10.1016 5.85938C10.2871 5.85938 10.502 5.78125 10.6387 5.625L12.1133 4.04297L12.7773 3.34961L12.7188 4.81445V14.8438C12.7188 15.2539 13.0703 15.6055 13.4902 15.6055ZM7.89453 23.252H19.0957C21.1367 23.252 22.1621 22.2363 22.1621 20.2246V10.4785C22.1621 8.4668 21.1367 7.45117 19.0957 7.45117H16.3711V9.02344H19.0664C20.0332 9.02344 20.5898 9.55078 20.5898 10.5664V20.1367C20.5898 21.1523 20.0332 21.6797 19.0664 21.6797H7.91406C6.9375 21.6797 6.40039 21.1523 6.40039 20.1367V10.5664C6.40039 9.55078 6.9375 9.02344 7.91406 9.02344H10.6191V7.45117H7.89453C5.85352 7.45117 4.82812 8.4668 4.82812 10.4785V20.2246C4.82812 22.2363 5.85352 23.252 7.89453 23.252Z"})})},30681:(e,t,o)=>{o.d(t,{I:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("mobileTopbarMore",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M7.19922 13.2549C7.19922 12.0625 6.23242 11.1064 5.01855 11.1064C3.83691 11.1064 2.87012 12.0625 2.87012 13.2549C2.87012 14.4473 3.83691 15.4033 5.01855 15.4033C6.23242 15.4033 7.19922 14.4473 7.19922 13.2549ZM15.1484 13.2549C15.1484 12.0625 14.1924 11.1064 13 11.1064C11.8184 11.1064 10.8623 12.0625 10.8623 13.2549C10.8623 14.4473 11.8184 15.4033 13 15.4033C14.1924 15.4033 15.1484 14.4473 15.1484 13.2549ZM23.1299 13.2549C23.1299 12.0625 22.1738 11.1064 20.9814 11.1064C19.7676 11.1064 18.8115 12.0625 18.8115 13.2549C18.8115 14.4473 19.7676 15.4033 20.9814 15.4033C22.1738 15.4033 23.1299 14.4473 23.1299 13.2549Z"})})},60651:(e,t,o)=>{o.d(t,{h:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("notionLogo",{viewBox:"0 0 120 126",svg:(0,i.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},60597:(e,t,o)=>{o.d(t,{y:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("pencilOutline",{viewBox:"0 0 18 18",svg:(0,i.jsx)("path",{d:"M3.82 14.14a10.808 10.808 0 01-1.812-2.374A10.206 10.206 0 01.992 9.164a9.01 9.01 0 01-.219-2.617c.058-.86.248-1.667.57-2.422a6.315 6.315 0 011.36-2.016A5.952 5.952 0 014.797.742a7.452 7.452 0 012.492-.5c.87-.026 1.74.08 2.61.32.87.235 1.692.589 2.468 1.063l-1.008.984a8.694 8.694 0 00-1.937-.75 7.578 7.578 0 00-2.07-.242 5.974 5.974 0 00-1.993.367 4.668 4.668 0 00-1.687 1.094 5.043 5.043 0 00-1.297 2.195 6.662 6.662 0 00-.203 2.665A8.52 8.52 0 003 10.695a9.317 9.317 0 001.781 2.485c.464.463.95.854 1.461 1.172a9.268 9.268 0 001.524.765c.505.198.971.35 1.398.453.432.11.797.188 1.094.235.229.041.398.133.508.273.109.14.156.3.14.477a.592.592 0 01-.242.46c-.151.115-.354.157-.61.126a10.518 10.518 0 01-1.218-.227 11.796 11.796 0 01-1.57-.508 10.82 10.82 0 01-1.743-.89A9.764 9.764 0 013.82 14.14zm2.953-2.367l1.477-.601c.48.458 1.01.844 1.594 1.156a6.03 6.03 0 001.789.633 4.15 4.15 0 001.758-.047 3.231 3.231 0 001.523-.883 3.17 3.17 0 00.906-1.765c.115-.693.06-1.43-.164-2.211a7.919 7.919 0 00-1.094-2.313l.985-.984c.52.734.92 1.487 1.195 2.258.281.765.438 1.515.469 2.25a5.593 5.593 0 01-.281 2.062A4.33 4.33 0 0115.883 13a4.2 4.2 0 01-1.594 1.023 5.472 5.472 0 01-1.898.297 7.13 7.13 0 01-2.008-.328 8.572 8.572 0 01-3.61-2.219zm1.25-1.312l-1.656.64c-.104.042-.2.021-.289-.062-.083-.083-.101-.177-.055-.281l.672-1.633 7.047-7.04 1.328 1.33-7.047 7.046zm7.633-7.617l-1.328-1.336.664-.672a.861.861 0 01.57-.258.72.72 0 01.547.195l.235.22a.75.75 0 01.234.585.85.85 0 01-.258.586l-.664.68z"})})},56996:(e,t,o)=>{o.d(t,{z:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("sidebarHome",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.54446 3.06854C9.8066 2.84385 10.1934 2.84385 10.4556 3.06854L15.7064 7.56922C16.0832 7.89219 16.3 8.36369 16.3 8.85996V14.6C16.3 15.5389 15.5389 16.3 14.6 16.3H11.75C11.3634 16.3 11.05 15.9866 11.05 15.6V11.7H8.95001V15.6C8.95001 15.9866 8.63661 16.3 8.25001 16.3H5.40001C4.46113 16.3 3.70001 15.5389 3.70001 14.6V8.85996C3.70001 8.36369 3.91687 7.89219 4.29367 7.56922L9.54446 3.06854ZM10 4.52198L5.20477 8.63218C5.13828 8.68918 5.10001 8.77238 5.10001 8.85996V14.6C5.10001 14.7657 5.23433 14.9 5.40001 14.9H7.55001V11.5C7.55001 10.8373 8.08727 10.3 8.75001 10.3H11.25C11.9128 10.3 12.45 10.8373 12.45 11.5V14.9H14.6C14.7657 14.9 14.9 14.7657 14.9 14.6V8.85996C14.9 8.77238 14.8617 8.68918 14.7952 8.63218L10 4.52198Z"})})},58178:(e,t,o)=>{o.d(t,{s:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},47560:(e,t,o)=>{o.d(t,{o:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344ZM5.67969 6.82812H13.5469C13.8125 6.82812 14.0312 6.60156 14.0312 6.32812C14.0312 6.07031 13.8125 5.85156 13.5469 5.85156H5.67969C5.41406 5.85156 5.20312 6.07031 5.20312 6.32812C5.20312 6.60156 5.41406 6.82812 5.67969 6.82812ZM5.67969 9.30469H13.5469C13.8125 9.30469 14.0312 9.08594 14.0312 8.8125C14.0312 8.55469 13.8125 8.32812 13.5469 8.32812H5.67969C5.41406 8.32812 5.20312 8.55469 5.20312 8.8125C5.20312 9.08594 5.41406 9.30469 5.67969 9.30469ZM5.67969 11.7891H10.8047C11.0781 11.7891 11.2891 11.5703 11.2891 11.3047C11.2891 11.0312 11.0781 10.8125 10.8047 10.8125H5.67969C5.41406 10.8125 5.20312 11.0312 5.20312 11.3047C5.20312 11.5703 5.41406 11.7891 5.67969 11.7891Z"})})},44292:(e,t,o)=>{o.d(t,{d:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("topbarUpdate",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10.0781 18.1562C14.5078 18.1562 18.1641 14.5 18.1641 10.0781C18.1641 5.65625 14.5 2 10.0703 2C5.64844 2 2 5.65625 2 10.0781C2 14.5 5.65625 18.1562 10.0781 18.1562ZM10.0781 16.5469C6.49219 16.5469 3.625 13.6641 3.625 10.0781C3.625 6.49219 6.49219 3.61719 10.0703 3.61719C13.6562 3.61719 16.5391 6.49219 16.5469 10.0781C16.5547 13.6641 13.6641 16.5469 10.0781 16.5469ZM6.14062 11.0625H10.0703C10.4297 11.0625 10.7031 10.7891 10.7031 10.4375V5.32812C10.7031 4.97656 10.4297 4.70312 10.0703 4.70312C9.72656 4.70312 9.45312 4.97656 9.45312 5.32812V9.8125H6.14062C5.78906 9.8125 5.51562 10.0859 5.51562 10.4375C5.51562 10.7891 5.78906 11.0625 6.14062 11.0625Z"})})}}]);