"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5548],{2517:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var i=r(67294),n=r(480),s=r(86628),o=r(24405),a=r(82990),l=r(94841),c=r(80444),d=r(98165),u=r(95697),h=r(79797),x=r(9291),m=r(64921),g=r(31945),f=r(78140),p=r(32163),v=r(40721),b=r(89728),j=r(87279),M=r(87686),w=r(15145),y=r(75754),C=r(11470),k=r(72495),P=r(73744),W=r(35683),S=r(85893);const Z=function(e,t){return[{key:"results",render:e=>(0,S.jsx)(k.Z,{...e}),items:t.map(((t,r)=>({key:t.id,render:e=>(0,S.jsx)(C.Z,{...e,isSubpage:0!==r,store:t,hidePath:!0}),action:r=>{let{event:i}=r;const n=P.DJ(i);t instanceof h.G&&y._({environment:e,store:t,openInNew:n,visitType:W.vu.Link,pageVisitSource:w.tY.Breadcrumb})}})))}]};const V=function(e){window.__c={n:"BreadcrumbBlocksAsPopup"};const{isMobile:t,stores:r}=e,i=(0,n.O7)(),s={display:"flex",alignItems:"center",flexShrink:0};return(0,S.jsx)(g.ZP,{popupType:t?g.Z4.SlideUp:g.Z4.Popup,renderOrigin:e=>t?(0,S.jsxs)(m.Z,{style:{...s},mobileFeedback:!0,...e,children:[(0,S.jsx)(M.f,{}),(0,S.jsx)("div",{style:{marginLeft:8,marginRight:8},children:"..."}),(0,S.jsx)(M.f,{})]}):(0,S.jsxs)("div",{style:s,children:[(0,S.jsx)(b.Z,{isSmall:!0,...e,children:"..."}),(0,S.jsx)(M.f,{})]}),render:e=>{let n;return n=t?{menuType:j.og.Modal,title:(0,S.jsx)(x.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,S.jsx)(v.DoneMenuText,{}),onClickRight:e.close}:{menuType:j.og.Popup,width:240},(0,S.jsx)(f.Z,{...n,children:(0,S.jsx)(p.Z,{type:p.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:Z(i,r)})})}})};var R=r(7692),B=r(24946);function _(e){const{ancestorMaxWidth:t,showDivider:r,store:i}=e;return i instanceof h.zX?(0,S.jsx)(B.Z,{store:i,showDivider:r,maxWidth:t}):(0,S.jsx)(R.Z,{store:i,showDivider:r,maxWidth:t})}function T(e){window.__c={n:"BreadcrumbAncestors"};const{ancestorMaxWidth:t,isMobile:r,homeStore:i,store:n,maxAncestorCount:o}=e,[a,c]=(0,s.VK)((()=>{const e=d.uJ(n),t=n.isNavigableBlock()?e.slice(1):[...e];return t.reverse(),e.reverse(),[t,e]}),[n]),x=(0,s.VK)((()=>(0,l.Kj)(n.id)),[n]),m=(0,s.VK)((()=>u.bq()),[]);if(x&&void 0!==i)return(0,S.jsx)(_,{ancestorMaxWidth:t,showDivider:!0,store:i},i.id);if(a.length>o){const[e,i,n]=[a[0],a.slice(1,a.length-o+1),a.slice(a.length-o+1)];if(m)return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(_,{ancestorMaxWidth:t,showDivider:!r,store:e},e.id),(0,S.jsx)(V,{isMobile:r,stores:r?c:i},"pages-popup"),n.map((e=>e instanceof h.zX?(0,S.jsx)(B.Z,{store:e,showDivider:!0,maxWidth:t},e.id):(0,S.jsx)(R.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]});{const e=a.filter((e=>e instanceof h.G)),i=a.filter((e=>e instanceof h.G));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R.Z,{store:e[0],showDivider:!r,maxWidth:t},e[0].id),(0,S.jsx)(V,{isMobile:r,stores:r?i:e.slice(1,e.length-o+1)},"pages-popup"),e.slice(e.length-o+1).map((e=>(0,S.jsx)(R.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]})}}return(0,S.jsx)(S.Fragment,{children:a.map((e=>(0,S.jsx)(_,{ancestorMaxWidth:t,showDivider:!0,store:e},e.id)))})}var D=r(36610),K=r(52771),O=r(31278),F=r(76798),I=r(45010),L=r(88923),N=r(25238);const A=function(e){window.__c={n:"BreadcrumbReadOnlyPage"};const{ancestorMaxWidth:t,ignoreMaxLength:r,showDivider:i,store:n}=e,s=(0,o.yK)((()=>({homeBreadCrumbWrapper:{marginLeft:-4},wrapper:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0,maxWidth:r?void 0:"100%"}})),[r]);return(0,S.jsxs)("div",{style:s.wrapper,children:[(0,S.jsx)(N.Z,{store:n,maxWidth:t,ignoreMaxLength:r}),i&&(0,S.jsx)(M.f,{})]})};function E(e,t,r,n){return(0,i.useCallback)((()=>{const i=L.default.isCenterPeekOpen()?I.Z.PeekViewScroller:I.Z.PageScroller;if(i&&!i.atScrollStart())return i.scrollToTop({animate:!0}),void D.Op(e);const s=n.canEdit(),o=n.isLocked(),a=n.getCollectionViewCollectionStore(),l=null==a?void 0:a.isSyncedCollection(),c=n.isExternalObjectInstancePageBlockStore();if(t||L.default.isCenterPeekOpen()||!r||!s||o||c||l)return;const d=r.current;if(!d)return;if(!(d instanceof Element))return;const u=d.getBoundingClientRect();K.$({blockStore:n,originRect:u}),D.V(e)}),[e,t,r,n])}function z(e,t){window.__c={n:"BreadcrumbCurrentPageWithControlsWithRef"};const{currentPageMaxWidth:r,isMobile:i,currentPageRef:o,store:a}=e,c=(0,n.O7)(),d=(0,s.VK)((()=>(0,l.Kj)(a.id)),[a]),u=(0,s.VK)((()=>a.isEmptyPage()),[a]),h=(0,s.VK)((()=>a.getIcon()),[a]),x=i?24:20,m=E(c,i,o,a);return(0,S.jsxs)(b.Z,{shouldShrink:!0,onClick:m,isSmall:!0,ref:t,disabled:d,children:[Boolean(h)&&(0,S.jsx)(O.Z,{disabled:!0,icon:h,isEmptyPage:u,size:x,style:{marginRight:6},largeIcon:!0}),(0,S.jsx)(F.Z,{store:a,style:{maxWidth:r},enableHover:!0})]})}const H=(0,i.forwardRef)(z);function U(e){window.__c={n:"BreadcrumbCurrentPage"};const{ancestorMaxWidth:t,isMobile:r,currentPageRef:i,store:o}=e,a=(0,n.O7)(),{mobileNative:c}=a,u=(0,s.VK)((()=>(0,l.WE)(o)),[o]),h=E(a,r,i,o),x=(0,s.VK)((()=>{const e=d.uJ(o);return 0===(o.isNavigableBlock()?e.slice(1):[...e]).length}),[o]);return u?null:r?(0,S.jsx)(b.Z,{shouldShrink:!0,onClick:h,isSmall:!0,style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingLeft:0}:void 0,children:(0,S.jsx)(A,{store:o,showDivider:!1,ignoreMaxLength:x,ancestorMaxWidth:t})}):(0,S.jsx)(b.Z,{shouldShrink:!0,onClick:h,isSmall:!0,style:{fontSize:"inherit"},children:(0,S.jsx)(A,{store:o,showDivider:!1,ancestorMaxWidth:t})})}function J(e){window.__c={n:"BreadcrumbCurrentPageThatOpensBreadcrumbs"};const{ancestorMaxWidth:t,store:r}=e,i=(0,n.O7)(),o={display:"flex",alignItems:"center",flexShrink:0},a=(0,s.VK)((()=>{const e=d.uJ(r);return e.reverse(),e}),[r]);return(0,S.jsx)(g.ZP,{popupType:g.Z4.SlideUp,renderOrigin:e=>(0,S.jsx)(m.Z,{style:{...o,maxWidth:"100%"},mobileFeedback:!0,...e,children:(0,S.jsx)(A,{store:r,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:t})}),render:e=>{const t={menuType:j.og.Modal,title:(0,S.jsx)(x.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,S.jsx)(v.DoneMenuText,{}),onClickRight:e.close};return(0,S.jsx)(f.Z,{...t,children:(0,S.jsx)(p.Z,{type:p.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:Z(i,a)})})}},"pages-popup")}var q=r(73935),G=r(42853),Q=r(16184),X=r(72141),Y=r(73990),$=r(11302),ee=r(26388),te=r(4023),re=r(35057);function ie(e){window.__c={n:"BreadcrumbMoveTo"};const{store:t}=e,r=(0,n.O7)(),a=(0,s.VK)((()=>{if(!(0,u.bq)())return!1;if(!(0,re.mq)())return!1;const{currentSpaceViewStore:e}=c.default.state,i=null==e?void 0:e.getPrivatePages(r);return null==i?void 0:i.some((e=>e.id===t.id))}),[r,t]),l=(0,s.VK)((()=>{const e=r.currentUser.id;return t.getPermissionItems().every((t=>(0,X.jg)(t)&&e===t.user_id))}),[r,t]),d=(0,o.Fg)(),h=(0,i.useRef)(null),m=(0,i.useCallback)((()=>{if(!h)return;const e=q.findDOMNode(h.current);if(!(e&&e instanceof Element))return;const i=e.getBoundingClientRect(),n=new DOMRect(i.x,i.y,i.width,i.height+5);Y.Fo(r),$.bA({environment:r,blocks:[t],originRect:n,moveToContext:"topbar_breadcrumb"})}),[r,h,t]);return a&&l?(0,S.jsx)(ee.ZP,{placement:te.u.Right,renderTooltip:e=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)(x.FormattedMessage,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,S.jsx)("div",{style:{color:d.mediumInvertedTextColor},children:(0,S.jsx)(x.FormattedMessage,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,S.jsxs)(b.Z,{isSmall:!0,disabled:!1,onClick:m,ref:h,...e,children:[(0,Q.Q)({width:16,fill:d.lightIconColor}),(0,S.jsx)("span",{style:{color:d.lightTextColor,marginLeft:4,marginRight:5},children:(0,S.jsx)(x.FormattedMessage,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,G.i)({width:9,fill:d.lightIconColor})]})}):null}const ne=function(e){window.__c={n:"Breadcrumb"};const{ancestorMaxWidth:t,maxAncestorCount:r,currentPageMaxWidth:d,isMobile:u,showCurrentPageControls:h,store:x,style:m}=e,g=(0,i.useRef)(null),f=(0,n.O7)(),p=(0,o.yK)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:u?a.Z.fontSize.UIRegular.mobile:a.Z.fontSize.UIRegular.desktop,...m},enforceMaxLength:{maxWidth:"100%"}})),[u,m]),v=(0,s.VK)((()=>{var e;return!(null===(e=x.getTitleStore())||void 0===e||!e.isReady())}),[x]),b=(0,s.VK)((()=>{const{currentSpaceViewStore:e}=c.default.state;let t;return e&&e.isReady()&&(t=(0,l.Al)(e)),t}),[]),j=(0,s.VK)((()=>!(0,l.WE)(x)&&h&&x.isReady()),[h,x]),M=(0,s.VK)((()=>{var e;return null===(e=f.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[f]);return v?M?(0,S.jsx)("div",{style:{...p.container,...p.enforceMaxLength},className:"notranslate",children:(0,S.jsx)(J,{store:x,ancestorMaxWidth:t})}):(0,S.jsxs)("div",{style:p.container,className:"notranslate shadow-cursor-breadcrumb",children:[(0,S.jsx)(T,{ancestorMaxWidth:t,maxAncestorCount:r,isMobile:u,homeStore:b,store:x}),j?(0,S.jsx)(H,{currentPageMaxWidth:d,isMobile:u,currentPageRef:g,ref:g,store:x}):(0,S.jsx)(U,{ancestorMaxWidth:t,isMobile:u,currentPageRef:g,store:x}),(0,S.jsx)(ie,{store:x})]}):null}},16184:(e,t,r)=>{r.d(t,{Q:()=>s});r(67294);var i=r(45238),n=r(85893);const s=(0,i.I)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})}}]);