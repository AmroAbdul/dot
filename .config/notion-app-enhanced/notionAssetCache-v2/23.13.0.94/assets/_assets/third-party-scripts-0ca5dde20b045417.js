"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9765],{44975:(e,t,s)=>{s.d(t,{EK:()=>l,IM:()=>c,QZ:()=>r,YY:()=>n,_g:()=>o,dy:()=>a,x9:()=>d,yb:()=>u});var i=s(97978);function a(e,t){i.j(e,"download_desktop_app",t)}function n(e,t){i.j(e,"download_mobile_app",t)}function o(e,t){const{name:s,...a}=t;i.j(e,"click_link",{...a,click_name:s})}function r(e,t){i.j(e,"scroll",t)}function c(e,t){i.j(e,"customer_io_in_app_callout_show",t)}function l(e,t){i.j(e,"customer_io_in_app_callout_suppress",t)}function d(e,t){i.j(e,"customer_io_in_app_callout_dismiss",t)}function u(e,t){i.j(e,"customer_io_in_app_callout_error",t)}},37252:(e,t,s)=>{s.r(t),s.d(t,{InjectThirdPartyScripts:()=>Z,useThirdPartyScripts:()=>V});var i=s(67294),a=s(13991),n=s(480),o=s(86628),r=s(72126),c=(s(57658),s(74686)),l=s(66673),d=s(65454),u=s(4615);const p={siteId:"a2a8e2144b2bbbb4074a",orgId:"901895b8-45c7-40c8-ba91-626cfc6739b3"};function g(){var e,t,s;if(!window._cio)for(window._cio=[],e=function(e){return function(){window._cio.push([e].concat(Array.prototype.slice.call(arguments,0)))}},t=["load","identify","sidentify","track","page","on","off","reset"],s=0;s<t.length;s++)window._cio[t[s]]=e(t[s])}var f=s(7250),m=s(93724),_=s(49902),S=s(44975),y=s(8055),v=s(95477),I=s(15010),b=s(94134),k=s(58455),w=s(80444),C=s(61893),E=s(74055),h=s(77080),R=s(3418),K=s(69454),M=s(7339),P=s(77907);function V(){const e=(0,n.O7)(),t=(0,n.Fy)(),{currentUser:s}=e,V=(0,o.VK)((()=>{var e;return null===(e=w.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),Z=(0,o.VK)((()=>M.C.state.ready),[]);!function(e){let{isEnabled:t,isLoggedIn:s,userId:a,onMessageOpened:n,onMessageDismissed:o,onMessageError:r,onMessageAction:f,cookieService:m}=e;(0,i.useEffect)((()=>{(async function(){return!!t&&!!(await c.ec({service:"customer_io",cookieService:m}))&&!("cio-tracker"in window)})().then((e=>{if(e)return g(),(0,d.ZP)("https://assets.customer.io/assets/track.js",{id:"cio-tracker",attributes:{"data-site-id":p.siteId,"data-use-array-params":"true","data-in-app-org-id":p.orgId,"data-use-in-app":"true","data-auto-track-page":"false"}}).catch((e=>{console.error("Customer.io failed to load",e)}))}))}),[t,m]);const _=(0,l.D9)(a);(0,i.useEffect)((()=>{_!==a&&(g(),s&&void 0!==a?(window._cio.identify({id:(0,u.cj)(a)}),n&&window._cio.on("in-app:message-opened",n),o&&window._cio.on("in-app:message-dismissed",o),f&&window._cio.on("in-app:message-action",f),window._cio.on("in-app:message-error",r)):window._cio.reset())}),[s,a,_,n,o,r,f])}({isEnabled:(0,o.VK)((()=>s.isLoggedIn()&&Z&&h.default.checkGate("customerio")),[s,Z]),isLoggedIn:s.isLoggedIn(),userId:s.id,onMessageOpened:t=>{E.Z.state.suppressReason?S.EK(e,{message_id:t.detail.messageId,reason:E.Z.state.suppressReason}):(E.Z.setState({...E.Z.state,isVisible:!0}),S.IM(e,{message_id:t.detail.messageId}))},onMessageDismissed:t=>{E.Z.setState({...E.Z.state,isVisible:!1}),S.x9(e,{message_id:t.detail.messageId})},onMessageError:t=>{S.yb(e,{message_id:t.detail.messageId})},onMessageAction:t=>{if(t.detail.actionValue.startsWith("relative_url=")){const s=t.detail.actionValue.split("relative_url=")[1];y.c4({environment:e,url:s})}t.detail.message.dismiss()},cookieService:e.cookieService}),(0,_.kI)({...(0,o.VK)((()=>{const e=k.default.state.isSprigEnabled&&C.Z.state.permission.performance&&h.default.checkGate("sprig")&&t.isDesktop,{currentUserSettingsStore:s,currentSpaceStore:i,currentUserStore:a}=w.default.state,n=null==a?void 0:a.getEmail(),o=s?(0,I.e2)(s):null,r=Boolean(null==i?void 0:i.canAdmin()),c=(null==i?void 0:i.getUserMemberCount())??0;return{isEnabled:e,userEmail:n,userDaysSinceSignup:o??0,userDomainType:(0,I.JF)(),isSpaceAdmin:r,spaceMemberCount:c}}),[t]),isLoggedIn:s.isLoggedIn(),userId:s.id,spaceId:V,sprigConfig:v.default.sprig}),(0,f.oG)({getLocale:(0,i.useCallback)((()=>a.SP),[]),analyticsSettings:(0,o.VK)((()=>r.ei(k.default.state,["isIntercomEnabled","intercomAppId","intercomUserHash","noIntercomUserId","user_id","user_email"])),[]),onVisibilityChange:(0,i.useCallback)((t=>{K.Z.updateShouldResizeWebview(e,t,"v1"),t?R.Z.addNamedPopup("intercom"):R.Z.removeNamedPopup("intercom")}),[e]),cookieService:e.cookieService}),function(e){var t;const{userId:s,spaceId:a,...n}=e,o=(0,P.useDependency)(P.deps.sentry);(0,i.useEffect)((()=>{if(!o.value)return;const{Sentry:e,sentryInitializeFull:t}=o.value;t({Sentry:{...e,isFullSDK:!0},config:v.default,...n})}),[o.value,n]);const r=null===(t=o.value)||void 0===t?void 0:t.Sentry;(0,i.useEffect)((()=>{r&&r.setUser(s?{id:s}:null)}),[r,s]),(0,i.useEffect)((()=>{r&&r.setTag("space.id",a)}),[r,a])}({userId:s.id,spaceId:V,getErrorsSampleRate:(0,i.useCallback)((()=>h.default.getConfigKey("sentry","errorsSampleRate")),[]),getTracesSampleRate:(0,i.useCallback)((()=>h.default.getConfigKey("sentry","tracesSampleRate-v0")),[]),getReplaysSessionSampleRate:(0,i.useCallback)((()=>h.default.getConfigKey("sentry","replaysSessionSampleRate-v0")),[]),getReplaysOnErrorSampleRate:(0,i.useCallback)((()=>h.default.getConfigKey("sentry","replaysOnErrorSampleRate-v0")),[]),getIsProfilingEnabled:(0,i.useCallback)((()=>"sentry"===(0,b.getProfilingToolForSession)()),[]),getProfilesSampleRate:(0,i.useCallback)((()=>h.default.getConfigKey("sentry","profilesSampleRate")),[])}),(0,m.useConfigurePalette)({userId:s.id,spaceId:V,pageType:(0,o.VK)((()=>{var e;return null===(e=w.default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.getType()}),[]),device:t})}function Z(){return window.__c={n:"InjectThirdPartyScripts"},V(),null}},74055:(e,t,s)=>{s.d(t,{V:()=>a,Z:()=>o});var i=s(49085);let a=function(e){return e.IN_APP_CALLOUT_CONFLICT="in-app callout conflict",e.DARK_MODE="not shown in dark mode",e}({});class n extends i.default{getInitialState(){return{isVisible:!1,suppressReason:void 0}}}const o=new n}}]);