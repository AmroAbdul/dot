"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2721],{66653:(t,e,i)=>{i.d(e,{Z:()=>S});i(67294);var n=i(83355),r=i(480),o=i(24405),s=i(40506),a=i(53877),d=i(84795),l=i(72126),p=i(97880),u=i(9291),h=i(17335),c=i(97638),g=i(67950),v=i(74194),f=i(68894),m=i(26388),y=i(85893);class x extends n.Z{constructor(){super(...arguments),this.storeTypes={store:g.Z},this.renderInput=()=>{const{device:t}=this.environment,{store:e,hideClearButton:i,focused:n,value:r,...o}=this.props,s=t.isMobile&&"relative"!==(null==r?void 0:r.type)?"date":"text",a="date"===s?v.B.Transparent:v.B.Large,d=t.isMobile?void 0:n;return(0,y.jsx)(f.ZP,{...o,type:s,format:a,left:(0,y.jsx)(w,{placeholder:this.props.placeholder,value:this.props.value,hideClearButton:this.props.hideClearButton,inputType:s}),showClearButton:D(this.environment,this.props.hideClearButton),focus:d,onFocus:this.handleFocus,onClearButtonClick:this.handleClear,onChange:this.handleChange,onSubmit:this.handleSubmit,onBlur:this.handleBlur,value:this.getInputValue(),disableInput:"relative"===(null==r?void 0:r.type),...this.getInputStyles()})},this.handleFocus=t=>{const{onFocus:e}=this.props,{store:i}=this.stores;i.setState({...i.state,edited:!1}),e&&e(t)},this.handleClear=()=>{const{onClearButtonClick:t,onUpdate:e}=this.props,{store:i}=this.stores;i.setState({...i.state,edited:!0,temporary:"",error:void 0});const n=this.validateCurrent();n&&e(n),i.setState({...i.state,edited:!1}),t&&t()},this.handleChange=t=>{const{device:e}=this.environment,{store:i}=this.stores;i.setState({...i.state,edited:!0,temporary:t.target.value||""}),e.isAndroid&&this.handleBlur()},this.handleSubmit=t=>{const{onUpdate:e,onSubmit:i}=this.props,{store:n}=this.stores,r=this.validateCurrent();r&&(e(r),r.error?n.setState({...n.state,edited:!1,error:r.error}):n.reset()),i&&i(t,r)},this.handleBlur=t=>{const{onUpdate:e,onBlur:i}=this.props,{store:n}=this.stores,r=this.validateCurrent();r?(e(r),r.error?n.setState({...n.state,edited:!1,error:r.error}):n.reset()):n.setState({...n.state,edited:!1}),t&&i&&i(t)}}didUpdate(t){const{store:e}=this.stores;l.Xy(t.value,this.props.value)||e.reset()}renderComponent(){const t=this.getError();return t?(0,y.jsx)(m.ZP,{renderTooltip:()=>t,forceVisibleState:!0,placement:m.ug.Left,render:this.renderInput,originGap:-8}):this.renderInput()}getInputValue(){const{device:t}=this.environment,{value:e,intl:i}=this.props,{store:n}=this.stores;if(e&&"relative"===e.type)return(0,h.x)(e);const r=e&&"date"!==e.type?a.Id(e):e;return t.isMobile?r?c.p6(r,i,b(this.environment,this.props.desktopDateFormat)):"":n.state.temporary||n.state.edited?n.state.temporary:r?c.p6(r,i,b(this.environment,this.props.desktopDateFormat)):""}getError(){const{store:t}=this.stores,{intl:e}=this.props;if(t.state.error)switch(t.state.error){case g.B.INVALID_DATE:return e.formatMessage({id:"dateInputError.invalidDateError.tooltip",defaultMessage:"Invalid date"});case g.B.INVALID_RANGE:return e.formatMessage({id:"dateInputError.invalidDateRangeError.tooltip",defaultMessage:"Invalid range"});default:(0,p.t1)(t.state.error)}}validateCurrent(){const{validate:t}=this.props,e=this.parseCurrentValue();if(e)return t?t(e):e}parseCurrentValue(){const{store:t}=this.stores;if(!t.state.edited)return;if(!t.state.temporary)return{value:void 0};const e=(0,d.parseDateValueWithInputFormat)(t.state.temporary,this.environment.device.isMobile?a.Iq:b(this.environment,this.props.desktopDateFormat),this.props.intl);return e?{value:{type:"date",start_date:e}}:{error:g.B.INVALID_DATE}}getInputStyles(){const{device:t}=this.environment,{inputStyle:e,inputOuterStyle:i,style:n}=this.props,r=k(this.environment,this.props.hideClearButton);return{style:{...r.menuItem,...n,marginRight:0},inputOuterStyle:{...this.getInputBorders(),...r.inputWrapper,...i},inputStyle:{...r.inputEditRegion,...t.isMobile&&r.inputEditRegionMobile,...e}}}getInputBorders(){const{disabled:t,focused:e}=this.props,i=M(this.theme),n=this.getError();if(!t)return n?i.inputError:e?i.inputFocused:i.inputDefault}}x.displayName="DateInputMenuItem";const S=(0,u.injectIntl)(x);function b(t,e){const{device:i}=t;return i.isMobile?"YYYY-MM-DD":e??s.sF}function D(t,e){const{device:i}=t;return!!i.isMobile||!e}function M(t){return{inputDefault:{background:t.inputBackground,boxShadow:t.inputBoxShadow},inputFocused:{background:t.inputBackground,boxShadow:t.outlineBlueInputBoxShadow},inputError:{background:t.inputBackground,boxShadow:t.outlineRedInputBoxShadow},placeholder:{color:t.lightTextColor}}}function k(t,e){return{menuItem:{marginBottom:t.device.isMobile?1:8},inputWrapper:{borderRadius:4,height:28,paddingRight:D(t,e)?8:0,position:"relative"},inputEditRegion:{width:D(t,e)?"calc(100% - 14px)":"100%"},inputEditRegionMobile:{padding:"2px 6px",position:"relative"},placeholder:{position:"absolute",left:t.device.isIpad?26:12,top:t.device.isIpad?void 0:"50%",transform:"translateY(-50%)"}}}function w(t){let{inputType:e,placeholder:i,value:n,hideClearButton:s}=t;window.__c={n:"MobilePlaceholderComponent"};const a=(0,o.Fg)(),d=k((0,r.O7)(),s),l=M(a);return"date"!==e||n?null:(0,y.jsx)("div",{style:{...d.placeholder,...l.placeholder},children:i})}},41209:(t,e,i)=>{i.d(e,{Z:()=>v});i(67294);var n=i(480),r=i(76205),o=i(17335),s=i(33929),a=i(87279),d=i(52275),l=i(31945),p=i(78140),u=i(32163),h=i(53437),c=i(72495),g=i(85893);function v(t){window.__c={n:"DateOrRangeFilterOperatorValueMenu"};const{filterValue:e,renderOrigin:i,buttonPopupStore:v}=t,f=(0,n.O7)(),m=t=>"relative"===t.filter.type&&"custom"===t.filter.value?s.default.formatMessage(o.HL[t.filter.value]):"date"===t.type?(0,o.x)(t.filter):(0,o.ip)(t.filter);return(0,g.jsx)(l.ZP,{popupType:f.device.isMobile?h.kQ.SlideUp:h.kQ.Popup,buttonPopupStore:v,render:()=>{let i;i=f.device.isMobile?{menuType:a.og.ActionSheet}:{menuType:a.og.Popup};const n="date"===t.type?(()=>{const t=r.tO;return[...t.filter((t=>"relative"===t.type)),...t.filter((t=>"exact"===t.type))]})().map((i=>({key:"relative"===i.type?i.value:i.type,render:t=>(0,g.jsx)(d.Z,{...t,title:m({type:"date",filter:i}),checkState:i.type===e.type&&(void 0===i.value||i.value===e.value)}),action:()=>{t.onUpdate(i),v.setState({open:!1})}}))):(()=>{const t=(0,r.v8)();return[...t.filter((t=>"relative"===t.type)),...t.filter((t=>"exact"===t.type))]})().map((i=>({key:(0,r.eX)(i),render:t=>(0,g.jsx)(d.Z,{...t,title:m({type:"daterange",filter:i}),checkState:i.type===e.type&&(void 0===i.value||i.value===e.value)}),action:()=>{t.onUpdate(i),v.setState({open:!1})}})));return(0,g.jsx)(p.Z,{...i,children:(0,g.jsx)(u.Z,{type:u.i.Vertical,sections:[{key:"filterOperators",render:t=>(0,g.jsx)(c.Z,{disableMobilePadding:!0,...t}),items:n}],initialFocus:void 0})})},renderOrigin:i,style:{width:240},originGap:2,placementToOrigin:l.pO.Bottom,alignmentToOrigin:l.vR.Center,disabled:t.disabled})}},83264:(t,e,i)=>{i.d(e,{Z:()=>R});i(67294);var n=i(83355),r=i(480),o=i(86628),s=i(24405),a=i(76205),d=i(53877),l=i(42875),p=i(97880),u=i(9291),h=i(28020),c=i(33929),g=i(87279),v=i(97638),f=i(67950),m=i(41558),y=i(78140),x=i(40721),S=i(72495),b=i(64369),D=i(66653),M=i(41209),k=i(46945),w=i(14390),C=i(85893);const I={calendarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},pickerSection:{paddingLeft:16,paddingRight:16},pickerSectionMobile:{paddingTop:16,paddingBottom:8},firstDateInput:{marginTop:2}},T=(0,u.defineMessages)({startingMessage:{defaultMessage:"Starting",id:"search.dateRangeMenu.startingMessage"},endingMessage:{defaultMessage:"Ending",id:"search.dateRangeMenu.endingMessage"}});class j extends n.Z{constructor(){super(...arguments),this.storeTypes={store:m.Z},this.renderInputs=()=>{const{value:t,relativeRangePopupStore:e,onUpdateRelativeFilter:i}=this.props;if(e&&i){const n="type"in t?t:{type:"exact",value:void 0};return(0,C.jsx)(M.Z,{type:"daterange",filterValue:n,onUpdate:i,renderOrigin:t=>"exact"===n.type?this.renderStartEnd(t):"relative"!==n.type||"surrounding"!==n.value&&"custom"!==n.value?void 0:(0,C.jsx)(F,{events:t,onUpdateFilter:i,filter:n}),disabled:"exact"===n.type,buttonPopupStore:e})}return this.renderStartEnd()},this.renderStartEnd=t=>{const{value:e,disabled:i,allowRelativeRangeFilter:n}=this.props,{store:r}=this.stores,o=r.getFocus(),s=function(t,e){if("type"in t)return;const i=t.starting&&v.p6(t.starting,e,"YYYY-MM-DD"),n=t.ending&&v.p6(t.ending,e,"YYYY-MM-DD");return{earliestValidEnding:i,latestValidStarting:n}}(this.props.value,this.props.intl),a="type"in e?{starting:void 0,ending:void 0}:e;return(0,C.jsxs)("div",{...t,style:{display:"flex",flexDirection:n&&!this.environment.device.isMobile?"row":"column",alignItems:"center",width:this.environment.device.isMobile?void 0:280},children:[(0,C.jsx)(D.Z,{disabled:i,placeholder:this.environment.device.isMobile?void 0:c.default.formatMessage(T.startingMessage),focused:"starting"===o,value:a.starting,validate:t=>function(t,e){const i=O("starting",t,e);return i.error?i:{value:i.value.starting}}(t,this.props.value),onUpdate:t=>function(t,e){t.error||e({value:{starting:t.value}})}(t,this.props.onUpdate),onFocus:()=>this.handleFocus("starting"),onSubmit:this.handleStartSubmit,inputElementAttributes:s?{max:s.latestValidStarting}:void 0,inputOuterStyle:I.firstDateInput,textWrapperStyle:n&&!this.environment.device.isMobile?{marginRight:2}:{},desktopDateFormat:n?"YYYY/MM/DD":void 0}),(0,C.jsx)(D.Z,{disabled:i,placeholder:this.environment.device.isMobile?void 0:c.default.formatMessage(T.endingMessage),focused:"ending"===o,value:a.ending,validate:t=>function(t,e){const i=O("ending",t,e);return i.error?i:{value:i.value.ending}}(t,this.props.value),onUpdate:t=>function(t,e){t.error||e({value:{ending:t.value}})}(t,this.props.onUpdate),onFocus:()=>this.handleFocus("ending"),onSubmit:(t,e)=>function(t,e,i){if(e&&e.error)return;i&&i(t)}(t,e,this.props.onDismiss),inputElementAttributes:s?{min:s.earliestValidEnding}:void 0,textWrapperStyle:n&&!this.environment.device.isMobile?{marginLeft:2}:{},desktopDateFormat:n?"YYYY/MM/DD":void 0})]})},this.handleFocus=t=>{const{store:e}=this.stores;e.setState({...e.state,focus:t})},this.handleStartSubmit=(t,e)=>{const{store:i}=this.stores;e&&e.error||i.setState({...i.state,focus:"ending"})},this.getMenuProps=()=>{const{device:t}=this.environment,{onDismiss:e,title:i}=this.props;if(t.isMobile){return{menuType:g.og.Modal,title:i,right:(0,C.jsx)(x.DoneMenuText,{}),onClickRight:e,header:this.renderInputs()}}return{menuType:g.og.Popup,onClickOutside:e}}}renderComponent(){const{disableMenuWrap:t,hideDateInputMenuItems:e}=this.props,{device:i}=this.environment;return t?(0,C.jsxs)(C.Fragment,{children:[!e&&this.renderInputs(),(0,C.jsx)(W,{value:this.props.value,onUpdate:this.props.onUpdate,store:this.stores.store})]}):(0,C.jsxs)(y.Z,{...this.getMenuProps(),children:[!i.isMobile&&!e&&this.renderInputs(),(0,C.jsx)(W,{value:this.props.value,onUpdate:this.props.onUpdate,store:this.stores.store})]})}}j.displayName="DateRangeMenu";const R=(0,u.injectIntl)(j);function B(t){return{type:"date",start_date:d.gQ(Date.now(),d.aN(),t).toFormat(d.Iq)}}function Z(t){return"custom"===t.value?function(t,e,i){const n=(0,a.Fo)(t,e,i,(0,l.r)());switch(t){case"past":return{starting:d.ME(n),ending:d.Lg((0,l.r)())};case"future":return{starting:d.Lg((0,l.r)()),ending:d.ME(n)};default:(0,p.t1)(t)}}(t.direction,t.count,t.unit):"surrounding"===t.value?function(t){const{start:e,end:i}=(0,a.je)(t,(0,l.r)(),h.AK.state);return{starting:d.ME(e),ending:d.ME(i)}}(t.unit):function(t){switch(t.value){case"this_week":return{starting:(e=(0,l.r)(),{type:"date",start_date:d.em(Date.now(),d.aN(),e).toFormat(d.Iq)}),ending:B((0,l.r)())};case"the_past_month":return{starting:d.dj((0,l.r)()),ending:d.Lg((0,l.r)())};case"the_past_week":return{starting:d.Oo((0,l.r)()),ending:d.Lg((0,l.r)())};case"the_past_year":return{starting:d.b8((0,l.r)()),ending:d.Lg((0,l.r)())};case"the_next_month":return{starting:d.Lg((0,l.r)()),ending:d.nD((0,l.r)())};case"the_next_week":return{starting:d.Lg((0,l.r)()),ending:d.Kq((0,l.r)())};case"the_next_year":return{starting:d.Lg((0,l.r)()),ending:d.NJ((0,l.r)())};default:(0,p.t1)(t)}var e}(t)}function F(t){let{events:e,onUpdateFilter:i,filter:n}=t;window.__c={n:"RelativePickerComponent"};const o=(0,r.O7)();return(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:o.device.isMobile?"wrap":void 0,marginBottom:12},children:(0,C.jsx)("div",{style:{width:"92%",marginLeft:10,marginRight:10},children:(0,C.jsx)(w.b,{onUpdate:i,filter:n})})})}function O(t,e,i){if("type"in i)return{value:{starting:void 0,ending:void 0}};if(e.error)return e;const n=e.value&&"date"!==e.value.type?d.Id(e.value):e.value;return function(t){if(t.starting&&t.ending){const e=d.OQ.notionDateToLuxon(t.starting);return d.OQ.notionDateToLuxon(t.ending)>=e?{value:t}:{error:f.B.INVALID_RANGE}}return{value:t}}({...i,[t]:n})}function W(t){let{value:e,onUpdate:i,store:n}=t;window.__c={n:"CalendarComponent"};const a=(0,s.Fg)(),d=(0,r.O7)(),l=(0,o.qz)(n,m.Z),{device:p}=d,h=function(t){return{pickerSectionMobile:{background:t.popoverBackground,boxShadow:`0 1px 0 ${t.regularDividerColor}`,marginBottom:1}}}(a),c={...I.pickerSection,...p.isMobile&&I.pickerSectionMobile,...p.isMobile&&h.pickerSectionMobile},g=(0,o.VK)((()=>"type"in e?Z(e):e),[e]);return(0,C.jsx)(S.Z,{style:I.calendarWrapper,children:(0,C.jsxs)("div",{style:c,children:[(0,C.jsx)(k.Z,{value:g,store:l,onUpdate:i,validate:(t,i)=>O(t,i,e),readonly:"type"in e}),"type"in e&&(0,C.jsx)(b.Z,{isSmall:!0,style:{marginLeft:4,marginTop:4},children:(0,C.jsx)(u.FormattedMessage,{id:"collectionFilterMenu.dateRangeFilter.relativeDateRangeFilter.description",defaultMessage:"Filter will update with the current date"})})]})})}},46945:(t,e,i)=>{i.d(e,{Z:()=>v});i(67294);var n=i(83355),r=i(13991),o=i(8848),s=i(53877),a=i(42875),d=i(82990),l=i(28020),p=i(77907),u=i(13854),h=i(85893);const c={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:o.ZP.blueWithAlpha(.15)},active:{backgroundColor:o.ZP.blue,color:o.ZP.white},inactive:{backgroundColor:o.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:d.Z.fontWeight.regular}};class g extends n.Z{constructor(){super(...arguments),this.currentDate=void 0}renderComponent(){const{readonly:t}=this.props,e=this.getDisplayMonth();return(0,h.jsx)(p.LazyDayPicker,{className:"notion-calendar-picker",defaultMonth:e,month:e,numberOfMonths:1,weekStartsOn:l.AK.state,locale:r.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:t=>function(t,e,i,n,r,o,a,d){if(o||d)return;const l=e.getFocus(),p=s.OQ.toPersistedDate(t.valueOf()),h=n(l,{value:p}),c=h.error?h:{value:{[l]:h.value[l]}};r(c),e.setState({...e.state,hovered:void 0}),a&&a.setState({...a.state,hovered:void 0});if(h.error)return;"starting"!==l||i.ending||(e.setState({...e.state,focus:"ending"}),a&&a.setState({...a.state,focus:u.yO.ending}));const g="starting"===l?"ending":"starting";e.setState({...e.state,focus:g}),a&&a.setState({...a.state,focus:u.yO[g]})}(t,this.props.store,this.props.value,this.props.validate,this.props.onUpdate,this.props.disabled,this.props.dateTimeStore,this.props.readonly),onDayMouseEnter:t=>function(t,e,i,n,r,o){const a=e.getFocus(),d=s.OQ.jsDateToLuxon(t);if(n||o)return;if("starting"===a&&i.ending&&!i.starting){s.OQ.notionDateToLuxon(i.ending)>=d&&(e.setState({...e.state,hovered:t}),r&&r.setState({...r.state,hovered:t}))}else if("ending"===a&&i.starting&&!i.ending){s.OQ.notionDateToLuxon(i.starting)<=d&&(e.setState({...e.state,hovered:t}),r&&r.setState({...r.state,hovered:t}))}}(t,this.props.store,this.props.value,this.props.disabled,this.props.dateTimeStore,this.props.readonly),onMonthSelected:t=>function(t,e,i){e.setState({...e.state,displayMonth:s.OQ.jsDateToLuxon(t)}),i&&i.setState({...i.state,displayMonth:s.OQ.jsDateToLuxon(t)})}(t,this.props.store,this.props.dateTimeStore),modifiers:f(this.props.store,this.props.value,this.props.disabled),modifiersStyles:m(this.props.store,this.theme),disabled:!!t||void 0})}getCurrentDate(){if(!this.currentDate){const t=s.Lg((0,a.r)());this.currentDate=s.OQ.notionDateToJsDate(t)}return this.currentDate}getDisplayMonth(){const{value:t,store:e}=this.props;if(e.state.displayMonth)return e.state.displayMonth.toJSDate();if("starting"===e.getFocus()){if(t.starting)return s.OQ.notionDateToJsDate(t.starting);if(t.ending)return s.OQ.notionDateToJsDate(t.ending)}if("ending"===e.getFocus()){if(t.ending)return s.OQ.notionDateToJsDate(t.ending);if(t.starting)return s.OQ.notionDateToJsDate(t.starting)}return this.getCurrentDate()}}g.displayName="DateRangePicker";const v=g;function f(t,e,i){const n=function(t,e,i){if(e)return t=>!0;const n=t=>"ending"===i.getFocus()&&{before:t},r=t=>"starting"===i.getFocus()&&{after:t};if(t.starting&&t.ending){const e=s.OQ.notionDateToJsDate(t.starting),i=s.OQ.notionDateToJsDate(t.ending);return n(e)||r(i)}if(t.starting)return n(s.OQ.notionDateToJsDate(t.starting));if(t.ending)return r(s.OQ.notionDateToJsDate(t.ending));return!1}(e,i,t),{hovered:r}=t.state;if(i)return{disabled:n};if(e.starting&&e.ending){const t=s.OQ.notionDateToJsDate(e.starting),i=s.OQ.notionDateToJsDate(e.ending);return{range:{from:t,to:i},start:t,end:i,disabled:n}}if(e.starting){const t=s.OQ.notionDateToJsDate(e.starting);return{range:r&&{from:t,to:r},start:t,end:r,disabled:n,selected:[t,r]}}if(e.ending){const t=s.OQ.notionDateToJsDate(e.ending);return{range:r&&{from:r,to:t},start:r,end:t,disabled:n,selected:[t,r]}}}function m(t,e){const i=c,n=function(t){return{disabled:{color:t.lightTextColor},today:{color:o.ZP.white}}}(e),r=t.getFocus(),s=i.selectedRange,a={...i.disabled,...n.disabled},d={...i.today,...n.today};return{range:s,start:"starting"===r?i.active:i.inactive,end:"ending"===r?i.active:i.inactive,disabled:a,today:d}}},62045:(t,e,i)=>{i.d(e,{Z:()=>u});i(67294);var n=i(480),r=i(24405),o=i(8848),s=i(42853),a=i(52275),d=i(8982),l=i(63296),p=i(85893);const u=function(t){let{title:e,disabled:i,innerStyle:u,placeholder:h,onClick:c,disableMargins:g,desktopStyle:v}=t;window.__c={n:"QueryMenuDropdownItem"};const f=(0,r.Fg)(),m=(0,n.O7)(),{device:y}=m,x=Boolean(e);if(y.isMobile)return(0,p.jsx)(a.Z,{showExtensionArrow:!i,focused:!1,title:x?(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",...u},children:e}):(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",color:o.ZP.uiGray,...u},children:h}),onClick:c});{const t="dark"===f.mode?f.lightTextColor:f.mediumTextColor;return(0,p.jsx)(d.i,{action:()=>function(t){t&&t()}(c),disabled:i,render:n=>(0,p.jsxs)(l.Z,{...n,hovered:n.focused,isLarge:!0,backgroundColor:f.buttonBackground,style:{marginRight:8,maxWidth:180,padding:"0 8px",...n.disabled&&{opacity:.5},...g&&{marginRight:0,maxWidth:"100%",justifyContent:"space-between"},...v},children:[(0,p.jsx)("div",{style:{display:"flex",minWidth:0,color:x?f.regularTextColor:t,...u},children:x?e:h}),!i&&(0,s.i)({width:10,marginLeft:6,fill:f.lightIconColor})]})})}}},14390:(t,e,i)=>{i.d(e,{b:()=>C});i(67294);var n=i(480),r=i(86628),o=i(24405),s=i(42853),a=i(63143),d=i(9291),l=i(17335),p=i(33929),u=i(87279),h=i(61766),c=i(52275),g=i(31945),v=i(73063),f=i(68894),m=i(78140),y=i(32163),x=i(63296),S=i(53437),b=i(72495),D=i(64369),M=i(62045),k=i(85893);function w(t){window.__c={n:"DateRangePickerButton"};const{humanReadableLabel:e,placeholder:i,outlineButtonStyle:n,buttonWrapperStyle:r,renderAsQueryDropdown:a,events:d,isMobile:l}=t,p=(0,o.yK)((t=>({iconStyle:{...!l&&{height:12,width:12},color:t.mediumIconColor},textStyle:{marginLeft:6,color:t.regularTextColor}})),[l]);return a?(0,k.jsx)(M.Z,{...d,placeholder:i,title:(0,k.jsx)(D.Z,{isMobile:l,children:e}),disableMargins:!0}):(0,k.jsx)("div",{style:r,...d,children:(0,k.jsxs)(x.Z,{isLarge:l,style:n,children:[(0,k.jsx)("div",{style:p.textStyle,children:e}),(0,k.jsx)(v.Z,{disableBackground:!0,icon:s.i,iconStyle:p.iconStyle})]})})}function C(t){window.__c={n:"RelativeDateRangePicker"};const{onUpdate:e,filter:i,renderAsQueryDropdown:s}=t,v=(0,n.Fy)(),x=(0,d.useIntl)(),D=(0,r.qz)(void 0,h.Z),M=(0,r.qz)(void 0,h.Z),C="count"in i,I=(0,o.yK)((t=>({directionButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:70,justifyContent:"space-between",...v.isMobile&&{marginTop:12,width:"100%",paddingLeft:12,marginBottom:6},...!C&&{marginRight:4}},unitButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:90,justifyContent:"space-between",width:"100%",...v.isMobile&&{paddingLeft:12,marginTop:6}},directionButtonWrapperStyle:{...v.isMobile&&{width:"100%"},flexGrow:0},unitButtonWrapperStyle:{...v.isMobile&&{width:"100%"},flexGrow:2},inputStyle:{minWidth:35,height:16},inputOuterStyle:{minWidth:60,height:32},container:{display:"flex",justifyContent:"start",alignItems:"center",flexDirection:v.isMobile?"column":"row",width:"100%"},textWrapper:{marginRight:6,marginLeft:s?16:6}})),[v.isMobile,s,C]);function T(t){return"this"===t?p.default.formatMessage(l.Fc[t]):p.default.formatMessage(l.Sj[t])}function j(t,e){return e&&e>1?p.default.formatMessage(l.D0[t]):p.default.formatMessage(l.Sb[t])}const R=["day","week","month","year"].map((t=>({key:t,render:e=>(0,k.jsx)(c.Z,{...e,title:j(t,C?i.count:void 0),checkState:t===i.unit}),action:n=>{e({...i,unit:t}),D.setState({open:!1})}}))),B=["past","future","this"].map((t=>({key:t,render:e=>(0,k.jsx)(c.Z,{...e,checkState:"surrounding"===i.value?"this"===t:t===i.direction,title:T(t)}),action:n=>{"this"===t&&"custom"===i.value?e({type:"relative",value:"surrounding",unit:i.unit}):"this"!==t&&"surrounding"===i.value?e({type:"relative",value:"custom",count:1,direction:t,unit:i.unit}):"this"!==t&&"custom"===i.value&&e({...i,direction:t}),M.setState({open:!1})}})));return(0,k.jsxs)("div",{style:I.container,children:[(0,k.jsx)(g.ZP,{buttonPopupStore:M,popupType:v.isMobile?S.kQ.SlideUp:S.kQ.Popup,renderOrigin:t=>(0,k.jsx)(w,{events:t,placeholder:x.formatMessage(l.$7.direction),renderAsQueryDropdown:s,isMobile:v.isMobile,outlineButtonStyle:I.directionButtonStyle,buttonWrapperStyle:I.directionButtonWrapperStyle,humanReadableLabel:T("direction"in i?i.direction:"this")}),render:()=>(0,k.jsx)(m.Z,{menuType:v.isMobile?u.og.ActionSheet:u.og.Popup,children:(0,k.jsx)(y.Z,{initialFocus:void 0,type:y.i.Vertical,sections:[{key:"directionOptions",render:t=>(0,k.jsx)(b.Z,{disableMobilePadding:!0,...t}),items:B}]})})}),C&&(0,k.jsx)(f.ZP,{type:"number",style:I.inputStyle,textWrapperStyle:I.textWrapper,inputOuterStyle:I.inputOuterStyle,min:"1",value:i.count.toString(),onChange:t=>{const n=parseInt(t.target.value);!(0,a.hj)(n)||n<1||e({...i,count:n})}}),(0,k.jsx)(g.ZP,{buttonPopupStore:D,popupType:v.isMobile?S.kQ.SlideUp:S.kQ.Popup,renderOrigin:t=>(0,k.jsx)(w,{events:t,placeholder:x.formatMessage(l.$7.unit),renderAsQueryDropdown:s,isMobile:v.isMobile,outlineButtonStyle:I.unitButtonStyle,buttonWrapperStyle:I.unitButtonWrapperStyle,humanReadableLabel:j(i.unit,"count"in i?i.count:void 0)}),render:()=>(0,k.jsx)(m.Z,{menuType:v.isMobile?u.og.ActionSheet:u.og.Popup,children:(0,k.jsx)(y.Z,{initialFocus:void 0,type:y.i.Vertical,sections:[{key:"unitOptions",render:t=>(0,k.jsx)(b.Z,{disableMobilePadding:!0,...t}),items:R}]})})})]})}},47082:(t,e,i)=>{i.d(e,{U:()=>x,Z:()=>b});i(67294);var n=i(83355),r=i(480),o=i(24405),s=i(53465),a=i(72126),d=i(87279),l=i(98742),p=i(34859),u=i(64113),h=i(64921),c=i(37601),g=i(74194),v=i(3386),f=i(53336),m=i(64369),y=i(85893);let x=function(t){return t[t.Select=0]="Select",t[t.Person=1]="Person",t[t.Relation=2]="Relation",t[t.FilterValue=3]="FilterValue",t[t.Share=4]="Share",t[t.Group=5]="Group",t}({});class S extends n.Z{constructor(){super(...arguments),this.storeTypes={store:u.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleContainerClick=()=>{var t,e;this.props.disabled||(this.input.focusInput(),null===(t=(e=this.props).onClick)||void 0===t||t.call(e))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:t}=this.props;return(0,y.jsx)(v.Z,{capture:!t,onLeft:a.yR,onRight:a.yR,onSelectAll:a.yR,onRedo:a.yR,onUndo:a.yR,onToggleBold:a.yR,onToggleItalics:a.yR,onToggleCode:a.yR,onCut:a.yR,onCopy:a.yR,onPaste:a.yR,onKeypress:a.yR,children:(0,y.jsx)(v.Z,{capture:!t&&this.props.value.length>0,onDelete:a.yR,onBackspace:a.yR,children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",gap:this.props.message?4:void 0},children:[this.renderTokenInput(),this.props.message&&(0,y.jsx)(m.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:t,showClearButton:e}=this.props;return t||e?(0,y.jsxs)(f.Z,{type:p.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,y.jsx)("div",{style:{flexShrink:0},children:(0,y.jsx)(w,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,y.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:D(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,y.jsx)(c.Z,{show:this.stores.store.state.focused})]}):(0,y.jsxs)(f.Z,{type:p.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const t=0===this.props.tokens.length;return(0,y.jsx)(g.Z,{disabled:this.props.disabled,format:g.B.Transparent,...(0,l.Z)({onKeyDown:t=>function(t,e,i,n){"Backspace"===t.key&&0===e.length&&i();n&&n(t)}(t,this.props.value,this.props.onRemoveLastToken,this.props.onKeyDown)},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:(e=this.props.format,i=this.environment,n=this.theme,r=this.props.inputFullWidth,o=this.props.inputDivStyle,{flexGrow:1,flexShrink:1,flexBasis:r?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...i.device.isMobile?{margin:"0 8px 8px 0"}:k(n)[e].inputDivDesktopStyle,...o}),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:D(this.props.format)?20:18},size:1,ref:t=>t&&(this.input=t),type:this.props.type,placeholder:t?this.props.placeholder:"",onSubmit:t=>function(t,e,i,n){0===e.length&&i&&i();n&&n(t)}(t,this.props.value,this.props.onEmptySubmit,this.props.onSubmit),onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete});var e,i,n,r,o}getWrapStyle(){var t,e;const{focus:i,format:n}=this.props,{WindowSizeStore:r}=this.environment;return{...this.environment.device.isMobile?{...(o=this.theme,{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${o.regularDividerColor}`,fontSize:16,background:o.popoverBackground}),paddingTop:14,paddingBottom:8,paddingLeft:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==d.og.Popup?r.getSafePaddingLeftCSS(16):16,paddingRight:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==d.og.Popup?r.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...M(this.theme,this.props.disabled),...k(this.theme)[n].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&i&&k(this.theme)[this.props.format].inputDivDesktopFocusStyle};var o}}S.displayName="TokenInputMenuItem",S.contextTypes={...d.mw,...n.w};const b=S;function D(t){return t===x.Group}function M(t,e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":t.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function k(t){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[x.Select]:e,[x.Person]:e,[x.Relation]:e,[x.Group]:e,[x.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:t.inputBoxShadow,background:t.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[x.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function w(t){let{showClearButton:e,right:i,onClearButtonClick:n,tokens:a,value:d}=t;window.__c={n:"RightComponent"};const l=(0,o.Fg)(),p=(0,r.O7)(),{isMobile:u}=p.device;return i?(0,y.jsx)(y.Fragment,{children:i}):e&&(a.length>0||d.length>0)?(0,y.jsx)(h.Z,{onClick:n,style:{flexShrink:0,flexGrow:0,borderRadius:u?24:20,marginTop:2},children:(0,s.X)({width:u?16:14,height:u?16:14,fill:l.lightIconColor})}):null}},67950:(t,e,i)=>{i.d(e,{B:()=>r,Z:()=>s});var n=i(49085);const r={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class o extends n.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const s=o},76150:(t,e,i)=>{i.d(e,{Hv:()=>r,ZP:()=>a,pd:()=>o});var n=i(49085);let r=function(t){return t.StartDate="startDate",t.StartTime="startTime",t.EndDate="endDate",t.EndTime="endTime",t}({}),o=function(t){return t.InvalidDate="Invalid date",t.InvalidTime="Invalid time",t.InvalidRange="Invalid range",t}({});class s extends n.default{getInitialState(){return{focus:r.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const a=s},13854:(t,e,i)=>{i.d(e,{QJ:()=>o,ZP:()=>d,yO:()=>s});var n=i(49085),r=i(76150);const o={[r.Hv.StartDate]:"starting",[r.Hv.StartTime]:"starting",[r.Hv.EndDate]:"ending",[r.Hv.EndTime]:"ending"},s={starting:r.Hv.StartDate,ending:r.Hv.EndDate};class a extends n.default{getInitialState(){return{isOpen:!1,focus:r.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const d=a},41558:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(49085);class r extends n.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const o=r}}]);