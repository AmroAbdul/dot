"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7983],{14694:(e,t,n)=>{n.d(t,{Z:()=>d});n(67294);var a=n(480),r=n(86628),s=n(24405),o=n(39567),i=n(50659),l=n(85893);function c(){window.__c={n:"AliasIcon"};const e=(0,s.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,l.jsx)("div",{children:(0,o.Y)(e.icon)})}function d(e){var t;window.__c={n:"SidebarItem"};const n=(0,a.O7)(),o=n.device.isMobile,d=(0,r.VK)((()=>{var t,a;if(o)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(a=e.style)||void 0===a?void 0:a.paddingLeft:10)}),[n.WindowSizeStore,o,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),u=(0,s.yK)((t=>({wrapper:{...o?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:d,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:27,paddingTop:2,paddingBottom:2,marginTop:1,marginBottom:1,...(0,i.MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:o?28:22,height:o?24:18,marginLeft:-3,marginRight:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:o?26:22,height:o?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!o?"clip":"ellipsis",...e.childrenStyle}})),[o,d,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,l.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:u.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,l.jsx)("div",{style:u.left,children:e.left}),e.icon&&(0,l.jsxs)("div",{style:u.icon,children:[e.icon,e.isAlias&&(0,l.jsx)(c,{})]}),(0,l.jsx)("div",{style:u.children,children:e.children}),e.right&&(0,l.jsx)("div",{style:u.right,children:e.right})]})}},1063:(e,t,n)=>{n.d(t,{X:()=>d});n(67294);var a=n(480),r=n(24405),s=n(9291),o=n(86572),i=n(35057),l=n(42402),c=n(85893);function d(e){window.__c={n:"StartupCouponInlineTextLink"};const t=(0,a.O7)(),n=(0,r.yK)((()=>({couponLink:{fontSize:12}})),[]);return(0,c.jsx)(l.Z,{href:"https://notionup.typeform.com/to/qYXezfBW",external:!0,style:n.couponLink,onClick:()=>{const n=(0,i.zt)();o.j(t,{name:"coupon_typeform_clicked",args:{tier:e.tier,currentTier:n}})},children:(0,c.jsx)("div",{children:(0,c.jsx)(s.FormattedMessage,{id:"startupCouponInlineLink.text",defaultMessage:"Are you a startup?"})})})}},69098:(e,t,n)=>{n.d(t,{j:()=>d,o:()=>a});var a={};n.r(a),n.d(a,{showAsyncModal:()=>p,showAsyncModalComponent:()=>m,testOnly:()=>M});var r=n(67294),s=n(86628),o=n(49085);class i extends o.default{getInitialState(){return{asyncModals:[]}}}const l=new i;var c=n(85893);const d=r.memo((e=>{window.__c={n:"AsyncModalRenderer"};const{store:t=l}=e,n=(0,s.VK)((()=>t.state.asyncModals),[t]);return(0,c.jsx)(c.Fragment,{children:n.map((e=>{const{id:t,internalRenderModal:n,isOpen:a}=e,s=n(a);return(0,c.jsx)(r.Fragment,{children:s},t)}))})}));var u=n(4615);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return new Promise(((n,a)=>{try{g({asyncModal:C({renderModal:e,promiseResolve:n,promiseReject:a,store:t}),store:t})}catch(r){a(r)}}))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;const n=t=>r.createElement(e,t);return p(n,t)}function g(e){const{asyncModal:t,store:n=l}=e;n.update((e=>({asyncModals:[...e.asyncModals,t]})))}function f(e){const{id:t,promiseResolve:n,store:a=l}=e;return e=>{const r=v({id:t,store:a});null!=r&&r.isOpen&&(x({id:t,store:a,update:{isOpen:!1}}),n(e))}}function h(e){const{id:t,promiseResolve:n,store:a=l}=e;return()=>{const e=v({id:t,store:a});null!=e&&e.isOpen&&(x({id:t,store:a,update:{isOpen:!1}}),n())}}function y(e){const{id:t,store:n=l}=e;return()=>{n.update((e=>({asyncModals:e.asyncModals.filter((e=>e.id!==t))})))}}function C(e){const{renderModal:t,promiseResolve:n,promiseReject:a,store:r=l}=e,s=(0,u.ZP)(),o=y({id:s,store:r}),i=h({id:s,promiseResolve:n,store:r}),c=f({id:s,promiseResolve:n,store:r});return{id:s,internalRenderModal:e=>{try{return t({isOpen:e,onClosed:o,onDismiss:i,resolve:c})}catch(n){throw a(n),n}},isOpen:!0}}function v(e){const{id:t,store:n=l}=e;return n.state.asyncModals.find((e=>e.id===t))}function x(e){const{id:t,update:n,store:a=l}=e;a.update((e=>({asyncModals:e.asyncModals.map((e=>e.id!==t?e:{...e,...n}))})))}const M={addAsyncModal:g,createAsyncModal:C,createOnClosed:y,createOnDismiss:h,createResolve:f,getAsyncModal:v,updateAsyncModal:x}},50659:(e,t,n)=>{n.d(t,{G$:()=>r,MF:()=>s,Z3:()=>a});function a(e){let{isMobile:t}=e;return{...!t&&{borderRadius:3}}}function r(e){let{isMobile:t}=e;return t?{}:{...a({isMobile:t}),marginLeft:4,marginRight:4,width:"calc(100% - 8px)"}}function s(){return{paddingLeft:10,paddingRight:10}}},80671:(e,t,n)=>{n.d(t,{Cl:()=>g,Kj:()=>f,jw:()=>h,k2:()=>p,v5:()=>m});n(21703);var a=n(72126),r=n(4615),s=n(19889),o=n(896),i=n(12139),l=n(86572),c=n(80444),d=n(68373),u=n(63423);function p(){u.Z.setState({open:!0,stage:"limit_reached",addOnUpgradeId:(0,r.ZP)(),tax:0})}function m(){u.Z.setState({open:!1})}function g(e){const t=u.Z.state;t.open&&u.Z.setState({...t,stage:"confirm_purchase",coupon:e&&!(0,o.$v)(e)?e:void 0})}function f(){u.Z.setState({open:!0,stage:"cancel_plan",addOnUpgradeId:(0,r.ZP)(),tax:0})}async function h(e){const{environment:t,spaceStore:n,from:r}=e,o=function(){var e;const t=null===(e=c.default.state.currentSpaceStore)||void 0===e?void 0:e.getAdminIds();if(!t||0===t.length)throw new Error("No admins found in the current space");return(0,a.UP)(t)}(),u=n.getName(),p=d.U6.createChildStore(n,{table:s.KJ,id:o});await p.load();const m=p.getEmail();m?l.bf(t,{admin_id:o,admin_email:m,space_name:u,from:r}):i.IE(new Error("Could not get email for admin in sendMemberRequestForAddOn"))}},44041:(e,t,n)=>{n.d(t,{y:()=>x});n(67294);var a=n(47425),r=n(9291),s=n(86572),o=n(47307),i=n(33929),l=n(52533),c=n(80444),d=n(92083),u=n(39343),p=n(87199),m=n(70060),g=n(88893),f=n(35057),h=n(88280),y=n(34583),C=n(64891),v=n(85893);const x=async function(e,t){var n;s.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,f.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,m.XA)(e))return void d.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});if(!t.addOnFeature&&(0,a.QM)(t.for))return;const x=(0,l.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,l.Y2)({environment:e})?(0,v.jsx)(r.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,v.jsx)(r.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void o.showErrorMessage(t)}if(!x)return}const M=c.default.state.currentSpaceStore;if(!M)return;if(!M.canAdmin())return;await y.bi(e);const b=h.subscriptionDataStoreInstance.state;if(!b)return;if("unsubscribed_admin"!==b.type&&"subscribed_admin"!==b.type)return void(t.dontOpenPlansOnCancel||d.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(g.ri(b))return void o.showErrorMessage(i.default.formatMessage(p.k.paymentMethodUnverified));if(g.Q6(b)){const e=(0,v.jsx)(r.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void o.showErrorMessage(e)}if(x)return void(e.mobileNative&&M.id&&e.mobileNative.openUpgradeModal(M.id));if("revenueCat"===(null===(n=b.customerData)||void 0===n?void 0:n.activeSubscriptionPlatform)){const e=(0,v.jsx)(r.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void o.showErrorMessage(e)}const j=g.XX(b);if(t.addOnFeature&&(0,u.Fk)(j)){const e=(0,v.jsx)(r.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});o.showErrorMessage(e)}else{if(j&&g.MM(b))return t.addOnFeature?void C.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:j.interval,pageSection:t.pageSection}):void C.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:j.interval,pageSection:t.pageSection});{const n=(0,m.px)(e,t.for)?"ai_fifty_percent":void 0;y.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:n,isTrial:t.isTrial})}}}},91493:(e,t,n)=>{n.d(t,{G:()=>i});n(67294);var a=n(9291),r=n(51133),s=n(27533),o=n(85893);function i(e){window.__c={n:"OrderSummaryAccountBalanceItem"};const t=(0,r.hr)(),{accountBalance:n}=e;return 0===n.amount?null:(0,o.jsxs)("div",{style:t.itemContainer,children:[(0,o.jsx)("div",{style:t.captionContainer,children:(0,o.jsx)("span",{style:t.name,children:(0,o.jsx)(a.FormattedMessage,{id:"subscriptionHelpers.lineItems.balance",defaultMessage:"Balance"})})}),(0,o.jsx)("span",{style:t.credit,children:(0,o.jsx)(s.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},59148:(e,t,n)=>{n.d(t,{T:()=>i});n(67294);var a=n(9291),r=n(51133),s=n(27533),o=n(85893);function i(e){window.__c={n:"OrderSummaryDiscountItem"};const t=(0,r.hr)(),{discount:n,promo:i}=e;return(0,o.jsxs)("div",{style:t.itemContainer,children:[(0,o.jsx)("div",{style:t.captionContainer,children:(0,o.jsx)("span",{style:t.name,children:(0,o.jsx)(a.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo",defaultMessage:"Coupon"})})}),i.duration_in_months?(0,o.jsx)("span",{style:t.caption,children:(0,o.jsx)(a.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo.subtitle",defaultMessage:"Valid for {durationInMonths} months",values:{durationInMonths:i.duration_in_months}})}):void 0,(0,o.jsx)("span",{style:t.credit,children:(0,o.jsx)(s.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},42329:(e,t,n)=>{n.d(t,{r:()=>i});n(67294);var a=n(9291),r=n(51133),s=n(27533),o=n(85893);function i(e){window.__c={n:"OrderSummarySubtotalItem"};const t=(0,r.hr)(),{subtotal:n}=e;return(0,o.jsxs)("div",{style:t.itemContainer,children:[(0,o.jsx)("div",{style:t.captionContainer,children:(0,o.jsx)("span",{style:t.name,children:(0,o.jsx)(a.FormattedMessage,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"})})}),(0,o.jsx)("span",{style:t.price,children:(0,o.jsx)(s.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},92041:(e,t,n)=>{n.d(t,{u:()=>l});n(67294);var a=n(9291),r=n(68785),s=n(51133),o=n(27533),i=n(85893);function l(e){window.__c={n:"OrderSummaryTaxItem"};const t=(0,s.hr)(),{tax:n,calculatingTax:l}=e;return(0,i.jsxs)("div",{style:t.itemContainer,children:[(0,i.jsx)("div",{style:t.captionContainer,children:(0,i.jsx)("span",{style:t.name,children:(0,i.jsx)(a.FormattedMessage,{id:"subscriptionHelpers.lineItems.taxIfApplicable.title",defaultMessage:"Tax if applicable"})})}),(0,i.jsx)("span",{style:t.price,children:l?(0,i.jsx)(r.Z,{}):0===n.amount?"â€”":(0,i.jsx)(o.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},3428:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ot});var a=n(86664),r=n(67294),s=n(480),o=n(86628),i=n(3791),l=n(9291),c=n(29497),d=n(7184),u=n(43250),p=n(38755),m=n(80444),g=n(88632),f=n(27242),h=n(30120),y=n(68626),C=n(72126),v=n(90850),x=n(9182),M=n(86572),b=n(47307),j=n(92625),w=n(92083),I=n(5682),S=n(70060),Z=n(58333),V=n(95014),T=n(88893),_=n(33493),O=n(22616),F=n(34583),k=n(85893);const A=(0,l.defineMessages)({cancelFailedSubscription:{id:"subscription.upgrade.cancel_failed_subscription",defaultMessage:"Cancelling subscription..."}});async function L(e){const{environment:t,state:n,data:a,stripe:r,elements:s,intl:o,useTestClock:i}=e;if(!s||!r)return void y.log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});if((0,S.bP)(t)&&!n.temporaryAddress.name)return void f.Z.setValidationErrorState("name",{type:"required",message:o.formatMessage({id:"spaceSubscriptionUpgradeModal.name.required.error",defaultMessage:"Your name is required."})});let c=n.paymentData;if(!c){var d,u;const{error:e}=await s.submit();if(e)return M.VQ(t,{error:"could not submit form",error_type:"payment_method",modal_id:n.sessionId}),void f.Z.setState({...n,error:o.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const a=await r.createPaymentMethod({elements:s});if(a.error)return M.VQ(t,{error:a.error.message,error_type:"payment_method",modal_id:n.sessionId}),void f.Z.setState({...n,error:V.translateStripeError(t,o,a.error)});if(!a.paymentMethod)return M.VQ(t,{error:"could not create token",error_type:"payment_method",modal_id:n.sessionId}),void f.Z.setState({...n,error:o.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});c={type:"paymentMethodId",value:a.paymentMethod.id},f.Z.setState({...n,paymentData:c,temporaryAddress:{...n.temporaryAddress,zipCode:(null===(d=a.paymentMethod.billing_details.address)||void 0===d?void 0:d.postal_code)??"",country:(null===(u=a.paymentMethod.billing_details.address)||void 0===u?void 0:u.country)??""}})}await async function(e){const{environment:t,data:n,paymentData:a,stripe:r,useTestClock:s}=e,o=m.default.state.currentSpaceStore,i=f.Z.state;if(!i.open||!o)return;const c=await O.aQ({environment:t,spaceId:o.id}),d=(0,I.P)(c,n),u=(0,x.Lg)(d),p=i.isTrial?h.ou.now().plus({days:14}):void 0,{selectedCurrencyCode:g="USD"}=_.Z.state,y=T.GD(i.temporaryBillingInterval),S=(0,C.oA)([i.subscriptionTier,i.addOnFeature]).filter((e=>"free"!==e));let V={...u,trialEnd:p};S.forEach((e=>V=(0,Z.AI)(c,V,{product:e,interval:y,currency:g})));const L=i.appliedPromo,B=i.temporaryAddress,P=i.sessionId,E=T.Md(i,n);try{const e=await F.Mg({environment:t,spaceStore:o,desiredState:V,paymentData:a,billingEmail:E,coupon:L&&"coupon"===L.source?L.code:void 0,customerName:B.name,businessName:B.businessName,addressLine1:B.addressLine1,addressCity:B.city,addressZip:B.zipCode,addressState:B.state,addressCountry:B.country,vatId:i.vatApplicable?i.temporaryVatCode:void 0,promoCodeId:L&&"promo_code"===L.source?L.code:void 0,from:"subscription_upgrade_modal",useTestClock:s,sessionId:i.sessionId,inAppOffer:"ai"===i.addOnFeature?i.coupon:void 0});await F.KD({paymentIntentData:e,stripe:r,onSuccess:()=>{M.fZ(t,{payment_intent_id:e.paymentIntentId,modal_id:P})},onFailure:()=>{!function(e){const{updateSubscriptionResponse:t,environment:n,modalId:a,spaceStore:r}=e,{subscriptionStatus:s,paymentIntentId:o}=t;b.showDialog({message:"trialing"===s?(0,k.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed.trial",defaultMessage:"Please provide an alternate payment method to complete your upgrade."}):(0,k.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."}),showCancel:!1,keepFocus:!1,disableBackgroundDismiss:!0,items:[{label:(0,k.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed.pay_invoice",defaultMessage:"Complete payment"}),onAccept:()=>{M.Aq(n,{payment_intent_id:o,modal_id:a}),window.open(t.invoiceUrl,"_blank")},color:"red"},{label:(0,k.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed.cancel",defaultMessage:"Cancel upgrade"}),onAccept:async()=>{M.cY(n,{payment_intent_id:t.paymentIntentId,modal_id:a}),j.j({message:A.cancelFailedSubscription}),await F.EO({environment:n,spaceStore:r,planType:r.getPlanType()??"personal",from:"subscription_upgrade_modal-failed_payment"}),j.x()}}]})}({updateSubscriptionResponse:e,environment:t,modalId:P,spaceStore:o})}}),L&&(0,v.$r)(t.currentUser.id),function(e){const{environment:t,modalId:n}=e;f.Z.reset(),M.LY(t,{modal_id:n})}({environment:t,modalId:P}),w.Z.setState({...w.Z.state,currentTab:"billing",defaultSubtab:void 0})}catch{M.cY(t,{modal_id:P})}}({environment:t,data:a,paymentData:c,stripe:r,useTestClock:i})}async function B(e){const{environment:t,state:n,data:a,stripe:r,elements:s,intl:o,useTestClock:i}=e;M.PN(t,{modal_id:n.sessionId}),f.Z.update((e=>({...e,payButtonState:"disabled"}))),await L({environment:t,state:n,data:a,stripe:r,elements:s,intl:o,useTestClock:i});const l=f.Z.state;l.open&&f.Z.setState({...l,payButtonState:"enabled"})}var P=n(34307),E=n(51133),D=n(97710),H=n(88280),U=n(48122),R=n(34310),N=(n(57658),n(18174)),z=n(89024),W=n(40469),K=n(2924),X=n(20792),q=n(96130),Y=n(75849),G=n(24405),Q=n(11751),$=n(97880),J=n(9826),ee=n(56896),te=n(27533),ne=n(87131);const ae=(0,l.defineMessages)({billingOptions:{id:"checkout.orderOptions.billingOptions",defaultMessage:"Billing options"},payMonthly:{id:"checkout.orderOptions.payMonthly",defaultMessage:"Pay monthly"},payAnnually:{id:"checkout.orderOptions.payAnnually",defaultMessage:"Pay annually"},savePercent:{id:"checkout.orderOptions.savePercent",defaultMessage:"Save {percent}%"},addOns:{id:"checkout.orderOptions.addOns",defaultMessage:"Add ons"},notionAI:{id:"checkout.orderOptions.notionAI",defaultMessage:"Notion AI"},pricePerMonth:{id:"checkout.orderOptions.pricePerMonth",defaultMessage:"{price} / month / member"}}),re=(0,l.defineMessages)({pricePerInterval:{id:"checkout.orderSummary.pricePerInterval",defaultMessage:"{price} / {interval, select, month {month} year {year} other {period}}"},totalForToday:{id:"checkout.orderSummary.totalForToday",defaultMessage:"Total for today"},couponAmount:{id:"checkout.orderSummary.couponAmount",defaultMessage:"{money} coupon"},balanceAmount:{id:"checkout.orderSummary.balanceAmount",defaultMessage:"{money} balance"},amountOff:{id:"checkout.orderSummary.amountOff",defaultMessage:"{money} off"},details:{id:"checkout.orderSummary.details",defaultMessage:"Details"},subtotal:{id:"checkout.orderSummary.subtotal",defaultMessage:"Subtotal"},taxIfApplicable:{id:"checkout.orderSummary.taxIfApplicable",defaultMessage:"Tax if applicable"},membersInWorkspace:{id:"checkout.orderSummary.membersInWorkspace",defaultMessage:"Members in your workspace"},perPricePerMonth:{id:"checkout.orderSummary.perPricePerMonth",defaultMessage:"x {price} / month / member"},balance:{id:"checkout.orderSummary.balance",defaultMessage:"Balance"},coupon:{id:"checkout.orderSummary.coupon",defaultMessage:"Coupon"}});function se(e){window.__c={n:"AddOnOptions"};const{addOnFeature:t,asyncPrice:n,onChange:a}=e,s=(0,G.yK)((()=>({aiIcon:{width:13,height:12}})),[]),o=(0,l.useIntl)(),i=(0,ee.F)({asyncPrice:n}),c=(0,r.useMemo)((()=>[{value:"ai",label:(0,k.jsxs)(z.jX,{direction:"row",align:"center-left",gap:2,children:[o.formatMessage(ae.notionAI),(0,Q.t)(s.aiIcon)]}),description:o.formatMessage(ae.pricePerMonth,{price:i?(0,k.jsx)(te.W,{cost:i,trailingZeroDisplay:"stripIfInteger"}):null}),isSelected:"ai"===t}]),[t,i,o,s]);return(0,k.jsx)(ne.O,{title:o.formatMessage(ae.addOns),children:c.map((e=>(0,k.jsx)(J.n,{name:"add-ons",selectType:"checkbox",onChange:e=>{return t=e.target.value,["ai"].includes(t)?a(e.target.checked?e.target.value:void 0):(0,$.t1)(e.target.value);var t},...e},e.value)))})}var oe=n(7124),ie=n(38461);function le(e){window.__c={n:"BillingIntervalOptions"};const{selectedBillingInterval:t,asyncMonthlyPrice:n,asyncYearlyPrice:a,onChange:s}=e,i=(0,G.yK)((e=>({discountText:{color:e.accentColors.green[500]}})),[]),c=(0,l.useIntl)(),d=(0,ee.F)({asyncPrice:n}),u=(0,ee.F)({asyncPrice:a}),p=(0,r.useMemo)((()=>[{value:"month",label:c.formatMessage(ae.payMonthly),description:c.formatMessage(ae.pricePerMonth,{price:d?(0,k.jsx)(te.W,{cost:d,trailingZeroDisplay:"stripIfInteger"}):null}),isSelected:"month"===t},{value:"year",label:c.formatMessage(ae.payAnnually),description:c.formatMessage(ae.pricePerMonth,{price:u?(0,k.jsx)(te.W,{cost:u,trailingZeroDisplay:"stripIfInteger"}):null}),isSelected:"year"===t,additionalContent:(0,k.jsx)(oe.q,{styleName:"Caption-12px/Medium",style:i.discountText,children:c.formatMessage(ae.savePercent,{percent:20})})}]),[t,d,u,c,i]),{availableCurrencyCodes:m,selectedCurrencyCode:g}=(0,o.VK)((()=>({availableCurrencyCodes:_.Z.availableCurrencyCodes,selectedCurrencyCode:_.Z.selectedCurrencyCode})),[]);return(0,k.jsx)(ne.O,{title:(0,k.jsxs)(z.jX,{direction:"row",children:[c.formatMessage(ae.billingOptions),(0,k.jsx)(z.jX,{align:"top-right",children:(0,k.jsx)(ie.V,{availableCurrencyCodes:m,from:"upgrade_modal",onSelectCurrency:O.yD,selectedCurrencyCode:g})})]}),children:p.map((e=>(0,k.jsx)(J.n,{name:"billing-options",selectType:"radio",onChange:e=>{return t=e.target.value,["month","year"].includes(t)?s(e.target.value):(0,$.t1)(e.target.value);var t},...e},e.value)))})}var ce=n(41219),de=n(47425),ue=n(44342),pe=(n(95477),n(73796)),me=n(64717);function ge(e){window.__c={n:"CheckoutControls"};const{state:t,products:n,onClickUpgrade:a}=e,{isTrial:i,subscriptionTier:c}=t,d=(0,G.yK)((()=>({contactSalesIcon:{width:19,height:17,marginRight:4}})),[]),u=(0,l.useIntl)(),p=(0,s.O7)(),g=!i&&(0,de.Rs)(c),f=i?(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeButton.startTrial",defaultMessage:"Start {subscriptionTier, select, business {Business} other {Plus}} Trial",values:{subscriptionTier:c}}):(0,X.C)(c),h=(0,o.VK)((()=>{var e;return void 0!==(null===(e=(0,T.aS)(H.subscriptionDataStoreInstance.state))||void 0===e?void 0:e.customerId)}),[]),y=(0,o.VK)((()=>(0,S.G2)()&&!1),[h]),C=(0,o.VK)((()=>{const{currentUserStore:e}=m.default.state;return null!=e&&e.isDefined()?null==e?void 0:e.getModel():void 0}),[]),v=r.useCallback((()=>{pe.Z.setState({open:!0,email:C&&C.getEmail(),name:C&&C.getDisplayName(u),question:T.m_(t.subscriptionTier)}),M.Zb(p)}),[p,u,t.subscriptionTier,C]),x=[{buttonType:"primary",isDisabled:"disabled"===t.payButtonState,label:f,onClick:()=>a({useTestClock:!1})}];return y&&x.push({buttonType:"primary",isDisabled:"disabled"===t.payButtonState,label:"ðŸš§ Upgrade with Test Clock ðŸš§",onClick:()=>a({useTestClock:!0})}),(0,k.jsx)(ue.a6,{primaryButtons:x,secondaryButtons:g?[{buttonType:"outline",label:(0,k.jsxs)(k.Fragment,{children:[(0,ce.L)(d.contactSalesIcon),(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"})]}),onClick:v}]:void 0,caption:(0,k.jsx)(oe.q,{styleName:"iOS/Caption-12px/Regular",colorName:"secondary",style:{textAlign:"left"},children:(0,k.jsx)(me.E,{products:n,subscriptionTier:c,isTrial:i})}),layout:"vertical",sectionGap:16})}var fe=n(63594),he=n(76088);function ye(e){window.__c={n:"CheckoutDescription"};const{product:t,isTrial:n}=e,a=(0,s.O7)(),r=(0,o.VK)((()=>{const e=m.default.state.currentSpaceStore;if(e)return(0,p.rn)(a,e)}),[a]),i=(0,o.VK)((()=>!fe.Z.state&&"ai"===t),[t]),c=(0,he.P)();if(!r)return null;switch(t){case"ai":return(0,k.jsx)(k.Fragment,{children:i?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.FormattedMessage,{id:"addOnUpgrade.confirmation.description.outOfFreeAiResponses",defaultMessage:"Your workspace has used all of its free AI responses."})}):null});case"plus":return n?(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.trial",defaultMessage:"Collaborate with unlimited people with full access to features such as file uploads and automations. {isMmOrEnt, select, true {30} other {14}} days for free. Cancel the trial stress-free at any time.",values:{isMmOrEnt:c}}):(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.v2.plus",defaultMessage:"Do more with unlimited blocks, files, automations & integrations."});case"business":return n?(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.trial",defaultMessage:"Collaborate with unlimited people with full access to features such as file uploads and automations. {isMmOrEnt, select, true {30} other {14}} days for free. Cancel the trial stress-free at any time.",values:{isMmOrEnt:c}}):(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.v2.business",defaultMessage:"For companies using Notion to connect several teams & tools."});case"enterprise":return(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.v2.enterprise",defaultMessage:"Advanced controls & support to run your entire organization."})}}function Ce(e){const{title:t,subtitle:n,image:a}=e;return(0,k.jsxs)(z.jX,{gap:8,children:[a,(0,k.jsxs)(z.jX,{gap:4,children:[(0,k.jsx)(oe.q,{styleName:"Title-22px/Bold",children:t}),(0,k.jsx)(oe.q,{styleName:"Heading-17px/Regular",colorName:"secondary",children:n})]})]})}var ve=n(1853),xe=n(81477);function Me(e){let{header:t,paymentContent:n,orderOptions:a,footer:r,showDismissButton:i,isTrial:l}=e;window.__c={n:"CheckoutModalLayout"};const c=(0,s.O7)(),{isMobile:d}=(0,s.Fy)(),u=(0,o.VK)((()=>(0,xe.Z)(c)),[c])||!a&&!l,p=function(e){return(0,G.yK)((()=>({wrapper:{overflowY:"auto",...!e&&{minWidth:484}},mobile:{display:"grid",gridTemplateRows:"1fr auto",overflow:"hidden auto"},dismiss:{top:16,right:16}})),[e])}(d),m=(0,k.jsxs)(z.jX,{direction:u?"column":"row",gap:u?20:32,style:{...d&&p.mobile},children:[(0,k.jsx)(z.jX,{direction:"column",gap:u?20:28,width:u?"fill":420,children:n}),(0,k.jsxs)(z.jX,{direction:"column",gap:u?20:28,width:u?"fill":310,children:[a,r]})]});return(0,k.jsxs)(z.jX,{direction:"column",gap:u?28:36,padding:32,width:"hug",height:"hug",style:p.wrapper,children:[t,m,i&&(0,k.jsx)(ve.U4,{style:p.dismiss})]})}var be=n(65820),je=n(62073),we=n(16880),Ie=n(90403),Se=n(61519),Ze=n(68785),Ve=n(85740),Te=n(33941);function _e(e){window.__c={n:"CheckoutOrderSummary"};const{state:t,data:n,promo:a}=e,{coupon:i}=t,l=(0,s.O7)(),[c,d]=r.useState(!1),u=T.GD(t.temporaryBillingInterval),p=E.Zr(a),m=E.Lp(t),g=T.su(n),[f,h]=(0,o.VK)((()=>{const e=m.map((e=>_.Z.getPrice(l,(t=>t.product===e&&t.billingInterval===u))));let t;return"year"===u&&(t=m.map((e=>_.Z.getPrice(l,(t=>t.product===e&&"month"===t.billingInterval))))),[e,t]}),[u,l,m]);if(f.some((e=>!e.isLoaded)))return(0,k.jsx)(Ze.Z,{});const y=f.map((e=>e.result)).filter(Boolean),C=null==h?void 0:h.map((e=>e.result)).filter(Boolean),v=y[0].unitAmount.currencyValue,x=E.cv({prices:y,quantity:g,coupon:i}),M=C?E.cv({prices:C,quantity:g,coupon:i}).withMultipliedAmount(12):void 0,b=M?M.minus(x):void 0,j=E.VT({calculatingTax:t.calculatingTax,taxAmount:t.taxAmount,currencyValue:v}),w=E.rF({prices:y,quantity:g,promo:p}),I=E.Et(n,v),S=x.plus(j).minus(w).minus(I),Z=S.amount<0?S.withMultipliedAmount(0):S;return(0,k.jsxs)(z.jX,{gap:8,children:[(0,k.jsx)(Oe,{total:Z,billingInterval:u,handleToggleExpanded:()=>d((e=>!e)),isExpanded:c,discount:w,accountBalance:I,annualPriceDifference:b}),(0,k.jsx)(be.M,{initial:!1,children:c&&(0,k.jsx)(je.E.div,{style:{overflow:"hidden"},initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{height:"auto"},collapsed:{height:0}},transition:{duration:.2},children:(0,k.jsxs)(z.jX,{gap:12,children:[(0,k.jsx)(ke,{prices:y,memberCount:g}),(0,k.jsx)(Se.Z,{size:1}),(0,k.jsx)(Fe,{subtotal:x,tax:j,discount:w,accountBalance:I,promo:p,coupon:t.coupon,isCalculatingTax:t.calculatingTax,subtotalMonthly:M})]})},"details")})]})}function Oe(e){window.__c={n:"OrderTotal"};const{total:t,billingInterval:n,handleToggleExpanded:a,isExpanded:r,discount:s,accountBalance:o,annualPriceDifference:i}=e,c=(0,l.useIntl)(),d=Pe(),u=0!==s.amount,p=0!==o.amount,m=u||p?(0,k.jsx)(te.W,{cost:t.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"}):c.formatMessage(re.pricePerInterval,{price:(0,k.jsx)(te.W,{cost:t.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"}),interval:n});return(0,k.jsxs)(k.Fragment,{children:[(u||p)&&(0,k.jsx)(oe.q,{styleName:"Caption-12px/Semibold",colorName:"secondary",children:c.formatMessage(re.totalForToday)}),(0,k.jsxs)(z.jX,{direction:"row",gap:"auto",align:"center",children:[(0,k.jsxs)(z.jX,{direction:"row",align:"center-left",children:[(0,k.jsx)(oe.q,{styleName:"Heading-17px/Semibold",children:m}),i&&(0,k.jsx)(Ie.Z,{content:c.formatMessage(re.amountOff,{money:(0,k.jsx)(te.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})}),style:d.discountBadge}),p&&(0,k.jsx)(Ie.Z,{content:c.formatMessage(re.balanceAmount,{money:(0,k.jsx)(te.W,{cost:o.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})}),style:d.discountBadge}),u&&(0,k.jsx)(Ie.Z,{content:c.formatMessage(re.couponAmount,{money:(0,k.jsx)(te.W,{cost:s.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})}),style:d.discountBadge})]}),(0,k.jsx)(Ve.Z,{onClick:a,children:(0,k.jsxs)(z.jX,{direction:"row",gap:4,align:"center",children:[(0,k.jsx)(oe.q,{styleName:"Body-14px/Regular",colorName:"primary",children:c.formatMessage(re.details)}),(0,k.jsx)(je.E.div,{animate:{rotate:r?180:0},transition:{duration:.2,ease:"linear"},children:(0,we.R)(d.detailsIcon)})]})})]})]})}function Fe(e){window.__c={n:"OrderBreakdown"};const{subtotal:t,tax:n,isCalculatingTax:a,accountBalance:r,promo:s,coupon:o,discount:i,subtotalMonthly:c}=e,d=(0,l.useIntl)(),u=Pe(),p=0===n.amount?"â€”":(0,k.jsx)(te.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"}),m=0!==i.amount&&s&&!o;return(0,k.jsxs)(z.jX,{gap:4,children:[(0,k.jsx)(Le,{itemName:d.formatMessage(re.subtotal),value:(0,k.jsxs)(k.Fragment,{children:[c&&(0,k.jsx)("span",{style:u.strikethrough,children:(0,k.jsx)(te.W,{cost:c.toMoneyValue(),trailingZeroDisplay:"auto"})}),(0,k.jsx)(te.W,{cost:t.toMoneyValue(),trailingZeroDisplay:"auto"})]})}),(0,k.jsx)(Le,{itemName:d.formatMessage(re.taxIfApplicable),value:a?(0,k.jsx)(Ze.Z,{}):p}),m&&(0,k.jsx)(Le,{itemName:d.formatMessage(re.coupon),value:(0,k.jsxs)("span",{style:u.discountText,children:["-",(0,k.jsx)(te.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"auto"})]})}),0!==r.amount&&(0,k.jsx)(Le,{itemName:d.formatMessage(re.balance),value:(0,k.jsxs)("span",{style:u.discountText,children:["-",(0,k.jsx)(te.W,{cost:r.toMoneyValue(),trailingZeroDisplay:"auto"})]})})]})}function ke(e){window.__c={n:"OrderItems"};const{prices:t,memberCount:n}=e,a=(0,l.useIntl)(),r=t.length>1;return(0,k.jsx)(z.jX,{gap:16,children:t.map((e=>{const t=(0,k.jsx)(te.W,{cost:e.getMonthlyUnitCost().toMoneyValue(),trailingZeroDisplay:"stripIfInteger"}),s=(0,k.jsx)(te.W,{cost:e.getMonthlyCost({quantity:n}).toMoneyValue(),trailingZeroDisplay:"auto"});return(0,k.jsxs)(Ae,{title:r?Be(e,a):void 0,children:[(0,k.jsx)(Le,{itemName:a.formatMessage(re.membersInWorkspace),value:n}),(0,k.jsx)(Le,{itemName:a.formatMessage(re.perPricePerMonth,{price:t}),value:e&&s})]},e.product)}))})}function Ae(e){const{title:t,children:n}=e;return(0,k.jsxs)(z.jX,{gap:4,children:[t&&(0,k.jsx)(oe.q,{styleName:"Caption-12px/Semibold",colorName:"secondary",children:t}),n]})}function Le(e){const{itemName:t,value:n}=e;return(0,k.jsxs)(z.jX,{direction:"row",gap:"auto",children:[(0,k.jsx)(oe.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:t}),(0,k.jsx)(oe.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:n})]})}function Be(e,t){switch(e.product){case"ai":return t.formatMessage(Te.D.ai);case"personal":return t.formatMessage(Te.D.personal);case"plus":return t.formatMessage(Te.D.plus);case"business":return t.formatMessage(Te.D.business);case"enterprise":return t.formatMessage(Te.D.enterprise);case"free":case"student":default:(0,$.t1)(e.product)}}function Pe(){return(0,G.yK)((e=>({detailsIcon:{width:12,color:e.icon.secondary},discountText:{color:e.accentColors.green[500]},discountBadge:{background:"light"===e.mode?e.accentColors.green[50]:e.accentColors.green[200],color:"light"===e.mode?e.accentColors.green[500]:e.accentColors.green[600]},strikethrough:{textDecorationLine:"line-through",marginRight:4}})),[])}var Ee=n(23061),De=n(16184);function He(){window.__c={n:"PaymentFieldsV2"};const e=(0,o.VK)((()=>{const e=f.Z.state;if(e.open)return e.sessionId}),[]),t=(0,s.O7)(),n=(0,G.yK)((e=>({lockIcon:{width:12,color:e.icon.tertiary}})),[]),r={defaultValues:{billingDetails:(0,o.VK)((()=>{const e=m.default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])}};return(0,k.jsx)(ne.O,{title:(0,k.jsxs)(z.jX,{direction:"row",gap:"auto",align:"center",children:[(0,k.jsx)(l.FormattedMessage,{id:"checkoutPaymentField.paymentDetails.title",defaultMessage:"Payment details"}),(0,De.Q)(n.lockIcon)]}),children:(0,k.jsx)(a.PaymentElement,{options:r,onChange:n=>{M.Dc(t,{event:n,modal_id:e}),f.Z.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))}})})}function Ue(){window.__c={n:"CheckoutPaymentV2"};const{temporaryVATCode:e,vatApplicable:t}=(0,o.VK)((()=>{const{state:e}=f.Z;return e.open?{temporaryVATCode:e.temporaryVatCode,vatApplicable:e.vatApplicable}:{temporaryVATCode:"",vatApplicable:!1}}),[]),n=function(){const e=(0,s.O7)(),t=(0,r.useMemo)((()=>(0,C.Ds)((async()=>{await W.W_(e)}),3e3)),[e]);return(0,r.useCallback)((async e=>{f.Z.update((t=>({...t,temporaryVatCode:e}))),await t()}),[t])}();return(0,k.jsxs)("div",{children:[(0,k.jsx)(He,{}),(0,k.jsx)(Ee.n,{onChange:n,temporaryVatCode:e,vatApplicable:t})]})}function Re(e){window.__c={n:"CheckoutTitle"};const{product:t,isTrial:n}=e,a=(0,G.yK)((e=>({aiIcon:{width:18,height:18,fill:e.aiCheckoutColor},aiColor:{color:e.aiCheckoutColor}})),[]);switch(t){case"ai":return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(z.jX,{direction:"row",children:[(0,k.jsx)(oe.q,{styleName:"Title-Large-26px/Bold",children:(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.ai.title",defaultMessage:"Get unlimited NotionÂ "})}),(0,k.jsx)(oe.q,{styleName:"Title-Large-26px/Bold",children:(0,k.jsx)("div",{style:a.aiColor,children:(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.ai",defaultMessage:"AI"})})}),(0,Q.t)(a.aiIcon)]})});case"plus":return n?(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.plusTrial",defaultMessage:"Try the Plus plan for free"}):(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.plus",defaultMessage:"Upgrade to Plus"});case"business":return n?(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.businessTrial",defaultMessage:"Try the Business plan for free"}):(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlan",defaultMessage:"Upgrade to Business"});case"enterprise":return(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.enterprise",defaultMessage:"Upgrade to Enterprise"});default:(0,$.t1)(t)}}function Ne(e){window.__c={n:"ModalContentV2"};const{state:t,data:n,spaceStore:c}=e,d=(0,s.O7)(),u=(0,l.useIntl)(),m=(0,a.useStripe)(),h=(0,a.useElements)(),y=(0,o.VK)((()=>g.Z.state.online),[]),[C,v,x,b]=(0,o.VK)((()=>{var e;const n=(0,N.KE)(t.subscriptionTier),a=[n],r=(null===(e=H.subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[];return(0,p.CV)(c)||(0,i.de)(r)||a.push("ai"),[t.temporaryBillingInterval,t.addOnFeature,n,a]}),[t,c]);r.useEffect((()=>{W.W_(d)}),[d,C,v]);const j={month:(0,q.O)({billingInterval:"month",priceStore:_.Z,products:b}),year:(0,q.O)({billingInterval:"year",priceStore:_.Z,products:b})},w=j[C??"month"].ai;if(!t.open)return null;if(!y)return(0,k.jsx)(D.L,{});const I=E.Lp(t),S=!t.onlyShowAddOn&&!t.isTrial,Z=(0,X.u)(I);return Z?(0,k.jsx)(Me,{isTrial:Boolean(t.isTrial),showDismissButton:!0,header:(0,k.jsx)("div",{children:(0,k.jsx)(Ce,{title:(0,k.jsx)(Re,{product:Z,isTrial:Boolean(t.isTrial)}),subtitle:(0,k.jsx)(ye,{product:Z,isTrial:Boolean(t.isTrial)}),image:"ai"!==Z?(0,k.jsx)(Y.q,{product:Z}):null})}),paymentContent:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(K.g,{title:(0,k.jsx)(l.FormattedMessage,{id:"subscriptionUpdateModal.billedTo",defaultMessage:"Billed to"})}),(0,k.jsx)(Ue,{})]}),orderOptions:S?(0,k.jsxs)(z.jX,{gap:20,children:[(0,k.jsx)(le,{selectedBillingInterval:C,asyncMonthlyPrice:j.month[x],asyncYearlyPrice:j.year[x],onChange:e=>function(e,t,n){M.FR(t,{billingInterval:e,modal_id:n}),f.Z.update((t=>({...t,temporaryBillingInterval:e})))}(e,d,t.sessionId)}),b.includes("ai")?(0,k.jsx)(se,{addOnFeature:v,asyncPrice:w,onChange:e=>function(e,t,n){M.qz(t,{addOnFeatures:e?[e]:void 0,modal_id:n}),f.Z.update((t=>({...t,addOnFeature:e})))}(e,d,t.sessionId)}):null]}):null,footer:(0,k.jsxs)(z.jX,{gap:16,children:[(0,k.jsx)(_e,{state:t,data:n,promo:t.appliedPromo}),(0,k.jsx)(ge,{state:t,products:I,onClickUpgrade:e=>B({environment:d,intl:u,state:t,stripe:m,elements:h,data:n,useTestClock:e.useTestClock})})]})}):null}var ze=n(42778),We=n(82990),Ke=n(1063),Xe=n(91493),qe=n(59148),Ye=n(42329),Ge=n(92041);function Qe(e){window.__c={n:"SpaceSubscriptionOrderSummary"};const{state:t,data:n,promo:a}=e,{coupon:r,isTrial:i}=t,c=(0,s.O7)(),d=(0,G.yK)((e=>({container:{display:"flex",flexDirection:"column",gap:16},header:{alignItems:"center",color:e.regularTextColor,display:"flex",fontSize:16,fontWeight:We.Z.fontWeight.semibold,gap:8,marginBottom:11,lineHeight:"22px"},couponLink:{fontSize:12}})),[]),{availableCurrencyCodes:u,selectedCurrencyCode:p}=(0,o.VK)((()=>({availableCurrencyCodes:_.Z.availableCurrencyCodes,selectedCurrencyCode:_.Z.selectedCurrencyCode})),[]),m=t.temporaryBillingInterval??"month",g=E.Zr(a),f=E.Lp(t),h=(0,o.VK)((()=>f.map((e=>_.Z.getPrice(c,(t=>t.product===e&&t.billingInterval===m))))),[m,c,f]);if(h.some((e=>!e.isLoaded)))return(0,k.jsx)(Ze.Z,{});const y=h.map((e=>e.result)).filter(Boolean),C=T.su(n),v=y[0].unitAmount.currencyValue,x=E.cv({prices:y,quantity:C,coupon:r}),M=E.VT({calculatingTax:t.calculatingTax,taxAmount:t.taxAmount,currencyValue:v}),b=E.rF({prices:y,quantity:C,promo:g}),j=E.Et(n,v),w=x.plus(M).minus(b).minus(j),I=w.amount<0?w.withMultipliedAmount(0):w;return(0,k.jsxs)("div",{style:d.container,children:[i?null:(0,k.jsxs)("label",{style:d.header,children:[(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.header",defaultMessage:"Order summary"}),(0,k.jsx)(ie.V,{availableCurrencyCodes:u,from:"upgrade_modal",onSelectCurrency:O.yD,selectedCurrencyCode:p})]}),(0,k.jsx)(et,{prices:y,coupon:t.coupon,data:n,isTrial:i}),T.Fu(t.subscriptionTier)&&(0,k.jsx)(Ke.X,{tier:t.subscriptionTier}),(0,k.jsx)(Se.Z,{size:1}),i?null:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Je,{subtotal:x,tax:M,discount:b,accountBalance:j,promo:g,state:t,style:{marginBottom:8}}),(0,k.jsx)($e,{total:I})]})]})}function $e(e){const t=E.hr();return(0,k.jsxs)("div",{style:t.itemContainer,children:[(0,k.jsx)("div",{style:t.captionContainer,children:(0,k.jsx)("span",{style:t.totalName,children:(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeOrderSummary.totalForToday",defaultMessage:"Total for today"})})}),(0,k.jsx)("span",{style:t.totalPrice,children:(0,k.jsx)(te.W,{cost:e.total.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}function Je(e){const{subtotal:t,tax:n,discount:a,accountBalance:r,style:s,promo:o}=e,{calculatingTax:i,coupon:l}=e.state;return(0,k.jsxs)("div",{style:s,children:[(0,k.jsx)(Ye.r,{subtotal:t}),(0,k.jsx)(Ge.u,{tax:n,calculatingTax:i}),o&&!l?(0,k.jsx)(qe.T,{discount:a,promo:o}):void 0,(0,k.jsx)(Xe.G,{accountBalance:r})]})}function et(e){const{coupon:t,data:n,prices:a,isTrial:r}=e;return(0,k.jsx)(k.Fragment,{children:a.map((e=>(0,k.jsx)(tt,{price:e,data:n,coupon:t,isTrial:r},e.externalId)))})}function tt(e){window.__c={n:"SpaceSubscriptionGrossOrderItem"};const{price:t,data:n,coupon:a,isTrial:r}=e,s=(0,G.yK)((e=>({container:{display:"flex",justifyContent:"space-between"},item:{},title:{fontSize:14,fontWeight:We.Z.fontWeight.medium,marginBottom:4},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14}})),[]),o=T.su(n),i=t.getCostPerBillingInterval({quantity:o,coupon:a}),l=(0,k.jsx)(te.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});return(0,k.jsxs)("div",{style:s.container,children:[(0,k.jsxs)("div",{style:s.item,children:[(0,k.jsx)("div",{style:s.title,children:(0,k.jsx)(nt,{price:t})}),(0,k.jsx)("div",{style:s.subtitle,children:(0,k.jsx)(at,{price:t,data:n,coupon:a,isTrial:r})})]}),r?null:(0,k.jsx)("div",{style:s.price,children:l})]})}function nt(e){const{price:t}=e;switch(t.product){case"free":case"student":return null;case"ai":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.ai.addOn",defaultMessage:"Notion AI"});case"personal":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.singlePlayerPlusPlan",defaultMessage:"Plus plan with a 1-member limit"});case"plus":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.plusPlan",defaultMessage:"Plus plan"});case"business":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.businessPlan",defaultMessage:"Business plan"});case"enterprise":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.enterprisePlan",defaultMessage:"Enterprise plan"});default:(0,$.t1)(t.product)}}function at(e){const{price:t,data:n,coupon:a,isTrial:r}=e,s=T.su(n),o=t.getMonthlyUnitCost(a),i=(0,k.jsx)(te.W,{cost:o.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});if(r)return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.trial.billedYearly",defaultMessage:"{price} / member / month",values:{br:(0,k.jsx)("br",{}),price:i}});switch(t.billingInterval){case"year":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedYearly",defaultMessage:"{price} / member / month Ã— {numberOfMembers, plural, one {# member} other {# members}}{br}Billed yearly",values:{br:(0,k.jsx)("br",{}),price:i,numberOfMembers:s}});case"month":return(0,k.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedMonthly",defaultMessage:"{price} / member / month Ã— {numberOfMembers, plural, one {# member} other {# members}}{br}Billed monthly",values:{br:(0,k.jsx)("br",{}),price:i,numberOfMembers:s}});default:(0,$.t1)(t.billingInterval)}}function rt(e){window.__c={n:"ModalContentWrapper"};const{state:t,data:n,spaceStore:r,isCheckoutV2:s}=e,{subscriptionTier:i,onlyShowAddOn:l,calculatingTax:c,temporaryBillingInterval:d,taxAmount:u,addOnFeature:p,coupon:m}=t,g=T.XX(n),f=(0,o.VK)((()=>(null==g?void 0:g.currencyCode)??_.Z.selectedCurrencyCode),[g]),{payAmount:h}=T.uN({subscriptionTier:i,currencyCode:f,promo:t.appliedPromo,data:n,onlyShowAddOn:l,calculatingTax:c,billingInterval:d??"year",taxAmount:u,addOnFeature:p,coupon:m}),y=(0,V.useElementsOptions)({type:"subscription",amount:h.amount,currency:h.currencyCode});return(0,k.jsx)(a.Elements,{stripe:(0,V.getStripe)(),options:y,children:(0,k.jsx)(st,{state:t,data:n,spaceStore:r,isCheckoutV2:s})})}function st(e){window.__c={n:"ModalContent"};const{state:t,data:n,spaceStore:r,isCheckoutV2:d}=e,u=(0,s.O7)(),m=(0,l.useIntl)(),{isMobile:h}=(0,s.Fy)(),y=(0,a.useStripe)(),C=(0,a.useElements)(),v=(0,o.VK)((()=>g.Z.state.online),[]),[x,M,b,j,w]=(0,o.VK)((()=>{var e;const n=(null===(e=H.subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[],a=(0,p.CV)(r);return[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,!a&&!(0,i.de)(n),t.coupon]}),[t,r]);if(!t.open)return null;if(!v)return(0,k.jsx)(D.L,{});const I=E.Lp(t);return d?(0,k.jsx)(Ne,{state:t,data:n,spaceStore:r}):(0,k.jsx)(c.CT,{showDismissButton:!0,main:(0,k.jsx)(c.T1,{width:h?"fill":450,children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{style:{paddingBottom:24},children:(0,k.jsx)(R.Q,{subscriptionTier:t.subscriptionTier,onlyShowAddOn:t.onlyShowAddOn,addOnFeature:t.addOnFeature,type:t.type,isTrial:t.isTrial})}),t.onlyShowAddOn?null:(0,k.jsx)(ze.Z,{subscriptionTier:x,billingInterval:M,addOnFeature:b,canAddAI:j,isTrial:t.isTrial,modalId:t.sessionId,coupon:w,onChangeBillingInterval:e=>{f.Z.update((t=>({...t,temporaryBillingInterval:e})))},onChangeAddOnFeature:e=>{f.Z.update((t=>({...t,addOnFeature:e})))}}),(0,k.jsx)(P.iQ,{})]})}),sidebar:(0,k.jsxs)(c.T6,{width:h?"fill":300,children:[(0,k.jsx)(Qe,{state:t,data:n,promo:t.appliedPromo}),(0,k.jsx)(U.f,{state:t,products:I,onClickUpgrade:e=>B({environment:u,intl:m,state:t,stripe:y,elements:C,data:n,useTestClock:e.useTestClock})})]})})}const ot=function(e){window.__c={n:"SpaceSubscriptionUpgradeModal"};const{data:t,spaceStore:n}=e,a=(0,o.VK)((()=>f.Z.state),[]),i=(0,s.O7)(),c=(0,l.useIntl)(),p=(0,o.VK)((()=>(0,S.Pw)(i)),[i]);return(0,r.useEffect)((()=>{const{state:e}=f.Z;if(!e.open)return;const{currentUserStore:n}=m.default.state,a=null!=n&&n.isDefined()?n.getModel():void 0;if(a){const n=a.getDisplayName(c);var r;if(f.Z.setState({...e,temporaryAddress:{...e.temporaryAddress,name:n}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)f.Z.setState({...e,appliedPromo:null===(r=t.customerData)||void 0===r?void 0:r.stripe.promo})}}),[]),(0,k.jsx)(d.c,{ariaLabelledBy:u.BaY,isOpen:a.open,onClosed:()=>F.Fp(i),animateSizeTransition:!p,children:a.open?(0,k.jsx)(rt,{state:a,data:t,spaceStore:n,isCheckoutV2:p}):null})}},28956:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(49085);class r extends a.default{getInitialState(){}}const s=new r},39343:(e,t,n)=>{n.d(t,{Fk:()=>o,nx:()=>i});var a=n(30120),r=n(13991),s=n(7057);function o(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=a.ou.now().toSeconds()}function i(e){const t=function(e){if(!o(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=a.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,s.Yx)(t,"long",r.SP):void 0}},40745:(e,t,n)=>{n.d(t,{M:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("arrowDown",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},8597:(e,t,n)=>{n.d(t,{Z:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("arrowUp",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},2585:(e,t,n)=>{n.d(t,{f:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},16880:(e,t,n)=>{n.d(t,{R:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("chevronUpRounded",{viewBox:"0 0 15 9",svg:(0,r.jsx)("path",{d:"M1.258 6.5L7.203.422a.946.946 0 01.719-.32.99.99 0 01.726.32L14.586 6.5a.89.89 0 01.266.648c0 .524-.407.93-.922.93a.921.921 0 01-.672-.281L7.93 2.32 2.586 7.797a.926.926 0 01-.672.281.915.915 0 01-.922-.93c0-.25.094-.476.266-.648z"})})},91315:(e,t,n)=>{n.d(t,{r:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},40462:(e,t,n)=>{n.d(t,{o:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("globe2",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},47409:(e,t,n)=>{n.d(t,{N:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("ledger",{viewBox:"0 0 16 16",svg:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M.706 4.113c0 .41.273.677.697.677h1.778v8.388c0 1.435.704 2.146 2.14 2.146h7.813c1.299 0 2.153-.889 2.153-2.235v-1.86c0-.41-.273-.676-.697-.676h-.567V2.95c0-1.429-.711-2.146-2.12-2.146H2.497c-1.066 0-1.79.724-1.79 1.866v1.442Zm3.575 9.072V2.67c0-.28-.027-.54-.082-.766h7.643c.71 0 1.08.376 1.08 1.06v7.588H7.05c-.424 0-.704.266-.704.676v1.956c0 .622-.431 1.039-1.026 1.039-.608 0-1.039-.438-1.039-1.04ZM1.807 3.689V2.671c0-.479.294-.766.69-.766.41 0 .684.287.684.766v1.018H1.807ZM6.25 4.797h4.703a.413.413 0 0 0 .424-.424.412.412 0 0 0-.424-.417H6.25a.418.418 0 0 0-.43.417c0 .24.184.424.43.424Zm0 2.386h2.454a.406.406 0 0 0 .424-.41c0-.24-.178-.431-.424-.431H6.25a.425.425 0 0 0-.43.43c0 .233.184.41.43.41Zm.93 7.04c.17-.3.266-.67.266-1.114v-1.456h6.74v1.436c0 .677-.423 1.135-1.052 1.135H7.18Z"})})})},16184:(e,t,n)=>{n.d(t,{Q:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})},88507:(e,t,n)=>{n.d(t,{I:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})})},26939:(e,t,n)=>{n.d(t,{c:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("pageErrorUnsafe",{viewBox:"0 0 72 72",svg:(0,r.jsx)("path",{d:"M36 68C36.5 68 37.2812 67.8125 38.0625 67.4062C55.8438 58.0938 61.5625 53.4375 61.5625 42.2188V18.6562C61.5625 15.4375 60.1875 14.4062 57.5625 13.3125C53.9062 11.8125 42.2188 7.5625 38.5938 6.3125C37.75 6.03125 36.875 5.875 36 5.875C35.125 5.875 34.25 6.0625 33.4375 6.3125C29.7812 7.5 18.0938 11.8438 14.4375 13.3125C11.8438 14.375 10.4375 15.4375 10.4375 18.6562V42.2188C10.4375 53.4375 16.4688 57.5625 33.9375 67.4062C34.75 67.8438 35.5 68 36 68ZM36 41.5938C34.375 41.5938 33.5 40.6875 33.4688 39.0312L33.0312 22C33 20.3438 34.2188 19.1562 35.9688 19.1562C37.6875 19.1562 38.9688 20.375 38.9375 22.0312L38.5 39.0312C38.4688 40.7188 37.5625 41.5938 36 41.5938ZM36 52.0625C34.125 52.0625 32.5 50.5625 32.5 48.7188C32.5 46.875 34.0938 45.3438 36 45.3438C37.9062 45.3438 39.5 46.8438 39.5 48.7188C39.5 50.5938 37.875 52.0625 36 52.0625Z"})})},15967:(e,t,n)=>{n.d(t,{J:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("settingsBilling",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M3.24219 17.5625H16.7578C18.3984 17.5625 19.2109 16.75 19.2109 15.1406V5.60156C19.2109 3.99219 18.3984 3.17969 16.7578 3.17969H3.24219C1.60938 3.17969 0.789062 3.98438 0.789062 5.60156V15.1406C0.789062 16.7578 1.60938 17.5625 3.24219 17.5625ZM2.04688 5.66406C2.04688 4.85156 2.47656 4.4375 3.25781 4.4375H16.7422C17.5156 4.4375 17.9531 4.85156 17.9531 5.66406V6.84375H2.04688V5.66406ZM3.25781 16.3047C2.47656 16.3047 2.04688 15.8906 2.04688 15.0781V8.61719H17.9531V15.0781C17.9531 15.8906 17.5156 16.3047 16.7422 16.3047H3.25781ZM4.5 14.625H6.41406C6.86719 14.625 7.17969 14.3125 7.17969 13.875V12.4297C7.17969 11.9844 6.86719 11.6797 6.41406 11.6797H4.5C4.03906 11.6797 3.72656 11.9844 3.72656 12.4297V13.875C3.72656 14.3125 4.03906 14.625 4.5 14.625Z"})})},83690:(e,t,n)=>{n.d(t,{_:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("settingsCredit",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M5.89062 18.1094H14.1016C15.5703 18.1094 16.3828 17.3359 16.3828 15.8594V11.0625H16.4375C17.125 10.9141 17.5078 10.3594 17.5078 9.5625V7.50781C17.5078 6.55469 16.9766 5.95312 16.0234 5.95312H14.4453C14.8594 5.53906 15.1016 4.97656 15.1016 4.32812C15.1016 2.8125 13.9062 1.73438 12.3906 1.73438C11.2969 1.73438 10.3906 2.33594 9.99219 3.38281C9.59375 2.33594 8.69531 1.73438 7.59375 1.73438C6.08594 1.73438 4.88281 2.8125 4.88281 4.32812C4.88281 4.97656 5.125 5.53906 5.54688 5.95312H3.96875C3.05469 5.95312 2.48438 6.55469 2.48438 7.50781V9.5625C2.48438 10.3594 2.85938 10.9141 3.54688 11.0625H3.60156V15.8594C3.60156 17.3359 4.41406 18.1094 5.89062 18.1094ZM9.35156 5.95312H8.13281C6.90625 5.95312 6.1875 5.25781 6.1875 4.39844C6.1875 3.53906 6.8125 3.03906 7.67188 3.03906C8.60156 3.03906 9.35156 3.74219 9.35156 4.89844V5.95312ZM10.6328 5.95312V4.89844C10.6328 3.74219 11.3828 3.03906 12.3125 3.03906C13.1719 3.03906 13.7969 3.53906 13.7969 4.39844C13.7969 5.25781 13.0859 5.95312 11.8516 5.95312H10.6328ZM9.29688 9.9375H4.28906C3.89844 9.9375 3.74219 9.77344 3.74219 9.38281V7.67969C3.74219 7.28906 3.89844 7.13281 4.28906 7.13281H9.29688V9.9375ZM10.6875 9.9375V7.13281H15.7109C16.1016 7.13281 16.25 7.28906 16.25 7.67969V9.38281C16.25 9.77344 16.1016 9.9375 15.7109 9.9375H10.6875ZM9.29688 16.9375H5.875C5.22656 16.9375 4.85938 16.5703 4.85938 15.9219V11.1172H9.29688V16.9375ZM10.6875 16.9375V11.1172H15.125V15.9219C15.125 16.5703 14.7578 16.9375 14.1094 16.9375H10.6875Z"})})},36312:(e,t,n)=>{n.d(t,{o:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("settingsIdentityProvisioning",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M10 18.4609C10.125 18.4609 10.3281 18.4141 10.5234 18.3047C14.9688 15.8125 16.4922 14.7578 16.4922 11.9062V5.92969C16.4922 5.10938 16.1406 4.85156 15.4766 4.57031C14.5547 4.1875 11.5781 3.11719 10.6562 2.79688C10.4453 2.72656 10.2188 2.67969 10 2.67969C9.78125 2.67969 9.55469 2.74219 9.35156 2.79688C8.42969 3.0625 5.44531 4.19531 4.52344 4.57031C3.86719 4.84375 3.50781 5.10938 3.50781 5.92969V11.9062C3.50781 14.7578 5.03906 15.8047 9.47656 18.3047C9.67969 18.4141 9.875 18.4609 10 18.4609ZM10 17.0469C9.875 17.0469 9.75 17 9.51562 16.8594C5.90625 14.6719 4.75 14.0312 4.75 11.6172V6.17188C4.75 5.90625 4.79688 5.80469 5.01562 5.71875C6.20312 5.25 8.50781 4.47656 9.6875 4.00781C9.8125 3.95312 9.91406 3.9375 10 3.9375C10.0859 3.9375 10.1875 3.96094 10.3125 4.00781C11.4922 4.47656 13.7812 5.30469 14.9922 5.71875C15.2031 5.79688 15.25 5.90625 15.25 6.17188V11.6172C15.25 14.0312 14.0938 14.6641 10.4844 16.8594C10.2578 17 10.125 17.0469 10 17.0469ZM9.14844 13.8984C9.40625 13.8984 9.625 13.7734 9.78125 13.5391L13.3516 7.91406C13.4375 7.76562 13.5391 7.59375 13.5391 7.41406C13.5391 7.07031 13.2266 6.84375 12.9062 6.84375C12.7031 6.84375 12.5078 6.96094 12.3594 7.19531L9.11719 12.3984L7.57812 10.4062C7.39062 10.1562 7.21875 10.0859 7.00781 10.0859C6.66406 10.0859 6.39844 10.3594 6.39844 10.7109C6.39844 10.875 6.46875 11.0469 6.57812 11.1953L8.48438 13.5391C8.67969 13.7969 8.89062 13.8984 9.14844 13.8984Z"})})},5517:(e,t,n)=>{n.d(t,{q:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("settingsPlans",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M2.75781 17.7656C2.95312 17.7656 3.15625 17.6953 3.40625 17.5547L7.38281 15.4141L11.7031 17.8359C11.9844 17.9922 12.2891 18.0703 12.5781 18.0703C12.8516 18.0703 13.125 18 13.3594 17.8672L17.4453 15.5469C17.9141 15.2891 18.125 14.9141 18.125 14.3906V3.86719C18.125 3.28906 17.8047 2.96875 17.2422 2.96875C17.0469 2.96875 16.8438 3.03125 16.5859 3.17188L12.4453 5.47656L8.20312 2.875C7.96094 2.73438 7.6875 2.65625 7.41406 2.65625C7.13281 2.65625 6.85156 2.73438 6.60938 2.875L2.54688 5.1875C2.08594 5.45312 1.875 5.82812 1.875 6.35156V16.8594C1.875 17.4375 2.19531 17.7656 2.75781 17.7656ZM6.875 14.1719L3.35156 16.1094C3.3125 16.125 3.27344 16.1484 3.23438 16.1484C3.17188 16.1484 3.13281 16.1016 3.13281 16.0234V6.65625C3.13281 6.46875 3.20312 6.33594 3.39062 6.22656L6.59375 4.35156C6.69531 4.29688 6.78125 4.25 6.875 4.19531V14.1719ZM8.13281 14.2969V4.35938C8.21094 4.40625 8.30469 4.45312 8.38281 4.5L11.8672 6.625V16.3906C11.7578 16.3281 11.6406 16.2734 11.5234 16.2109L8.13281 14.2969ZM13.125 16.5312V6.54688L16.6484 4.625C16.6875 4.60156 16.7266 4.58594 16.7578 4.58594C16.8281 4.58594 16.8672 4.63281 16.8672 4.71094V14.0781C16.8672 14.2734 16.7891 14.4062 16.6094 14.5156L13.4766 16.3359C13.3594 16.4062 13.2422 16.4766 13.125 16.5312Z"})})},72263:(e,t,n)=>{n.d(t,{_:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})},78807:(e,t,n)=>{n.d(t,{l:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("statusCompleteGroup",{viewBox:"0 0 17 17",svg:(0,r.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.71094 12.0781C8.00781 12.0781 8.27344 11.9219 8.44531 11.6562L11.8828 6.32031C11.9922 6.14844 12.0781 5.95312 12.0781 5.77344C12.0781 5.35156 11.7109 5.07031 11.3125 5.07031C11.0547 5.07031 10.8281 5.21094 10.6562 5.49219L7.6875 10.2578L6.29688 8.51562C6.10938 8.27344 5.91406 8.17969 5.67188 8.17969C5.25781 8.17969 4.92188 8.50781 4.92188 8.92969C4.92188 9.125 5 9.30469 5.14062 9.48438L6.94531 11.6641C7.16406 11.9375 7.40625 12.0781 7.71094 12.0781Z"})})},41219:(e,t,n)=>{n.d(t,{L:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("topbarComment",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344Z"})})},50063:(e,t,n)=>{n.d(t,{X:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,r.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},76994:(e,t,n)=>{n.d(t,{w:()=>s});n(67294);var a=n(45238),r=n(85893);const s=(0,a.I)("versionHistory",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M0.788086 6.67676C0.254883 6.67676 0.118164 7.07324 0.412109 7.47656L2.06641 9.77344C2.29883 10.0947 2.6543 10.0879 2.87988 9.77344L4.53418 7.46973C4.81445 7.08008 4.68457 6.67676 4.1582 6.67676H3.16699C3.78223 4.20898 6.00391 2.39746 8.66992 2.39746C11.8145 2.39746 14.3438 4.91992 14.3438 8.06445C14.3438 11.209 11.8145 13.7451 8.66992 13.7383C6.83105 13.7314 5.22461 12.8701 4.19922 11.5166C3.92578 11.1953 3.52246 11.0928 3.19434 11.332C2.87988 11.5576 2.81836 11.9951 3.11914 12.3574C4.38379 14.0117 6.45508 15.126 8.66992 15.126C12.5391 15.126 15.7314 11.9336 15.7314 8.06445C15.7314 4.20215 12.5391 1.00293 8.66992 1.00293C5.2793 1.00293 2.40137 3.45703 1.75195 6.67676H0.788086ZM8.41699 4.09961C8.08203 4.09961 7.82227 4.36621 7.82227 4.69434V8.41309C7.82227 8.57031 7.87695 8.7207 7.99316 8.87793L9.62695 11.0312C9.86621 11.3525 10.2217 11.4072 10.5156 11.1953C10.7959 11.0039 10.8164 10.6416 10.5977 10.3477L9.01172 8.20801V4.69434C9.01172 4.36621 8.74512 4.09961 8.41699 4.09961Z"})})},65820:(e,t,n)=>{n.d(t,{M:()=>y});var a=n(67294),r=n(58868);function s(){const e=(0,a.useRef)(!1);return(0,r.L)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}var o=n(2074);var i=n(240),l=n(96681);class c extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){const n=(0,a.useId)(),r=(0,a.useRef)(null),s=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)((()=>{const{width:e,height:a,top:o,left:i}=s.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${a}px !important;\n            top: ${o}px !important;\n            left: ${i}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),a.createElement(c,{isPresent:t,childRef:r,sizeRef:s},a.cloneElement(e,{ref:r}))}const u=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:c})=>{const u=(0,l.h)(p),m=(0,a.useId)(),g=(0,a.useMemo)((()=>({id:m,initial:t,isPresent:n,custom:s,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))})),o?void 0:[n]);return(0,a.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[n]),a.useEffect((()=>{!n&&!u.size&&r&&r()}),[n]),"popLayout"===c&&(e=a.createElement(d,{isPresent:n},e)),a.createElement(i.O.Provider,{value:g},e)};function p(){return new Map}var m=n(25364),g=n(65411),f=n(45487);const h=e=>e.key||"";const y=({children:e,custom:t,initial:n=!0,onExitComplete:i,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{(0,f.k)(!l,"Replace exitBeforeEnter with mode='wait'");const p=(0,a.useContext)(m.p).forceRender||function(){const e=s(),[t,n]=(0,a.useState)(0),r=(0,a.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,a.useCallback)((()=>o.Wi.postRender(r)),[r]),t]}()[0],y=s(),C=function(e){const t=[];return a.Children.forEach(e,(e=>{(0,a.isValidElement)(e)&&t.push(e)})),t}(e);let v=C;const x=(0,a.useRef)(new Map).current,M=(0,a.useRef)(v),b=(0,a.useRef)(new Map).current,j=(0,a.useRef)(!0);if((0,r.L)((()=>{j.current=!1,function(e,t){e.forEach((e=>{const n=h(e);t.set(n,e)}))}(C,b),M.current=v})),(0,g.z)((()=>{j.current=!0,b.clear(),x.clear()})),j.current)return a.createElement(a.Fragment,null,v.map((e=>a.createElement(u,{key:h(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:c,mode:d},e))));v=[...v];const w=M.current.map(h),I=C.map(h),S=w.length;for(let a=0;a<S;a++){const e=w[a];-1!==I.indexOf(e)||x.has(e)||x.set(e,void 0)}return"wait"===d&&x.size&&(v=[]),x.forEach(((e,n)=>{if(-1!==I.indexOf(n))return;const r=b.get(n);if(!r)return;const s=w.indexOf(n);let o=e;if(!o){const e=()=>{x.delete(n);const e=Array.from(b.keys()).filter((e=>!I.includes(e)));if(e.forEach((e=>b.delete(e))),M.current=C.filter((t=>{const a=h(t);return a===n||e.includes(a)})),!x.size){if(!1===y.current)return;p(),i&&i()}};o=a.createElement(u,{key:h(r),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:c,mode:d},r),x.set(n,o)}v.splice(s,0,o)})),v=v.map((e=>{const t=e.key;return x.has(t)?e:a.createElement(u,{key:h(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)})),a.createElement(a.Fragment,null,x.size?v:v.map((e=>(0,a.cloneElement)(e))))}},16893:(e,t,n)=>{n.d(t,{Y:()=>o});var a=n(67294),r=n(37301);const s={some:0,all:1};function o(e,{root:t,margin:n,amount:o,once:i=!1}={}){const[l,c]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(!e.current||i&&l)return;const a={root:t&&t.current||void 0,margin:n,amount:o};return function(e,t,{root:n,margin:a,amount:o="some"}={}){const i=(0,r.I)(e),l=new WeakMap,c=new IntersectionObserver((e=>{e.forEach((e=>{const n=l.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const n=t(e);"function"==typeof n?l.set(e.target,n):c.unobserve(e.target)}else n&&(n(e),l.delete(e.target))}))}),{root:n,rootMargin:a,threshold:"number"==typeof o?o:s[o]});return i.forEach((e=>c.observe(e))),()=>c.disconnect()}(e.current,(()=>(c(!0),i?void 0:()=>c(!1))),a)}),[t,e,n,i,o]),l}}}]);