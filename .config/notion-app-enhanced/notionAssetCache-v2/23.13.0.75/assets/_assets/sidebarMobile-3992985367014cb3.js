"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3076],{52187:(e,t,o)=>{o.d(t,{Z:()=>S});o(67294);var n=o(480),r=o(86628),s=o(24405),i=o(78197),a=o(9291),l=o(1357),d=o(87279),c=o(88632),u=o(53610),p=o(35057),h=o(64921),m=o(31945),f=o(78140),g=(o(64369),o(27386),o(14694)),x=o(44625),b=o(85893);const S=function(e){let{store:t}=e;window.__c={n:"MemberSettingsButton"};const o=(0,n.O7)(),s=(0,r.VK)((()=>(0,p.Mk)()),[]),i=(0,r.VK)((()=>t.isDefined()),[t]),{mobileNative:l}=o,S=(0,r.VK)((()=>(null==l?void 0:l.supportsNativeHomeOnPhone())||!1),[l]),w=(0,r.VK)((()=>c.Z.state.online),[]);return s&&i?(0,b.jsx)(m.ZP,{buttonPopupStore:u.Z,popupType:m.Z4.SlideUp,hidesMobileNativeBottomBar:S,preventSlideUpTransition:S,renderOrigin:e=>(0,b.jsx)(h.Z,{mobileFeedback:!0,...e,children:(0,b.jsx)(g.Z,{left:(0,b.jsx)(v,{}),disableMobileBorder:!0,children:(0,b.jsx)(a.FormattedMessage,{defaultMessage:"Members",id:"memberSettingsButton.mobileSidebar.label"})})}),render:()=>{if(w){const e={menuType:d.og.Modal,title:(0,b.jsx)(a.FormattedMessage,{defaultMessage:"Members",id:"memberSettingsButton.mobileMemberSettings.title"}),right:(0,b.jsx)(a.FormattedMessage,{defaultMessage:"Done",id:"memberSettingsButton.rightActionButton.done"}),onClickRight:()=>y(o),onCancel:()=>y(o)};return(0,b.jsx)(f.Z,{...e,children:(0,b.jsx)(x.Z,{store:t,isMobile:!0})})}}}):null};function v(){window.__c={n:"IconComponent"};const e=(0,s.Fg)();return(0,i.S)({fill:e.mediumIconColor,width:16})}function y(e){const{mobileNative:t}=e,o=()=>{u.Z.setState({open:!1})};null!=t&&t.supportsNativeHomeOnPhone()?l.d(e,o):o()}},61671:(e,t,o)=>{o.d(t,{Z:()=>x});o(67294);var n=o(480),r=o(86628),s=o(24405),i=o(16001),a=o(9291),l=o(1357),d=o(87279),c=o(97799),u=o(64921),p=o(31945),h=o(78140),m=o(15311),f=o(14694),g=o(85893);const x=function(e){let{passwordRequestStore:t}=e;window.__c={n:"NotificationSettingsButton"};const o=(0,s.Fg)(),l=(0,n.O7)(),{device:x,mobileNative:S}=l,v=(0,r.VK)((()=>c.Z.state.open),[]),y=(0,r.VK)((()=>c.Z.state.source!==c.Y.Updates&&((null==S?void 0:S.supportsNativeHomeOnPhone())||!1)),[S]);return(0,g.jsx)(p.ZP,{popupType:x.isMobile?p.Z4.SlideUp:p.Z4.Popup,hidesMobileNativeBottomBar:y,preventSlideUpTransition:y,buttonPopupStore:c.Z,renderOrigin:e=>(0,g.jsx)(u.Z,{mobileFeedback:x.isMobile,...e,children:(0,g.jsx)(f.Z,{left:(0,i.r)({fill:o.mediumIconColor,width:16}),style:{background:v?o.buttonHoveredBackground:"none"},disableMobileBorder:!0,children:(0,g.jsx)(a.FormattedMessage,{defaultMessage:"Notifications & settings",id:"notificationSettingsButton.mobileSidebar.label"})})}),render:()=>{let e;return e=x.isMobile?{menuType:d.og.Modal,title:(0,g.jsx)(a.FormattedMessage,{defaultMessage:"Notifications & settings",id:"notificationSettingsButton.mobileSidebar.title"}),right:(0,g.jsx)(a.FormattedMessage,{defaultMessage:"Done",id:"notificationSettingsButton.rightActionButton.done"}),onClickRight:()=>b(l),onCancel:()=>b(l),whiteBackground:!0}:{menuType:d.og.Popup},(0,g.jsx)(h.Z,{...e,children:(0,g.jsx)(m.Z,{isMobile:!0,passwordRequestStore:t})})}})};function b(e){const{mobileNative:t}=e,o=()=>{c.Z.setState({open:!1})};c.Z.state.source!==c.Y.Updates&&((null==t?void 0:t.supportsNativeHomeOnPhone())||!1)?l.d(e,o):o()}},47082:(e,t,o)=>{o.d(t,{U:()=>S,Z:()=>y});o(67294);var n=o(83355),r=o(480),s=o(24405),i=o(53465),a=o(72126),l=o(87279),d=o(98742),c=o(34859),u=o(64113),p=o(64921),h=o(37601),m=o(74194),f=o(3386),g=o(53336),x=o(64369),b=o(85893);let S=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}({});class v extends n.Z{constructor(){super(...arguments),this.storeTypes={store:u.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleContainerClick=()=>{var e,t;this.props.disabled||(this.input.focusInput(),null===(e=(t=this.props).onClick)||void 0===e||e.call(t))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return(0,b.jsx)(f.Z,{capture:!e,onLeft:a.yR,onRight:a.yR,onSelectAll:a.yR,onRedo:a.yR,onUndo:a.yR,onToggleBold:a.yR,onToggleItalics:a.yR,onToggleCode:a.yR,onCut:a.yR,onCopy:a.yR,onPaste:a.yR,onKeypress:a.yR,children:(0,b.jsx)(f.Z,{capture:!e&&this.props.value.length>0,onDelete:a.yR,onBackspace:a.yR,children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",gap:this.props.message?4:void 0},children:[this.renderTokenInput(),this.props.message&&(0,b.jsx)(x.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:e,showClearButton:t}=this.props;return e||t?(0,b.jsxs)(g.Z,{type:c.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,b.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,b.jsx)("div",{style:{flexShrink:0},children:(0,b.jsx)(B,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,b.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,b.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:w(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,b.jsx)(h.Z,{show:this.stores.store.state.focused})]}):(0,b.jsxs)(g.Z,{type:c.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const e=0===this.props.tokens.length;return(0,b.jsx)(m.Z,{disabled:this.props.disabled,format:m.B.Transparent,...(0,d.Z)({onKeyDown:e=>function(e,t,o,n){"Backspace"===e.key&&0===t.length&&o();n&&n(e)}(e,this.props.value,this.props.onRemoveLastToken,this.props.onKeyDown)},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:(t=this.props.format,o=this.environment,n=this.theme,r=this.props.inputFullWidth,s=this.props.inputDivStyle,{flexGrow:1,flexShrink:1,flexBasis:r?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...o.device.isMobile?{margin:"0 8px 8px 0"}:C(n)[t].inputDivDesktopStyle,...s}),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:w(this.props.format)?20:18},size:1,ref:e=>e&&(this.input=e),type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:e=>function(e,t,o,n){0===t.length&&o&&o();n&&n(e)}(e,this.props.value,this.props.onEmptySubmit,this.props.onSubmit),onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete});var t,o,n,r,s}getWrapStyle(){var e,t;const{focus:o,format:n}=this.props,{WindowSizeStore:r}=this.environment;return{...this.environment.device.isMobile?{...(s=this.theme,{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${s.regularDividerColor}`,fontSize:16,background:s.popoverBackground}),paddingTop:14,paddingBottom:8,paddingLeft:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==l.og.Popup?r.getSafePaddingLeftCSS(16):16,paddingRight:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==l.og.Popup?r.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...k(this.theme,this.props.disabled),...C(this.theme)[n].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&o&&C(this.theme)[this.props.format].inputDivDesktopFocusStyle};var s}}v.displayName="TokenInputMenuItem",v.contextTypes={...l.mw,...n.w};const y=v;function w(e){return e===S.Group}function k(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function C(e){const t={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[S.Select]:t,[S.Person]:t,[S.Relation]:t,[S.Group]:t,[S.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:e.inputBoxShadow,background:e.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[S.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function B(e){let{showClearButton:t,right:o,onClearButtonClick:n,tokens:a,value:l}=e;window.__c={n:"RightComponent"};const d=(0,s.Fg)(),c=(0,r.O7)(),{isMobile:u}=c.device;return o?(0,b.jsx)(b.Fragment,{children:o}):t&&(a.length>0||l.length>0)?(0,b.jsx)(p.Z,{onClick:n,style:{flexShrink:0,flexGrow:0,borderRadius:u?24:20,marginTop:2},children:(0,i.X)({width:u?16:14,height:u?16:14,fill:d.lightIconColor})}):null}},22715:(e,t,o)=>{o.d(t,{Z:()=>i});o(67294);var n=o(480),r=o(24405),s=(o(58047),o(85893));function i(){window.__c={n:"WebComponentNotSupportedInMobileNativeWarning"};(0,n.O7)(),(0,r.yK)((e=>({container:{margin:"8px 16px",background:e.accentColors.yellow[100],borderRadius:8,height:"fit-content"}})),[]);return(0,s.jsx)(s.Fragment,{})}},30664:(e,t,o)=>{o.d(t,{Z:()=>R});var n=o(67294),r=o(480),s=o(6740),i=o(86628),a=o(24405),l=o(84169),d=o(9291),c=o(25888),u=o(13991),p=o(88642),h=o(39634),m=o(97978),f=o(79897),g=o(58455),x=o(77080);var b=o(43250),S=o(98742),v=o(77907),y=o(475),w=o(16194),k=o(55031),C=o(64921),B=o(31945),M=o(26388),j=o(14694),I=o(85893);function Z(e){window.__c={n:"HelpButtonOrigin"};const t=(0,r.O7)(),{isMobile:o}=t.device,c=(0,d.useIntl)(),u=(0,a.Fg)(),p=(0,i.VK)((()=>y.Z.state.open),[]),h=(0,a.yK)((e=>({helpIcon:{fill:e.mediumIconColor,width:16,height:16},hoveredStyle:{background:e.whiteButtonHoveredBackground},pressedStyle:{background:e.whiteButtonPressedBackground}})),[]),m=(0,n.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,s.E)(t)&&w.Z.setState(!0)}),[]),f=(0,n.useCallback)((()=>{w.Z.setState(!1)}),[]);if(o)return(0,I.jsx)(C.Z,{hovered:p,testId:b.lmr,mobileFeedback:o,...e,children:(0,I.jsx)(j.Z,{left:(0,l.m)(h.helpIcon),disableMobileBorder:!0,children:(0,I.jsx)(d.FormattedMessage,{defaultMessage:"Help & feedback",id:"helpButton.mobileHelpFeedbackButton.label"})})});const g=c.formatMessage({defaultMessage:"Help, feedback, and keyboard shortcuts",id:"helpButton.desktopHelpButton.ariaLabel"}),x=(0,S.Z)(e,{onFocus:m,onBlur:f});return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(M.ZP,{renderTooltip:()=>(0,I.jsx)("span",{children:(0,I.jsx)(d.FormattedMessage,{defaultMessage:"Help, feedback, and {br}keyboard shortcuts",id:"helpButton.desktopHelpButton.tooltip",values:{br:(0,I.jsx)("br",{})}})}),render:e=>(0,I.jsx)(C.Z,{ariaLabel:g,className:b.lmr,testId:b.lmr,style:(0,k.y)(t,{theme:u,rightEdgeDistance:16,isInPeekRenderer:!1}),hoveredStyle:h.hoveredStyle,pressedStyle:h.pressedStyle,...(0,S.Z)(x,e),children:"?"})})})}const R=(0,d.injectIntl)((function(){window.__c={n:"HelpButton"};const e=(0,r.O7)(),{isMobile:t}=e.device,o=(0,i.VK)((()=>{var t;return(null===(t=e.mobileNative)||void 0===t?void 0:t.supportsNativeHomeOnPhone())||!1}),[e]),s=(0,n.useCallback)((()=>{c.Ar(e,{from:"corner"}),function(e){const t=g.default.state;if((0,m.Ug)()&&t.isZendeskEnabled){const{userHighestPlanType:o,isSalesAssistedPlan:n}=(0,f.rf)(e);p.j({locale:u.SP,analyticsSettings:t,isForethoughtEnabled:x.default.checkGate("forethought"),forethoughtInitializeArgs:h.z(e),userHighestPlanType:o,isSalesAssistedPlan:n,cookieService:e.cookieService})}}(e)}),[e]);return(0,I.jsx)(B.ZP,{popupType:t?B.Z4.SlideUp:B.Z4.Popup,hidesMobileNativeBottomBar:o,preventSlideUpTransition:o,renderOrigin:e=>(0,I.jsx)(Z,{...e}),originGap:t?0:12,placementToOrigin:t?B.pO.Right:B.pO.Top,alignmentToOrigin:t?B.vR.Center:B.vR.End,buttonPopupStore:y.Z,onClick:s,render:()=>(0,I.jsx)(v.LazyHelpButtonContent,{shouldRenderAsStaticModal:o})})}))},83890:(e,t,o)=>{o.d(t,{Z:()=>b});o(67294);var n=o(480),r=o(86628),s=o(66897),i=o(22686),a=o(19889),l=o(7928),d=o(9291),c=o(77907),u=o(68373),p=o(92864),h=o(93044),m=o(255),f=o(97680),g=o(8319),x=o(85893);const b=function(e){let{mode:t,title:o,userIds:r,onChange:s,disabled:a,focused:l,onMenuDismiss:u,onMenuOpen:p,parentStore:h}=e;window.__c={n:"SearchPersonFilter"};const m=(0,n.O7)(),f=(0,d.useIntl)();return(0,x.jsx)(g.Z,{mode:t,title:o,icon:i.f,iconStyles:k(m).recordIcon,items:r,onChange:s,disabled:a,focused:l,renderFilter:(e,t)=>(0,x.jsx)(C,{item:e,args:t,parentStore:h}),renderToken:(e,t)=>(0,x.jsx)(y,{item:e,handlers:t,userIds:r,parentStore:h}),renderItemForSummary:e=>(0,x.jsx)(v,{item:e,parentStore:h}),addItemLabel:(0,x.jsx)(d.FormattedMessage,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:o,tokenInputPlaceholder:f.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:e=>async function(e,t){let{query:o,current:n}=e;const r=new Set(n),s=await c.deps.searchActions.loader();return(await s.searchVisibleSpaceUsers({environment:t,query:o,membersOnly:!1})).filter((e=>!r.has(e.id))).slice(0,20).map((e=>e.id))}(e,m),renderResultMenuItem:(e,t)=>(0,x.jsx)(w,{item:e,props:t,parentStore:h}),onMenuDismiss:u,onMenuOpen:p,hasItemsSelected:(null==r?void 0:r.length)>0})};function S(e,t){return function(e,t){return u.U6.createChildStore(t,{table:a.KJ,id:e})}(e,t).getValue()}function v(e){let{item:t,parentStore:o}=e;window.__c={n:"ItemForSummaryComponent"};const n=(0,d.useIntl)(),s=(0,r.VK)((()=>S(t,o)),[t,o]);return(0,x.jsx)(x.Fragment,{children:(0,l.Nz)(n,s)})}function y(e){let{item:t,handlers:o,userIds:i,parentStore:a}=e;window.__c={n:"TokenComponent"};const l=(0,n.O7)(),d=1===i.length,c=(0,r.VK)((()=>S(t,a)),[t,a]);return c?(0,x.jsx)(p.ZP,{format:l.device.isMobile?h.lP.Large:h.lP.Small,showRemoveButton:!0,isSingle:d,onClickRemove:o.onRemove,actor:(0,s.m3)(c),shouldShrink:!0,style:{background:"transparent"}},t):null}function w(e){let{item:t,props:o,parentStore:n}=e;window.__c={n:"ResultMenuItemComponent"};const i=(0,r.VK)((()=>S(t,n)),[t,n]);return(0,x.jsx)(f.Z,{...o,actor:(0,s.m3)(i)})}function k(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}function C(e){let{item:t,args:o,parentStore:i}=e;window.__c={n:"FilterListItemComponent"};const{disabled:a,onRemove:l,onClick:d}=o,c=k((0,n.O7)()),u=(0,r.VK)((()=>S(t,i)),[t,i]),p=(0,x.jsx)(m.Z,{disabled:a,onClick:l});return(0,x.jsx)(f.Z,{disabled:a,focused:!1,actor:(0,s.m3)(u),right:p,style:c.menuItem,desktopTitleStyle:c.menuItemTitle,onClick:d},t)}},61931:(e,t,o)=>{o.d(t,{$1:()=>b,A5:()=>c,Cm:()=>d,EP:()=>a,Er:()=>S,FK:()=>h,MI:()=>g,Uf:()=>l,WB:()=>p,Wx:()=>f,XX:()=>r,_U:()=>v,iO:()=>i,jO:()=>x,jX:()=>u,jq:()=>s,yc:()=>m});var n=o(97880);const r=80,s=40,i=24,a=20,l=270,d=405,c=16,u=44,p=l-u,h=144,m=144,f="linear-gradient(transparent 0%, black 10px)",g={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"};function x(e){return{width:48,height:48,fill:e.lightIconColor}}function b(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.personalHomeBackgroundDesktop}function S(e){let{theme:t,isPhone:o,buttonState:n,hasCover:r}=e,s=t.whiteButtonBackground;switch(n){case"hovered":s=t.whiteButtonHoveredBackground;break;case"pressed":s=t.whiteButtonPressedBackground}return o&&(s=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:s,...g,boxShadow:r?v({isPhone:o,theme:t}):void 0,width:28,height:28,borderRadius:4}}function v(e){let{isPhone:t,theme:o}=e;if("dark"===o.mode)return"unset";o.mode;const r=t?.5:1,s=o.home.tile.border&&`0 0 0 ${r}px ${o.home.tile.border}`;return t?s:[s,"0 12px 40px rgba(0, 0, 0, 0.025)"].filter(n.$K).join(", ")}},86706:(e,t,o)=>{o.d(t,{K9:()=>S,Uy:()=>b,nx:()=>p});o(57658);var n=o(67294),r=o(480),s=o(24405),i=o(72126),a=o(9291),l=o(74194),d=o(85893);const c=["control+t","control+shift+n","control+shift+t","control+w","control+shift+w","control+r","control+shift+r","control+shift+i","control+\\","control+=","control+-","control+0","control+[","control+]","control+shift+tab","control+tab","control+1","control+2","control+3","control+4","control+5","control+6","control+7","control+8","control+9"],u=["command+,","command+t","command+shift+n","command+shift+t","command+w","command+shift+w","command+r","command+shift+r","alt+command+i","command+\\","command+=","command+-","command+0","command+[","command+]","control+shift+tab","control+tab","command+option+left","command+option+right","command+shift+[","command+shift+]","command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"];function p(e){function t(){return e.shortcut?b(e.shortcut):void 0}window.__c={n:"KeyboardGlobalShortcutSettingInput"};const{isMac:o,isWindows:p}=(0,r.Fy)(),{KeyboardShortcutStackStore:v}=(0,r.O7)(),[y,w]=(0,n.useState)(t()),[k,C]=(0,n.useState)(new Set([])),[B,M]=(0,n.useState)(),[j,I]=(0,n.useState)(!1),Z=(0,n.useRef)(!1),R=(0,n.useRef)(!1),P=(0,n.useRef)(!1),T=(0,s.yK)((e=>({container:{display:"flex",flexDirection:"column",gap:10,alignItems:"flex-end"},takenShortcutError:{color:e.accentColors.red[500],fontSize:12}})),[]);function E(){if(y&&P.current)if(y.key)if(o?y.control||y.option||y.command:y.control||y.option)if(function(e,t,o){for(const r of Object.values(e.shortcutMap))for(const e of r)if(i.Xy(b(e),t))return!0;const n=o?u:c;for(const r of n)if(i.Xy(b(r),t))return!0;return!1}(v,y,o)){w(t());const e=S(y,o);M((0,d.jsx)(a.FormattedMessage,{id:"desktopQuickSearch.error.shortcutAlreadyUsed",defaultMessage:"{reservedShortcut} is already used",values:{reservedShortcut:e}}))}else{const t=function(e,t){const o=[];e.shift&&o.push("shift");e.control&&(t?o.push("control"):o.push("ctrl"));e.option&&(t?o.push("option"):o.push("alt"));e.command&&(t?o.push("command"):o.push("meta"));e.key&&o.push(e.key.toLowerCase());return o.join("+")}(y,o);e.onChange(t)}else w(t()),M(o?(0,d.jsx)(a.FormattedMessage,{id:"desktopQuickSearch.error.macModifierRequired",defaultMessage:"Use one of Option, Control, or Command for global keyboard shortcuts"}):(0,d.jsx)(a.FormattedMessage,{id:"desktopQuickSearch.error.windowsModifierRequired",defaultMessage:"Use one of Control or Alt for global keyboard shortcuts"}));else w(void 0);else P.current||w(t());Z.current=!0,I(!1),P.current=!1}function L(e){if(p&&e.startsWith("Meta"))return;const t=new Set([...k,e]),o=function(e){const t={};for(const o of e)o.startsWith(m)?t.command=!0:o.startsWith(g)?t.option=!0:o.startsWith(f)?t.shift=!0:o.startsWith(x)?t.control=!0:o.startsWith("Key")?t.key=o.substring(3).toLowerCase():o.startsWith("Digit")?t.key=o.substring(5):h[o]&&(t.key=h[o]);return 0===Object.values(t).filter((e=>!i.o8(e))).length?void 0:t}(t);C(t),w(o),M(void 0),P.current=!0}return(0,d.jsxs)("div",{style:T.container,children:[(0,d.jsx)(l.Z,{onKeyDown:function(e){R.current=!0,"Escape"===e.key?e.currentTarget.blur():"Tab"!==e.key&&(e.preventDefault(),e.stopPropagation(),L(e.code))},onKeyUp:function(e){R.current&&function(e){const t=new Set([...k]);if(t.delete(e),e.startsWith("Meta"))for(const o of t)o.startsWith(f)||o.startsWith(g)||o.startsWith(x)||t.delete(o);C(t),0===t.size&&E()}(e.code)},onFocus:function(e){w(void 0),I(!0)},onBlur:function(e){Z.current||E(),Z.current=!1,R.current=!1,C(new Set),I(!1)},focus:j,readOnly:!0,inputStyle:{textAlign:"center",caretColor:"transparent"},value:y&&S(y,o)}),B&&(0,d.jsx)("div",{style:T.takenShortcutError,children:B})]})}const h={ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",Backquote:"`",Backslash:"\\",Backspace:"backspace",BracketLeft:"[",BracketRight:"]",Comma:",",Delete:"delete",Enter:"return",Equal:"=",Minus:"-",Period:".",Quote:"'",Semicolon:";",Slash:"/",Space:"space"},m="Meta",f="Shift",g="Alt",x="Control";function b(e){const t={};for(let o of e.split("+"))o=o.toLowerCase(),"command"===o||"meta"===o?t.command=!0:"option"===o||"alt"===o?t.option=!0:"shift"===o?t.shift=!0:"control"===o||"ctrl"===o?t.control=!0:t.key=o;return t}function S(e,t){const o=[];if(e.shift&&(t?o.push("shift"):o.push("Shift")),e.control&&(t?o.push("control"):o.push("Ctrl")),e.option&&(t?o.push("option"):o.push("Alt")),e.command&&(t?o.push("âŒ˜"):o.push("Win")),e.key){const t=1===e.key.length?e.key.toUpperCase():e.key;o.push(t)}return o.join("+")}},67095:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ce});o(67294);var n=o(83355),r=o(99747),s=o(15145),i=o(8848),a=o(57037),l=o(69246),d=o(9291),c=o(61045),u=o(87531),p=o(29974),h=o(23063),m=o(64921),f=o(3386),g=o(53336),x=o(30664),b=o(52187),S=o(61671),v=o(29921),y=o(27556),w=o(3553),k=o(84939),C=o(29477),B=o(24677),M=o(43250),j=o(74948),I=o(24646),Z=o(55521),R=o(38676),P=o(80796);const T=200;class E extends n.Z{constructor(){super(...arguments),this.handleTouchStart=e=>{const t={x:e.touches[0].clientX,y:e.touches[0].clientY};R.sidebarOpenStore.state?t.x>(0,I.qG)(this.environment)?Z.Z.setState({touching:!0,swiping:!1,start:t}):D(this.environment,this.theme):(0,I.YR)(this.environment)&&t.x<100?Z.Z.setState({touching:!0,swiping:!1,start:t}):D(this.environment,this.theme)},this.handleTouchMove=e=>{if(P.Z.state.isDragging)return void D(this.environment,this.theme);const t=Z.Z.state;if(!t.touching)return;const o={x:e.touches[0].clientX,y:e.touches[0].clientY};if(t.swiping)Z.Z.setState({touching:!0,swiping:!0,start:t.start,speed:R.sidebarOpenStore.state?t.end.x-o.x:o.x-t.end.x,end:o});else{if(Math.abs(o.y-t.start.y)>=25)return void D(this.environment,this.theme);(!R.sidebarOpenStore.state&&o.x-t.start.x>25||R.sidebarOpenStore.state&&t.start.x-o.x>25)&&Z.Z.setState({touching:!0,swiping:!0,start:t.start,speed:0,end:o})}F(this.environment,this.theme)},this.handleTouchEnd=async()=>{const{ThemeStore:e}=this.environment,t=Z.Z.state;if(!t.swiping)return;const o=(0,I.qG)(this.environment),n=document.querySelector((0,I.YR)(this.environment)?`.${M.ykc}`:`.${M.Wiy}`),r=document.querySelector(`.${M.Wiy}`),s=Math.abs(t.speed)>=8,i=s?"ease-out":"ease-in-out",a="dark"===e.state.mode?`, 1px 0 0 ${(0,k.Fq)(this.theme.shadowColor,2*this.theme.shadowOpacity)}`:"",l=`\n\t\t\t${this.theme.mediumBoxShadow}\n\t\t\t${a}\n\t\t`;if(R.sidebarOpenStore.state){const e=t.start.x-t.end.x;if(e+25*t.speed>o/2){let t=s?(o-e)/o*T:T;t=Math.max(t,1),n.style.transition=`transform ${t}ms ${i}`,n.style.transform="translateZ(0)translateX(0px)",(0,I.YR)(this.environment)&&(n.style.boxShadow=l,r.style.transition=`filter ${t}ms ${i}`,r.style.filter="brightness(1)"),await _(n),j.close(),D(this.environment,this.theme)}else n.style.transition=`transform 200ms ${i}`,n.style.transform=`translateZ(0)translateX(${o}px)`,(0,I.YR)(this.environment)&&(n.style.boxShadow=l,r.style.transition=`filter 200ms ${i}`,r.style.filter="brightness(0.7)"),await _(n),D(this.environment,this.theme)}else{const e=t.end.x-t.start.x;if(e+25*t.speed>o/2){let t=s?(o-e)/o*T:T;t=Math.max(t,1),n.style.transition=`transform ${t}ms ${i}`,n.style.transform=`translateZ(0)translateX(${o}px)`,(0,I.YR)(this.environment)&&(n.style.boxShadow=l,r.style.transition=`filter ${t}ms ${i}`,r.style.filter="brightness(0.7)"),await _(n),j.open({fromElectron:!1}),D(this.environment,this.theme)}else n.style.transition=`transform 200ms ${i}`,n.style.transform="translateZ(0)translateX(0px)",(0,I.YR)(this.environment)&&(n.style.boxShadow=l,r.style.transition=`filter 200ms ${i}`,r.style.filter="brightness(1)"),await _(n),D(this.environment,this.theme)}},this.handleSidebarToggle=()=>{F(this.environment,this.theme)}}didMount(){const{device:e}=this.environment;e.isMobile&&(window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd),R.sidebarOpenStore.addListener(this.handleSidebarToggle))}willUnmount(){const{device:e}=this.environment;e.isMobile&&(window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),R.sidebarOpenStore.removeListener(this.handleSidebarToggle))}}E.displayName="SidebarMobileSwipeListener";const L=E;async function _(e){const t=C.UZ();e.addEventListener("transitionend",t.resolve),e.addEventListener("webkitTransitionEnd",t.resolve),await t.promise,e.removeEventListener("transitionend",t.resolve),e.removeEventListener("webkitTransitionEnd",t.resolve)}function F(e,t){const o=document.querySelector((0,I.YR)(e)?`.${M.ykc}`:`.${M.Wiy}`),n=document.querySelector(`.${M.ykc}`),r=document.querySelector(`.${M.Wiy}`),s=(0,I.qG)(e),i=Z.Z.state;if(e.device.isIOS&&(r.style.transform="translateZ(0)translateX(0px)",r.style.filter="brightness(1)",n.style.transform="translateZ(0)translateX(0px)",n.style.filter="brightness(1)"),i.swiping)if(R.sidebarOpenStore.state){const n=s-(i.start.x-i.end.x)+25,a=Math.min(Math.max(0,n),s);if(o.style.transition="none",o.style.transform=`translateZ(0)translateX(${a}px)`,(0,I.YR)(e)){o.style.boxShadow=t.mediumBoxShadow,r.style.transition="none";const e=(1-.3*a/s).toString();r.style.filter=`brightness(${e})`}}else{const n=i.end.x-i.start.x-25,a=Math.min(Math.max(0,n),s);if(o.style.transition="none",o.style.transform=`translateZ(0)translateX(${a}px)`,(0,I.YR)(e)){o.style.boxShadow=t.mediumBoxShadow,r.style.transition="none";const e=(1-.3*a/s).toString();r.style.filter=`brightness(${e})`}}else R.sidebarOpenStore.state?(o.style.transition="transform 200ms",o.style.transform=`translateZ(0)translateX(${s}px)`,(0,I.YR)(e)&&(o.style.transform=`translateZ(0)translateX(calc(${s}px - 1px))`,o.style.boxShadow=t.mediumBoxShadow,r.style.transition="filter 200ms",r.style.filter="brightness(0.7)"),B.ZH(e)):(o.style.transition="transform 200ms",o.style.transform="translateZ(0)translateX(0)",(0,I.YR)(e)&&(o.style.boxShadow="none",r.style.transition="filter 200ms",r.style.filter="brightness(1)"))}function D(e,t){Z.Z.reset(),F(e,t)}var W=o(5480),A=(o(73499),o(58925)),O=o(480),H=o(24405),$=o(59584),N=o(86572),U=o(35793),V=o(14694),z=o(85893);const K=function(){window.__c={n:"UpgradeMobileButton"};const e=(0,O.O7)(),t=(0,z.jsx)(d.FormattedMessage,{defaultMessage:"Upgrade to Pro",id:"upgradeMobileButton.upgradeButton.label"});return(0,z.jsx)(m.Z,{mobileFeedback:!0,onClick:Y(e),children:(0,z.jsx)(V.Z,{left:(0,z.jsx)(q,{}),disableMobileBorder:!0,children:t})})};function Y(e){return()=>{N.sA(e,{from:"mobile_sidebar",for_subscription_tier:"personal"});const{mobileNative:t}=e;t&&t.openUpgradeModal(U.Bs())}}function q(){window.__c={n:"IconComponent"};const e=(0,H.Fg)();return(0,$.r)({fill:e.mediumIconColor,width:16})}var G=o(22715),X=o(95477),J=o(23586),Q=o(28020),ee=o(73744),te=o(71119),oe=o(52533),ne=o(45010),re=o(95697),se=o(51811),ie=o(75538),ae=o(34859),le=o(80444),de=o(72087),ce=o(45589),ue=o(2234),pe=o(32856),he=o(88893),me=o(35057),fe=o(89655),ge=o(88280),xe=o(22709),be=o(3392),Se=o(46770),ve=o(52344);const ye={display:"flex",alignItems:"center",justifyContent:"center",flex:"none",height:"100%",width:44,paddingRight:6},we={flexGrow:1,paddingTop:12,userSelect:"none",WebkitUserSelect:"none"};class ke extends n.Z{constructor(){super(...arguments),this.storeTypes={scrollerStore:ce.Z,passwordRequestStore:de.Z},this.isScrolledToTop=this.createComputedStore((()=>0===this.stores.scrollerStore.state.scrollTop))}UNSAFE_willMount(){window.addEventListener("resize",Ie)}willUnmount(){window.removeEventListener("resize",Ie)}renderComponent(){const e=ie.default.state;if(e.isOnboarding&&"workspace_setup"===e.stage)return;const t=I.Jr(this.environment);return t?(0,z.jsx)(h.Z,{render:()=>(0,z.jsxs)("div",{className:M.ykc,style:Be(this.environment),children:[!t&&(0,z.jsx)(L,{}),this.renderSidebar()]}),isVisible:!0,animationStyle:{width:t?I.Wk(this.environment):"100vw"}}):(0,z.jsxs)("div",{className:M.ykc,style:{...Be(this.environment),width:"100vw"},children:[!t&&(0,z.jsx)(L,{}),this.renderSidebar()]})}renderSidebar(){return(0,z.jsx)(f.Z,{capture:!I.Jr(this.environment)&&R.sidebarOpenStore.state,onBackButton:je,children:(0,z.jsxs)("div",{style:(e=this.environment,t=this.theme,{display:"flex",flexDirection:"column",width:I.qG(e),height:"100%",background:I.YR(e)?t.mobileSidebarAndroidBackground:t.mobileSidebarIOSBackground,willChange:"transform",color:t.mediumTextColor,...I.YR(e)&&{marginLeft:"auto"},...I.Jr(e)&&{position:"absolute",right:0},cursor:"pointer"}),children:[this.renderTopbar(),this.renderOutliner()]})});var e,t}renderTopbar(){const{device:e}=this.environment,t=e.isMobileNative&&e.isTablet&&I.Jr(this.environment);return(0,z.jsxs)("div",{style:this.getTopbarStyle(),children:[(0,z.jsx)(xe.ZP,{shouldShowUnexpandButton:t,format:xe._S.Mobile,onSpaceClick:async e=>{let{event:t,spaceViewStore:o}=e;await p.y3({environment:this.environment,spaceViewStore:o,userSettingsStore:le.default.state.currentUserSettingsStore,userRootStore:le.default.state.currentUserRootStore,openInNew:ee.DJ(t),pageVisitSource:s.tY.SwitchSpace})}}),!e.isMobileNative&&(0,z.jsx)(A.Z,{format:se.EX.TopbarMobile}),!e.isMobileNative&&(0,z.jsx)(m.Z,{onClick:()=>{return e=this.environment,u.Kf({environment:e,analyticsFrom:"sidebar-mobile"});var e},mobileFeedback:!0,style:ye,children:(0,a.w)({width:26})})]})}renderOutliner(){const{currentSpaceStore:e,currentSpaceViewStore:t,currentUserRootStore:o,currentUserStore:n,currentUserSettingsStore:r,mainEditorCurrentBlockStore:s}=le.default.state,i=(0,Q.k_)(this.environment).state;if(!(i&&t&&o&&e&&n&&r))return;const a=e.canEdit(),u=(0,oe.S$)({environment:this.environment})&&me.QM()&&ge.subscriptionDataStoreInstance.state&&"unsubscribed_admin"===ge.subscriptionDataStoreInstance.state.type&&ge.subscriptionDataStoreInstance.state.revenueCatEnabled&&1===(0,he.qX)()&&!function(e){const{currentUserRootStore:t}=le.default.state,o=(0,he.xR)({environment:e,userRootStore:t});if(o&&(o.includes(X.default.revenueCat.productIDs.personal.monthly)||o.includes(X.default.revenueCat.productIDs.personal.yearly)))return!0;return!1}(this.environment),p=t.getTeamsStores(),h=(0,re.QI)("dev_or_beta");return(0,z.jsx)(w.Z,{store:e,disableEditNearestBlock:!0,render:o=>{let{selectableEvents:n}=o;return(0,z.jsxs)(g.Z,{store:this.stores.scrollerStore,ref:Me,style:we,preventType:c.Q7(this.environment),type:ae.Z.Y,children:[(0,z.jsx)(G.Z,{}),i.showBookmarksSection&&(0,z.jsx)(v.Z,{type:"bookmarks",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:e=>{let{contentsAriaId:o,labelAriaId:n}=e;return(0,z.jsx)(be.Z,{type:"bookmarks",itemDepth:0,parentStore:t.getBookmarkedPagesStore(),childStores:t.getBookmarkedPages(),onNavigate:je,disabled:!a,id:o,"aria-labelledby":n})}}),i.showTeamSection&&(0,z.jsx)(v.Z,{type:l.kg,sectionLabel:(0,z.jsx)(d.FormattedMessage,{defaultMessage:"Teamspaces",id:"sidebarMobile.teamsSection.header"}),shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:e=>{let{contentsAriaId:t}=e;return(0,z.jsx)(ve.u,{teams:p,reorderable:!1,onNavigate:je,id:t})}}),i.showWorkspaceSection&&!i.showTeamSection&&(0,z.jsx)(v.Z,{type:"workspace",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:o=>{let{contentsAriaId:n,labelAriaId:r}=o;return(0,z.jsx)(be.Z,{type:"workspace",itemDepth:0,parentStore:e.getPagesStore(),childStores:t.getWorkspacePages(),onNavigate:je,disabled:!a,id:n,"aria-labelledby":r})}}),i.showSharedSection&&(0,z.jsx)(v.Z,{type:"shared",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:o=>{let{headerRef:n,contentsAriaId:s,labelAriaId:l}=o;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(be.Z,{type:"shared",itemDepth:0,parentStore:t.getSharedPagesStore(),childStores:i.visibleSharedPagesStores,onNavigate:je,disabled:!a,id:s,"aria-labelledby":l}),i.showSharedOverflowButton&&(0,z.jsx)(y.vJ,{originRef:n,type:"shared",spaceStore:e,spaceViewStore:t,userSettingsStore:r,allPages:i.allSharedPagesStores,visiblePageIds:i.visibleSharedPagesStores.map((e=>{let{id:t}=e;return t})),render:e=>{let{onClick:t,isPopoverOpen:o}=e;return(0,z.jsx)(y.Ke,{isPopoverOpen:o,onClick:t,moreCount:i.allSharedPagesStores.length-i.visibleSharedPagesStores.length,inline:!1})}})]})}}),i.showPrivateSection&&!i.showOnlyPrivateSection&&(0,z.jsx)(v.Z,{type:"private",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:o=>{let{contentsAriaId:n,labelAriaId:r}=o;return(0,z.jsx)(be.Z,{type:"private",itemDepth:0,parentStore:e.getPagesStore(),childStores:t.getPrivatePages(this.environment),onNavigate:je,disabled:!a,id:n,"aria-labelledby":r})}}),i.showOnlyPrivateSection&&(0,z.jsx)(be.Z,{type:"private",itemDepth:0,parentStore:e.getPagesStore(),childStores:t.getPrivatePages(this.environment),onNavigate:je,disabled:!a}),i.showOnlyPrivateSection&&(0,z.jsx)("div",{style:{height:20}}),h&&(0,z.jsx)(Se.Z,{}),(0,z.jsx)(b.Z,{store:e}),(0,z.jsx)(J.Z,{request:{},render:()=>null,requestStore:this.stores.passwordRequestStore,performRequest:()=>(0,te.pu)(this.environment)}),(0,z.jsx)(S.Z,{passwordRequestStore:this.stores.passwordRequestStore}),(0,z.jsx)(pe.D,{experimentId:"mobile_web_subscriptions",groups:{on:(0,z.jsx)(fe.PlansSidebarButton,{})}}),(0,z.jsx)(pe.D,{experimentId:"mobile_web_subscriptions",groups:{on:(0,z.jsx)(ue.BillingSidebarButton,{})}}),s&&e.canEdit()&&(0,z.jsx)(W.Z,{store:s,isMobile:!0}),u&&(0,z.jsx)(K,{}),(0,z.jsx)(x.Z,{}),!1,(0,z.jsx)("div",{style:{height:148}})]})}})}getTopbarStyle(){const{WindowSizeStore:e}=this.environment;return{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"none",height:r.g,marginTop:e.state.paddingTopCSS,paddingLeft:12,boxShadow:I.YR(this.environment)&&!I.Jr(this.environment)&&R.sidebarOpenStore.state?this.isScrolledToTop.state?this.theme.topbarAndroidShadowCollapsed:this.theme.topbarAndroidShadow:`0 1px 0 ${this.theme.regularDividerColor}`,background:I.YR(this.environment)?this.theme.androidSidebarBackground:i.ZP.transparent,transition:"box-shadow 300ms",width:"100%",zIndex:1}}}ke.displayName="SidebarMobile";const Ce=ke;function Be(e){return I.Jr(e)?{display:"block",height:"100vh",position:"relative",zIndex:3}:I.YR(e)?{display:"block",height:"100vh",position:"fixed",top:0,right:"100%",zIndex:3}:{display:"block",height:"100vh",position:"fixed",top:0,left:0}}function Me(e){ne.Z.SidebarMobileScroller=e}function je(){j.close()}function Ie(){j.close()}},53610:(e,t,o)=>{o.d(t,{Z:()=>n});const n=new(o(61766).Z)},80671:(e,t,o)=>{o.d(t,{Cl:()=>m,Kj:()=>f,jw:()=>g,k2:()=>p,v5:()=>h});o(21703);var n=o(72126),r=o(4615),s=o(19889),i=o(896),a=o(12139),l=o(86572),d=o(80444),c=o(68373),u=o(63423);function p(){u.Z.setState({open:!0,stage:"limit_reached",addOnUpgradeId:(0,r.ZP)(),tax:0})}function h(){u.Z.setState({open:!1})}function m(e){const t=u.Z.state;t.open&&u.Z.setState({...t,stage:"confirm_purchase",coupon:e&&!(0,i.$v)(e)?e:void 0})}function f(){u.Z.setState({open:!0,stage:"cancel_plan",addOnUpgradeId:(0,r.ZP)(),tax:0})}async function g(e){const{environment:t,spaceStore:o,from:r}=e,i=function(){var e;const t=null===(e=d.default.state.currentSpaceStore)||void 0===e?void 0:e.getAdminIds();if(!t||0===t.length)throw new Error("No admins found in the current space");return(0,n.UP)(t)}(),u=o.getName(),p=c.U6.createChildStore(o,{table:s.KJ,id:i});await p.load();const h=p.getEmail();h?l.bf(t,{admin_id:i,admin_email:h,space_name:u,from:r}):a.IE(new Error("Could not get email for admin in sendMemberRequestForAddOn"))}},32856:(e,t,o)=>{o.d(t,{D:()=>s});var n=o(86628),r=o(77080);function s(e){window.__c={n:"ExperimentSwitch"};const{experimentId:t,groups:o,disableExposureLogging:s}=e;return o[function(e){const{experimentId:t,disableExposureLogging:o,defaultGroup:s}=e;return(0,n.VK)((()=>r.default.getEligibleGroup({experimentId:t,defaultGroup:s??"control",disableExposureLogging:o})),[t,o,s])}({experimentId:t,disableExposureLogging:s})]}},37014:(e,t,o)=>{o.d(t,{x:()=>i});o(67294);var n=o(89024),r=o(7124),s=o(85893);function i(e){const{label:t,children:o,gap:i}=e;return(0,s.jsxs)(n.jX,{gap:void 0===i?6:i,children:[t?(0,s.jsx)(r.q,{as:"label",styleName:"Body-12px/Medium",colorName:"secondary",children:t}):null,o]})}},27533:(e,t,o)=>{o.d(t,{W:()=>i});o(67294);var n=o(94919),r=o(9291),s=o(85893);function i(e){window.__c={n:"Money"};const t=(0,r.useIntl)();return(0,s.jsx)(n.W,{...e,intl:t})}},72983:(e,t,o)=>{o.d(t,{l:()=>i});o(67294);var n=o(97880),r=o(9291),s=o(85893);function i(e){window.__c={n:"StreetAddress"};const{layout:t,address:o}=e,i=(0,r.useIntl)();if(!o)return null;if("condensed"===t){const e=i.formatList([o.name,o.businessName,o.addressLine1,o.country].filter(Boolean),{type:"conjunction",style:"narrow"});return(0,s.jsx)("div",{children:e})}if("full"===t){const e=i.formatList([o.addressLine1,o.addressLine2].filter(Boolean),{type:"conjunction",style:"narrow"}),t=i.formatList([o.state,o.country,o.zipCode].filter(Boolean),{type:"conjunction",style:"narrow"}),n=[o.name,o.businessName,e,t].filter(Boolean);return(0,s.jsx)("div",{children:n.map(((e,t)=>(0,s.jsx)("div",{children:e},t)))})}(0,n.t1)(t)}},95014:(e,t,o)=>{o.r(t),o.d(t,{getStripe:()=>S,injectStripe:()=>b,isBillingUsingSendInvoice:()=>k,translateStripeError:()=>w,useElementsOptions:()=>y});var n=o(86664),r=o(97894),s=o(67294),i=o(86628),a=o(24405),l=o(24211),d=o(2438),c=o(97880),u=o(82990),p=o(86572),h=o(95477),m=o(80444),f=o(70060),g=o(85893);let x=null;function b(e){return t=>{const[o]=s.useState(S);return(0,g.jsx)(n.Elements,{stripe:o,children:(0,g.jsx)(n.ElementsConsumer,{children:o=>{let{stripe:n,elements:r}=o;const s={...t,stripe:n,elements:r};return(0,g.jsx)(e,{...s})}})})}}async function S(){return x||(r.loadStripe.setLoadParameters({advancedFraudSignals:!1}),x=(0,r.loadStripe)(h.default.stripe.key)),x}function v(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function y(e){const t=(0,a.Fg)(),{type:o}=e,n="setup"===o||"subscription"===o?e.currency:void 0,r="subscription"===o?e.amount:void 0,p=(0,i.VK)((()=>{var e;return(null===(e=m.default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||l.al}),[]),h=(0,i.VK)((()=>{const e={},t="EUR"===n&&f.rq();return t&&(e.paymentMethodTypes=(0,d.Rb)({currency:n,isSepaEnabled:t})),e}),[n]);return(0,s.useMemo)((()=>{const e={appearance:function(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"2px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:u.Z.baseFontFamily.sans,fontWeightLight:`${u.Z.fontWeight.light}`,fontWeightNormal:`${u.Z.fontWeight.regular}`,fontWeightMedium:`${u.Z.fontWeight.medium}`,fontWeightBold:`${u.Z.fontWeight.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"4px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.regular}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.regular}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBlue}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBlue}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.regular}`,cursor:"text",color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"590",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.regular}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.regular}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.regular}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBlue}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.regular}`,boxShadow:"none",color:e.text.primary}}}}(t),locale:v(p)};switch(o){case"address":return e;case"setup":return{...e,currency:null==n?void 0:n.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...e,...h,amount:r,currency:null==n?void 0:n.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session"};default:(0,c.t1)(o)}}),[t,p,o,n,r,h])}function w(e,t,o){if(!o.code)return o.message||"";switch(p._q(e,{error:o.code,stripe_decline_code:o.decline_code}),o.code){case"invalid_expiry_year_past":return t.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return t.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return t.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(t,o.decline_code);default:return o.message||""}}function k(e){return e.isSubscribed&&"send_invoice"===e.billing}},76088:(e,t,o)=>{o.d(t,{P:()=>i});var n=o(67294),r=o(480),s=o(54642);function i(){const e=(0,r.O7)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{!async function(){const t=await s.getExternalOrgData(e,{});if("failed"===t.type)return!1;const n=t.data;o("company_employee_count"in n&&parseInt(n.company_employee_count)>99)}()}),[e]),t}},28956:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(49085);class r extends n.default{getInitialState(){}}const s=new r},94919:(e,t,o)=>{o.d(t,{W:()=>s});o(67294);var n=o(31919),r=o(85893);function s(e){const{cost:t,intl:o}=e,s=e.trailingZeroDisplay??"auto",i=e.currencySign??"accounting",a=n.n.fromValue(t);let l=o.formatNumber(a.amount/Math.pow(10,a.currencyValue.minorUnitDigits),{style:"currency",currency:a.currencyCode,currencyDisplay:"symbol",currencySign:i});return"stripIfInteger"===s&&(l=l.replace(new RegExp(`[.,]0{${a.currencyValue.minorUnitDigits}}(\\s+.*)?$`),"$1")),(0,r.jsx)(r.Fragment,{children:l})}},40745:(e,t,o)=>{o.d(t,{M:()=>s});o(67294);var n=o(45238),r=o(85893);const s=(0,n.I)("arrowDown",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},80721:(e,t,o)=>{o.d(t,{W:()=>s});o(67294);var n=o(45238),r=o(85893);const s=(0,n.I)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},12392:(e,t,o)=>{o.d(t,{S:()=>s});o(67294);var n=o(45238),r=o(85893);const s=(0,n.I)("historyBack",{viewBox:"0 0 14 14",svg:(0,r.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})},45137:(e,t,o)=>{o.d(t,{o:()=>s});o(67294);var n=o(45238),r=o(85893);const s=(0,n.I)("speechBubbleThin",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M4.73926 15.6797C5.12207 15.6797 5.40918 15.4951 5.87402 15.085L8.21875 13.0068H12.3545C14.4121 13.0068 15.5674 11.8311 15.5674 9.80078V4.49609C15.5674 2.46582 14.4121 1.29004 12.3545 1.29004H3.63867C1.58105 1.29004 0.425781 2.46582 0.425781 4.49609V9.80078C0.425781 11.8311 1.6084 13.0068 3.59082 13.0068H3.87109V14.6953C3.87109 15.3037 4.19238 15.6797 4.73926 15.6797ZM5.07422 14.1758V12.2275C5.07422 11.8242 4.90332 11.667 4.51367 11.667H3.67285C2.38086 11.667 1.76562 11.0176 1.76562 9.75977V4.53711C1.76562 3.2793 2.38086 2.62988 3.67285 2.62988H12.3135C13.6055 2.62988 14.2275 3.2793 14.2275 4.53711V9.75977C14.2275 11.0176 13.6055 11.667 12.3135 11.667H8.14355C7.7334 11.667 7.52832 11.7354 7.24121 12.0361L5.07422 14.1758ZM4.51367 5.35059H11.4043C11.6367 5.35059 11.8281 5.15918 11.8281 4.91992C11.8281 4.69434 11.6367 4.50293 11.4043 4.50293H4.51367C4.28125 4.50293 4.09668 4.69434 4.09668 4.91992C4.09668 5.15918 4.28125 5.35059 4.51367 5.35059ZM4.51367 7.53125H11.4043C11.6367 7.53125 11.8281 7.33301 11.8281 7.10059C11.8281 6.86816 11.6367 6.67676 11.4043 6.67676H4.51367C4.28125 6.67676 4.09668 6.86816 4.09668 7.10059C4.09668 7.33301 4.28125 7.53125 4.51367 7.53125ZM4.51367 9.70508H9.00488C9.2373 9.70508 9.42188 9.51367 9.42188 9.28125C9.42188 9.04199 9.2373 8.85742 9.00488 8.85742H4.51367C4.28125 8.85742 4.09668 9.04199 4.09668 9.28125C4.09668 9.51367 4.28125 9.70508 4.51367 9.70508Z"})})},78807:(e,t,o)=>{o.d(t,{l:()=>s});o(67294);var n=o(45238),r=o(85893);const s=(0,n.I)("statusCompleteGroup",{viewBox:"0 0 17 17",svg:(0,r.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.71094 12.0781C8.00781 12.0781 8.27344 11.9219 8.44531 11.6562L11.8828 6.32031C11.9922 6.14844 12.0781 5.95312 12.0781 5.77344C12.0781 5.35156 11.7109 5.07031 11.3125 5.07031C11.0547 5.07031 10.8281 5.21094 10.6562 5.49219L7.6875 10.2578L6.29688 8.51562C6.10938 8.27344 5.91406 8.17969 5.67188 8.17969C5.25781 8.17969 4.92188 8.50781 4.92188 8.92969C4.92188 9.125 5 9.30469 5.14062 9.48438L6.94531 11.6641C7.16406 11.9375 7.40625 12.0781 7.71094 12.0781Z"})})},65820:(e,t,o)=>{o.d(t,{M:()=>x});var n=o(67294),r=o(58868);function s(){const e=(0,n.useRef)(!1);return(0,r.L)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}var i=o(2074);var a=o(240),l=o(96681);class d extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){const o=(0,n.useId)(),r=(0,n.useRef)(null),s=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)((()=>{const{width:e,height:n,top:i,left:a}=s.current;if(t||!r.current||!e||!n)return;r.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            top: ${i}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),n.createElement(d,{isPresent:t,childRef:r,sizeRef:s},n.cloneElement(e,{ref:r}))}const u=({children:e,initial:t,isPresent:o,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:d})=>{const u=(0,l.h)(p),h=(0,n.useId)(),m=(0,n.useMemo)((()=>({id:h,initial:t,isPresent:o,custom:s,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))})),i?void 0:[o]);return(0,n.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[o]),n.useEffect((()=>{!o&&!u.size&&r&&r()}),[o]),"popLayout"===d&&(e=n.createElement(c,{isPresent:o},e)),n.createElement(a.O.Provider,{value:m},e)};function p(){return new Map}var h=o(25364),m=o(65411),f=o(45487);const g=e=>e.key||"";const x=({children:e,custom:t,initial:o=!0,onExitComplete:a,exitBeforeEnter:l,presenceAffectsLayout:d=!0,mode:c="sync"})=>{(0,f.k)(!l,"Replace exitBeforeEnter with mode='wait'");const p=(0,n.useContext)(h.p).forceRender||function(){const e=s(),[t,o]=(0,n.useState)(0),r=(0,n.useCallback)((()=>{e.current&&o(t+1)}),[t]);return[(0,n.useCallback)((()=>i.Wi.postRender(r)),[r]),t]}()[0],x=s(),b=function(e){const t=[];return n.Children.forEach(e,(e=>{(0,n.isValidElement)(e)&&t.push(e)})),t}(e);let S=b;const v=(0,n.useRef)(new Map).current,y=(0,n.useRef)(S),w=(0,n.useRef)(new Map).current,k=(0,n.useRef)(!0);if((0,r.L)((()=>{k.current=!1,function(e,t){e.forEach((e=>{const o=g(e);t.set(o,e)}))}(b,w),y.current=S})),(0,m.z)((()=>{k.current=!0,w.clear(),v.clear()})),k.current)return n.createElement(n.Fragment,null,S.map((e=>n.createElement(u,{key:g(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:d,mode:c},e))));S=[...S];const C=y.current.map(g),B=b.map(g),M=C.length;for(let n=0;n<M;n++){const e=C[n];-1!==B.indexOf(e)||v.has(e)||v.set(e,void 0)}return"wait"===c&&v.size&&(S=[]),v.forEach(((e,o)=>{if(-1!==B.indexOf(o))return;const r=w.get(o);if(!r)return;const s=C.indexOf(o);let i=e;if(!i){const e=()=>{v.delete(o);const e=Array.from(w.keys()).filter((e=>!B.includes(e)));if(e.forEach((e=>w.delete(e))),y.current=b.filter((t=>{const n=g(t);return n===o||e.includes(n)})),!v.size){if(!1===x.current)return;p(),a&&a()}};i=n.createElement(u,{key:g(r),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:d,mode:c},r),v.set(o,i)}S.splice(s,0,i)})),S=S.map((e=>{const t=e.key;return v.has(t)?e:n.createElement(u,{key:g(e),isPresent:!0,presenceAffectsLayout:d,mode:c},e)})),n.createElement(n.Fragment,null,v.size?S:S.map((e=>(0,n.cloneElement)(e))))}},16893:(e,t,o)=>{o.d(t,{Y:()=>i});var n=o(67294),r=o(37301);const s={some:0,all:1};function i(e,{root:t,margin:o,amount:i,once:a=!1}={}){const[l,d]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(!e.current||a&&l)return;const n={root:t&&t.current||void 0,margin:o,amount:i};return function(e,t,{root:o,margin:n,amount:i="some"}={}){const a=(0,r.I)(e),l=new WeakMap,d=new IntersectionObserver((e=>{e.forEach((e=>{const o=l.get(e.target);if(e.isIntersecting!==Boolean(o))if(e.isIntersecting){const o=t(e);"function"==typeof o?l.set(e.target,o):d.unobserve(e.target)}else o&&(o(e),l.delete(e.target))}))}),{root:o,rootMargin:n,threshold:"number"==typeof i?i:s[i]});return a.forEach((e=>d.observe(e))),()=>d.disconnect()}(e.current,(()=>(d(!0),a?void 0:()=>d(!1))),n)}),[t,e,o,a,i]),l}}}]);